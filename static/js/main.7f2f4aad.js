/*! For license information please see main.7f2f4aad.js.LICENSE.txt */
!function(){"use strict";var e={557:function(e,t){var n,r=Symbol.for("react.element"),i=Symbol.for("react.portal"),a=Symbol.for("react.fragment"),o=Symbol.for("react.strict_mode"),u=Symbol.for("react.profiler"),s=Symbol.for("react.provider"),l=Symbol.for("react.context"),c=Symbol.for("react.server_context"),d=Symbol.for("react.forward_ref"),f=Symbol.for("react.suspense"),h=Symbol.for("react.suspense_list"),p=Symbol.for("react.memo"),v=Symbol.for("react.lazy"),m=Symbol.for("react.offscreen");function g(e){if("object"===typeof e&&null!==e){var t=e.$$typeof;switch(t){case r:switch(e=e.type){case a:case u:case o:case f:case h:return e;default:switch(e=e&&e.$$typeof){case c:case l:case d:case v:case p:case s:return e;default:return t}}case i:return t}}}n=Symbol.for("react.module.reference"),t.isContextConsumer=function(e){return g(e)===l}},765:function(e,t,n){e.exports=n(557)},110:function(e,t,n){var r=n(309),i={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},a={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},o={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},u={};function s(e){return r.isMemo(e)?o:u[e.$$typeof]||i}u[r.ForwardRef]={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},u[r.Memo]=o;var l=Object.defineProperty,c=Object.getOwnPropertyNames,d=Object.getOwnPropertySymbols,f=Object.getOwnPropertyDescriptor,h=Object.getPrototypeOf,p=Object.prototype;e.exports=function e(t,n,r){if("string"!==typeof n){if(p){var i=h(n);i&&i!==p&&e(t,i,r)}var o=c(n);d&&(o=o.concat(d(n)));for(var u=s(t),v=s(n),m=0;m<o.length;++m){var g=o[m];if(!a[g]&&(!r||!r[g])&&(!v||!v[g])&&(!u||!u[g])){var y=f(n,g);try{l(t,g,y)}catch(b){}}}}return t}},746:function(e,t){var n="function"===typeof Symbol&&Symbol.for,r=n?Symbol.for("react.element"):60103,i=n?Symbol.for("react.portal"):60106,a=n?Symbol.for("react.fragment"):60107,o=n?Symbol.for("react.strict_mode"):60108,u=n?Symbol.for("react.profiler"):60114,s=n?Symbol.for("react.provider"):60109,l=n?Symbol.for("react.context"):60110,c=n?Symbol.for("react.async_mode"):60111,d=n?Symbol.for("react.concurrent_mode"):60111,f=n?Symbol.for("react.forward_ref"):60112,h=n?Symbol.for("react.suspense"):60113,p=n?Symbol.for("react.suspense_list"):60120,v=n?Symbol.for("react.memo"):60115,m=n?Symbol.for("react.lazy"):60116,g=n?Symbol.for("react.block"):60121,y=n?Symbol.for("react.fundamental"):60117,b=n?Symbol.for("react.responder"):60118,_=n?Symbol.for("react.scope"):60119;function k(e){if("object"===typeof e&&null!==e){var t=e.$$typeof;switch(t){case r:switch(e=e.type){case c:case d:case a:case u:case o:case h:return e;default:switch(e=e&&e.$$typeof){case l:case f:case m:case v:case s:return e;default:return t}}case i:return t}}}function w(e){return k(e)===d}t.AsyncMode=c,t.ConcurrentMode=d,t.ContextConsumer=l,t.ContextProvider=s,t.Element=r,t.ForwardRef=f,t.Fragment=a,t.Lazy=m,t.Memo=v,t.Portal=i,t.Profiler=u,t.StrictMode=o,t.Suspense=h,t.isAsyncMode=function(e){return w(e)||k(e)===c},t.isConcurrentMode=w,t.isContextConsumer=function(e){return k(e)===l},t.isContextProvider=function(e){return k(e)===s},t.isElement=function(e){return"object"===typeof e&&null!==e&&e.$$typeof===r},t.isForwardRef=function(e){return k(e)===f},t.isFragment=function(e){return k(e)===a},t.isLazy=function(e){return k(e)===m},t.isMemo=function(e){return k(e)===v},t.isPortal=function(e){return k(e)===i},t.isProfiler=function(e){return k(e)===u},t.isStrictMode=function(e){return k(e)===o},t.isSuspense=function(e){return k(e)===h},t.isValidElementType=function(e){return"string"===typeof e||"function"===typeof e||e===a||e===d||e===u||e===o||e===h||e===p||"object"===typeof e&&null!==e&&(e.$$typeof===m||e.$$typeof===v||e.$$typeof===s||e.$$typeof===l||e.$$typeof===f||e.$$typeof===y||e.$$typeof===b||e.$$typeof===_||e.$$typeof===g)},t.typeOf=k},309:function(e,t,n){e.exports=n(746)},463:function(e,t,n){var r=n(791),i=n(296);function a(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var o=new Set,u={};function s(e,t){l(e,t),l(e+"Capture",t)}function l(e,t){for(u[e]=t,e=0;e<t.length;e++)o.add(t[e])}var c=!("undefined"===typeof window||"undefined"===typeof window.document||"undefined"===typeof window.document.createElement),d=Object.prototype.hasOwnProperty,f=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,h={},p={};function v(e,t,n,r,i,a,o){this.acceptsBooleans=2===t||3===t||4===t,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=a,this.removeEmptyString=o}var m={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach((function(e){m[e]=new v(e,0,!1,e,null,!1,!1)})),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach((function(e){var t=e[0];m[t]=new v(t,1,!1,e[1],null,!1,!1)})),["contentEditable","draggable","spellCheck","value"].forEach((function(e){m[e]=new v(e,2,!1,e.toLowerCase(),null,!1,!1)})),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach((function(e){m[e]=new v(e,2,!1,e,null,!1,!1)})),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach((function(e){m[e]=new v(e,3,!1,e.toLowerCase(),null,!1,!1)})),["checked","multiple","muted","selected"].forEach((function(e){m[e]=new v(e,3,!0,e,null,!1,!1)})),["capture","download"].forEach((function(e){m[e]=new v(e,4,!1,e,null,!1,!1)})),["cols","rows","size","span"].forEach((function(e){m[e]=new v(e,6,!1,e,null,!1,!1)})),["rowSpan","start"].forEach((function(e){m[e]=new v(e,5,!1,e.toLowerCase(),null,!1,!1)}));var g=/[\-:]([a-z])/g;function y(e){return e[1].toUpperCase()}function b(e,t,n,r){var i=m.hasOwnProperty(t)?m[t]:null;(null!==i?0!==i.type:r||!(2<t.length)||"o"!==t[0]&&"O"!==t[0]||"n"!==t[1]&&"N"!==t[1])&&(function(e,t,n,r){if(null===t||"undefined"===typeof t||function(e,t,n,r){if(null!==n&&0===n.type)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return!r&&(null!==n?!n.acceptsBooleans:"data-"!==(e=e.toLowerCase().slice(0,5))&&"aria-"!==e);default:return!1}}(e,t,n,r))return!0;if(r)return!1;if(null!==n)switch(n.type){case 3:return!t;case 4:return!1===t;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}(t,n,i,r)&&(n=null),r||null===i?function(e){return!!d.call(p,e)||!d.call(h,e)&&(f.test(e)?p[e]=!0:(h[e]=!0,!1))}(t)&&(null===n?e.removeAttribute(t):e.setAttribute(t,""+n)):i.mustUseProperty?e[i.propertyName]=null===n?3!==i.type&&"":n:(t=i.attributeName,r=i.attributeNamespace,null===n?e.removeAttribute(t):(n=3===(i=i.type)||4===i&&!0===n?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach((function(e){var t=e.replace(g,y);m[t]=new v(t,1,!1,e,null,!1,!1)})),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach((function(e){var t=e.replace(g,y);m[t]=new v(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)})),["xml:base","xml:lang","xml:space"].forEach((function(e){var t=e.replace(g,y);m[t]=new v(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)})),["tabIndex","crossOrigin"].forEach((function(e){m[e]=new v(e,1,!1,e.toLowerCase(),null,!1,!1)})),m.xlinkHref=new v("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach((function(e){m[e]=new v(e,1,!1,e.toLowerCase(),null,!0,!0)}));var _=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,k=Symbol.for("react.element"),w=Symbol.for("react.portal"),x=Symbol.for("react.fragment"),I=Symbol.for("react.strict_mode"),E=Symbol.for("react.profiler"),S=Symbol.for("react.provider"),C=Symbol.for("react.context"),T=Symbol.for("react.forward_ref"),P=Symbol.for("react.suspense"),N=Symbol.for("react.suspense_list"),R=Symbol.for("react.memo"),D=Symbol.for("react.lazy");Symbol.for("react.scope"),Symbol.for("react.debug_trace_mode");var A=Symbol.for("react.offscreen");Symbol.for("react.legacy_hidden"),Symbol.for("react.cache"),Symbol.for("react.tracing_marker");var O=Symbol.iterator;function L(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=O&&e[O]||e["@@iterator"])?e:null}var M,F=Object.assign;function U(e){if(void 0===M)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);M=t&&t[1]||""}return"\n"+M+e}var j=!1;function B(e,t){if(!e||j)return"";j=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),"object"===typeof Reflect&&Reflect.construct){try{Reflect.construct(t,[])}catch(l){var r=l}Reflect.construct(e,[],t)}else{try{t.call()}catch(l){r=l}e.call(t.prototype)}else{try{throw Error()}catch(l){r=l}e()}}catch(l){if(l&&r&&"string"===typeof l.stack){for(var i=l.stack.split("\n"),a=r.stack.split("\n"),o=i.length-1,u=a.length-1;1<=o&&0<=u&&i[o]!==a[u];)u--;for(;1<=o&&0<=u;o--,u--)if(i[o]!==a[u]){if(1!==o||1!==u)do{if(o--,0>--u||i[o]!==a[u]){var s="\n"+i[o].replace(" at new "," at ");return e.displayName&&s.includes("<anonymous>")&&(s=s.replace("<anonymous>",e.displayName)),s}}while(1<=o&&0<=u);break}}}finally{j=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?U(e):""}function z(e){switch(e.tag){case 5:return U(e.type);case 16:return U("Lazy");case 13:return U("Suspense");case 19:return U("SuspenseList");case 0:case 2:case 15:return e=B(e.type,!1);case 11:return e=B(e.type.render,!1);case 1:return e=B(e.type,!0);default:return""}}function W(e){if(null==e)return null;if("function"===typeof e)return e.displayName||e.name||null;if("string"===typeof e)return e;switch(e){case x:return"Fragment";case w:return"Portal";case E:return"Profiler";case I:return"StrictMode";case P:return"Suspense";case N:return"SuspenseList"}if("object"===typeof e)switch(e.$$typeof){case C:return(e.displayName||"Context")+".Consumer";case S:return(e._context.displayName||"Context")+".Provider";case T:var t=e.render;return(e=e.displayName)||(e=""!==(e=t.displayName||t.name||"")?"ForwardRef("+e+")":"ForwardRef"),e;case R:return null!==(t=e.displayName||null)?t:W(e.type)||"Memo";case D:t=e._payload,e=e._init;try{return W(e(t))}catch(n){}}return null}function q(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=(e=t.render).displayName||e.name||"",t.displayName||(""!==e?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return W(t);case 8:return t===I?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if("function"===typeof t)return t.displayName||t.name||null;if("string"===typeof t)return t}return null}function V(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":case"object":return e;default:return""}}function H(e){var t=e.type;return(e=e.nodeName)&&"input"===e.toLowerCase()&&("checkbox"===t||"radio"===t)}function G(e){e._valueTracker||(e._valueTracker=function(e){var t=H(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&"undefined"!==typeof n&&"function"===typeof n.get&&"function"===typeof n.set){var i=n.get,a=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return i.call(this)},set:function(e){r=""+e,a.call(this,e)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(e){r=""+e},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}(e))}function K(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=H(e)?e.checked?"true":"false":e.value),(e=r)!==n&&(t.setValue(e),!0)}function $(e){if("undefined"===typeof(e=e||("undefined"!==typeof document?document:void 0)))return null;try{return e.activeElement||e.body}catch(t){return e.body}}function Y(e,t){var n=t.checked;return F({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:null!=n?n:e._wrapperState.initialChecked})}function Q(e,t){var n=null==t.defaultValue?"":t.defaultValue,r=null!=t.checked?t.checked:t.defaultChecked;n=V(null!=t.value?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:"checkbox"===t.type||"radio"===t.type?null!=t.checked:null!=t.value}}function J(e,t){null!=(t=t.checked)&&b(e,"checked",t,!1)}function X(e,t){J(e,t);var n=V(t.value),r=t.type;if(null!=n)"number"===r?(0===n&&""===e.value||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if("submit"===r||"reset"===r)return void e.removeAttribute("value");t.hasOwnProperty("value")?ee(e,t.type,n):t.hasOwnProperty("defaultValue")&&ee(e,t.type,V(t.defaultValue)),null==t.checked&&null!=t.defaultChecked&&(e.defaultChecked=!!t.defaultChecked)}function Z(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!("submit"!==r&&"reset"!==r||void 0!==t.value&&null!==t.value))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}""!==(n=e.name)&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,""!==n&&(e.name=n)}function ee(e,t,n){"number"===t&&$(e.ownerDocument)===e||(null==n?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var te=Array.isArray;function ne(e,t,n,r){if(e=e.options,t){t={};for(var i=0;i<n.length;i++)t["$"+n[i]]=!0;for(n=0;n<e.length;n++)i=t.hasOwnProperty("$"+e[n].value),e[n].selected!==i&&(e[n].selected=i),i&&r&&(e[n].defaultSelected=!0)}else{for(n=""+V(n),t=null,i=0;i<e.length;i++){if(e[i].value===n)return e[i].selected=!0,void(r&&(e[i].defaultSelected=!0));null!==t||e[i].disabled||(t=e[i])}null!==t&&(t.selected=!0)}}function re(e,t){if(null!=t.dangerouslySetInnerHTML)throw Error(a(91));return F({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function ie(e,t){var n=t.value;if(null==n){if(n=t.children,t=t.defaultValue,null!=n){if(null!=t)throw Error(a(92));if(te(n)){if(1<n.length)throw Error(a(93));n=n[0]}t=n}null==t&&(t=""),n=t}e._wrapperState={initialValue:V(n)}}function ae(e,t){var n=V(t.value),r=V(t.defaultValue);null!=n&&((n=""+n)!==e.value&&(e.value=n),null==t.defaultValue&&e.defaultValue!==n&&(e.defaultValue=n)),null!=r&&(e.defaultValue=""+r)}function oe(e){var t=e.textContent;t===e._wrapperState.initialValue&&""!==t&&null!==t&&(e.value=t)}function ue(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function se(e,t){return null==e||"http://www.w3.org/1999/xhtml"===e?ue(t):"http://www.w3.org/2000/svg"===e&&"foreignObject"===t?"http://www.w3.org/1999/xhtml":e}var le,ce,de=(ce=function(e,t){if("http://www.w3.org/2000/svg"!==e.namespaceURI||"innerHTML"in e)e.innerHTML=t;else{for((le=le||document.createElement("div")).innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=le.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}},"undefined"!==typeof MSApp&&MSApp.execUnsafeLocalFunction?function(e,t,n,r){MSApp.execUnsafeLocalFunction((function(){return ce(e,t)}))}:ce);function fe(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&3===n.nodeType)return void(n.nodeValue=t)}e.textContent=t}var he={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},pe=["Webkit","ms","Moz","O"];function ve(e,t,n){return null==t||"boolean"===typeof t||""===t?"":n||"number"!==typeof t||0===t||he.hasOwnProperty(e)&&he[e]?(""+t).trim():t+"px"}function me(e,t){for(var n in e=e.style,t)if(t.hasOwnProperty(n)){var r=0===n.indexOf("--"),i=ve(n,t[n],r);"float"===n&&(n="cssFloat"),r?e.setProperty(n,i):e[n]=i}}Object.keys(he).forEach((function(e){pe.forEach((function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),he[t]=he[e]}))}));var ge=F({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function ye(e,t){if(t){if(ge[e]&&(null!=t.children||null!=t.dangerouslySetInnerHTML))throw Error(a(137,e));if(null!=t.dangerouslySetInnerHTML){if(null!=t.children)throw Error(a(60));if("object"!==typeof t.dangerouslySetInnerHTML||!("__html"in t.dangerouslySetInnerHTML))throw Error(a(61))}if(null!=t.style&&"object"!==typeof t.style)throw Error(a(62))}}function be(e,t){if(-1===e.indexOf("-"))return"string"===typeof t.is;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var _e=null;function ke(e){return(e=e.target||e.srcElement||window).correspondingUseElement&&(e=e.correspondingUseElement),3===e.nodeType?e.parentNode:e}var we=null,xe=null,Ie=null;function Ee(e){if(e=bi(e)){if("function"!==typeof we)throw Error(a(280));var t=e.stateNode;t&&(t=ki(t),we(e.stateNode,e.type,t))}}function Se(e){xe?Ie?Ie.push(e):Ie=[e]:xe=e}function Ce(){if(xe){var e=xe,t=Ie;if(Ie=xe=null,Ee(e),t)for(e=0;e<t.length;e++)Ee(t[e])}}function Te(e,t){return e(t)}function Pe(){}var Ne=!1;function Re(e,t,n){if(Ne)return e(t,n);Ne=!0;try{return Te(e,t,n)}finally{Ne=!1,(null!==xe||null!==Ie)&&(Pe(),Ce())}}function De(e,t){var n=e.stateNode;if(null===n)return null;var r=ki(n);if(null===r)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(r=!("button"===(e=e.type)||"input"===e||"select"===e||"textarea"===e)),e=!r;break e;default:e=!1}if(e)return null;if(n&&"function"!==typeof n)throw Error(a(231,t,typeof n));return n}var Ae=!1;if(c)try{var Oe={};Object.defineProperty(Oe,"passive",{get:function(){Ae=!0}}),window.addEventListener("test",Oe,Oe),window.removeEventListener("test",Oe,Oe)}catch(ce){Ae=!1}function Le(e,t,n,r,i,a,o,u,s){var l=Array.prototype.slice.call(arguments,3);try{t.apply(n,l)}catch(c){this.onError(c)}}var Me=!1,Fe=null,Ue=!1,je=null,Be={onError:function(e){Me=!0,Fe=e}};function ze(e,t,n,r,i,a,o,u,s){Me=!1,Fe=null,Le.apply(Be,arguments)}function We(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do{0!==(4098&(t=e).flags)&&(n=t.return),e=t.return}while(e)}return 3===t.tag?n:null}function qe(e){if(13===e.tag){var t=e.memoizedState;if(null===t&&(null!==(e=e.alternate)&&(t=e.memoizedState)),null!==t)return t.dehydrated}return null}function Ve(e){if(We(e)!==e)throw Error(a(188))}function He(e){return null!==(e=function(e){var t=e.alternate;if(!t){if(null===(t=We(e)))throw Error(a(188));return t!==e?null:e}for(var n=e,r=t;;){var i=n.return;if(null===i)break;var o=i.alternate;if(null===o){if(null!==(r=i.return)){n=r;continue}break}if(i.child===o.child){for(o=i.child;o;){if(o===n)return Ve(i),e;if(o===r)return Ve(i),t;o=o.sibling}throw Error(a(188))}if(n.return!==r.return)n=i,r=o;else{for(var u=!1,s=i.child;s;){if(s===n){u=!0,n=i,r=o;break}if(s===r){u=!0,r=i,n=o;break}s=s.sibling}if(!u){for(s=o.child;s;){if(s===n){u=!0,n=o,r=i;break}if(s===r){u=!0,r=o,n=i;break}s=s.sibling}if(!u)throw Error(a(189))}}if(n.alternate!==r)throw Error(a(190))}if(3!==n.tag)throw Error(a(188));return n.stateNode.current===n?e:t}(e))?Ge(e):null}function Ge(e){if(5===e.tag||6===e.tag)return e;for(e=e.child;null!==e;){var t=Ge(e);if(null!==t)return t;e=e.sibling}return null}var Ke=i.unstable_scheduleCallback,$e=i.unstable_cancelCallback,Ye=i.unstable_shouldYield,Qe=i.unstable_requestPaint,Je=i.unstable_now,Xe=i.unstable_getCurrentPriorityLevel,Ze=i.unstable_ImmediatePriority,et=i.unstable_UserBlockingPriority,tt=i.unstable_NormalPriority,nt=i.unstable_LowPriority,rt=i.unstable_IdlePriority,it=null,at=null;var ot=Math.clz32?Math.clz32:function(e){return 0===(e>>>=0)?32:31-(ut(e)/st|0)|0},ut=Math.log,st=Math.LN2;var lt=64,ct=4194304;function dt(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return 4194240&e;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return 130023424&e;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function ft(e,t){var n=e.pendingLanes;if(0===n)return 0;var r=0,i=e.suspendedLanes,a=e.pingedLanes,o=268435455&n;if(0!==o){var u=o&~i;0!==u?r=dt(u):0!==(a&=o)&&(r=dt(a))}else 0!==(o=n&~i)?r=dt(o):0!==a&&(r=dt(a));if(0===r)return 0;if(0!==t&&t!==r&&0===(t&i)&&((i=r&-r)>=(a=t&-t)||16===i&&0!==(4194240&a)))return t;if(0!==(4&r)&&(r|=16&n),0!==(t=e.entangledLanes))for(e=e.entanglements,t&=r;0<t;)i=1<<(n=31-ot(t)),r|=e[n],t&=~i;return r}function ht(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;default:return-1}}function pt(e){return 0!==(e=-1073741825&e.pendingLanes)?e:1073741824&e?1073741824:0}function vt(){var e=lt;return 0===(4194240&(lt<<=1))&&(lt=64),e}function mt(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function gt(e,t,n){e.pendingLanes|=t,536870912!==t&&(e.suspendedLanes=0,e.pingedLanes=0),(e=e.eventTimes)[t=31-ot(t)]=n}function yt(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-ot(n),i=1<<r;i&t|e[r]&t&&(e[r]|=t),n&=~i}}var bt=0;function _t(e){return 1<(e&=-e)?4<e?0!==(268435455&e)?16:536870912:4:1}var kt,wt,xt,It,Et,St=!1,Ct=[],Tt=null,Pt=null,Nt=null,Rt=new Map,Dt=new Map,At=[],Ot="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Lt(e,t){switch(e){case"focusin":case"focusout":Tt=null;break;case"dragenter":case"dragleave":Pt=null;break;case"mouseover":case"mouseout":Nt=null;break;case"pointerover":case"pointerout":Rt.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Dt.delete(t.pointerId)}}function Mt(e,t,n,r,i,a){return null===e||e.nativeEvent!==a?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:a,targetContainers:[i]},null!==t&&(null!==(t=bi(t))&&wt(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,null!==i&&-1===t.indexOf(i)&&t.push(i),e)}function Ft(e){var t=yi(e.target);if(null!==t){var n=We(t);if(null!==n)if(13===(t=n.tag)){if(null!==(t=qe(n)))return e.blockedOn=t,void Et(e.priority,(function(){xt(n)}))}else if(3===t&&n.stateNode.current.memoizedState.isDehydrated)return void(e.blockedOn=3===n.tag?n.stateNode.containerInfo:null)}e.blockedOn=null}function Ut(e){if(null!==e.blockedOn)return!1;for(var t=e.targetContainers;0<t.length;){var n=Yt(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(null!==n)return null!==(t=bi(n))&&wt(t),e.blockedOn=n,!1;var r=new(n=e.nativeEvent).constructor(n.type,n);_e=r,n.target.dispatchEvent(r),_e=null,t.shift()}return!0}function jt(e,t,n){Ut(e)&&n.delete(t)}function Bt(){St=!1,null!==Tt&&Ut(Tt)&&(Tt=null),null!==Pt&&Ut(Pt)&&(Pt=null),null!==Nt&&Ut(Nt)&&(Nt=null),Rt.forEach(jt),Dt.forEach(jt)}function zt(e,t){e.blockedOn===t&&(e.blockedOn=null,St||(St=!0,i.unstable_scheduleCallback(i.unstable_NormalPriority,Bt)))}function Wt(e){function t(t){return zt(t,e)}if(0<Ct.length){zt(Ct[0],e);for(var n=1;n<Ct.length;n++){var r=Ct[n];r.blockedOn===e&&(r.blockedOn=null)}}for(null!==Tt&&zt(Tt,e),null!==Pt&&zt(Pt,e),null!==Nt&&zt(Nt,e),Rt.forEach(t),Dt.forEach(t),n=0;n<At.length;n++)(r=At[n]).blockedOn===e&&(r.blockedOn=null);for(;0<At.length&&null===(n=At[0]).blockedOn;)Ft(n),null===n.blockedOn&&At.shift()}var qt=_.ReactCurrentBatchConfig,Vt=!0;function Ht(e,t,n,r){var i=bt,a=qt.transition;qt.transition=null;try{bt=1,Kt(e,t,n,r)}finally{bt=i,qt.transition=a}}function Gt(e,t,n,r){var i=bt,a=qt.transition;qt.transition=null;try{bt=4,Kt(e,t,n,r)}finally{bt=i,qt.transition=a}}function Kt(e,t,n,r){if(Vt){var i=Yt(e,t,n,r);if(null===i)Vr(e,t,r,$t,n),Lt(e,r);else if(function(e,t,n,r,i){switch(t){case"focusin":return Tt=Mt(Tt,e,t,n,r,i),!0;case"dragenter":return Pt=Mt(Pt,e,t,n,r,i),!0;case"mouseover":return Nt=Mt(Nt,e,t,n,r,i),!0;case"pointerover":var a=i.pointerId;return Rt.set(a,Mt(Rt.get(a)||null,e,t,n,r,i)),!0;case"gotpointercapture":return a=i.pointerId,Dt.set(a,Mt(Dt.get(a)||null,e,t,n,r,i)),!0}return!1}(i,e,t,n,r))r.stopPropagation();else if(Lt(e,r),4&t&&-1<Ot.indexOf(e)){for(;null!==i;){var a=bi(i);if(null!==a&&kt(a),null===(a=Yt(e,t,n,r))&&Vr(e,t,r,$t,n),a===i)break;i=a}null!==i&&r.stopPropagation()}else Vr(e,t,r,null,n)}}var $t=null;function Yt(e,t,n,r){if($t=null,null!==(e=yi(e=ke(r))))if(null===(t=We(e)))e=null;else if(13===(n=t.tag)){if(null!==(e=qe(t)))return e;e=null}else if(3===n){if(t.stateNode.current.memoizedState.isDehydrated)return 3===t.tag?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return $t=e,null}function Qt(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Xe()){case Ze:return 1;case et:return 4;case tt:case nt:return 16;case rt:return 536870912;default:return 16}default:return 16}}var Jt=null,Xt=null,Zt=null;function en(){if(Zt)return Zt;var e,t,n=Xt,r=n.length,i="value"in Jt?Jt.value:Jt.textContent,a=i.length;for(e=0;e<r&&n[e]===i[e];e++);var o=r-e;for(t=1;t<=o&&n[r-t]===i[a-t];t++);return Zt=i.slice(e,1<t?1-t:void 0)}function tn(e){var t=e.keyCode;return"charCode"in e?0===(e=e.charCode)&&13===t&&(e=13):e=t,10===e&&(e=13),32<=e||13===e?e:0}function nn(){return!0}function rn(){return!1}function an(e){function t(t,n,r,i,a){for(var o in this._reactName=t,this._targetInst=r,this.type=n,this.nativeEvent=i,this.target=a,this.currentTarget=null,e)e.hasOwnProperty(o)&&(t=e[o],this[o]=t?t(i):i[o]);return this.isDefaultPrevented=(null!=i.defaultPrevented?i.defaultPrevented:!1===i.returnValue)?nn:rn,this.isPropagationStopped=rn,this}return F(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var e=this.nativeEvent;e&&(e.preventDefault?e.preventDefault():"unknown"!==typeof e.returnValue&&(e.returnValue=!1),this.isDefaultPrevented=nn)},stopPropagation:function(){var e=this.nativeEvent;e&&(e.stopPropagation?e.stopPropagation():"unknown"!==typeof e.cancelBubble&&(e.cancelBubble=!0),this.isPropagationStopped=nn)},persist:function(){},isPersistent:nn}),t}var on,un,sn,ln={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},cn=an(ln),dn=F({},ln,{view:0,detail:0}),fn=an(dn),hn=F({},dn,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:En,button:0,buttons:0,relatedTarget:function(e){return void 0===e.relatedTarget?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==sn&&(sn&&"mousemove"===e.type?(on=e.screenX-sn.screenX,un=e.screenY-sn.screenY):un=on=0,sn=e),on)},movementY:function(e){return"movementY"in e?e.movementY:un}}),pn=an(hn),vn=an(F({},hn,{dataTransfer:0})),mn=an(F({},dn,{relatedTarget:0})),gn=an(F({},ln,{animationName:0,elapsedTime:0,pseudoElement:0})),yn=F({},ln,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),bn=an(yn),_n=an(F({},ln,{data:0})),kn={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},wn={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},xn={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function In(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):!!(e=xn[e])&&!!t[e]}function En(){return In}var Sn=F({},dn,{key:function(e){if(e.key){var t=kn[e.key]||e.key;if("Unidentified"!==t)return t}return"keypress"===e.type?13===(e=tn(e))?"Enter":String.fromCharCode(e):"keydown"===e.type||"keyup"===e.type?wn[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:En,charCode:function(e){return"keypress"===e.type?tn(e):0},keyCode:function(e){return"keydown"===e.type||"keyup"===e.type?e.keyCode:0},which:function(e){return"keypress"===e.type?tn(e):"keydown"===e.type||"keyup"===e.type?e.keyCode:0}}),Cn=an(Sn),Tn=an(F({},hn,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0})),Pn=an(F({},dn,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:En})),Nn=an(F({},ln,{propertyName:0,elapsedTime:0,pseudoElement:0})),Rn=F({},hn,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),Dn=an(Rn),An=[9,13,27,32],On=c&&"CompositionEvent"in window,Ln=null;c&&"documentMode"in document&&(Ln=document.documentMode);var Mn=c&&"TextEvent"in window&&!Ln,Fn=c&&(!On||Ln&&8<Ln&&11>=Ln),Un=String.fromCharCode(32),jn=!1;function Bn(e,t){switch(e){case"keyup":return-1!==An.indexOf(t.keyCode);case"keydown":return 229!==t.keyCode;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function zn(e){return"object"===typeof(e=e.detail)&&"data"in e?e.data:null}var Wn=!1;var qn={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Vn(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return"input"===t?!!qn[e.type]:"textarea"===t}function Hn(e,t,n,r){Se(r),0<(t=Gr(t,"onChange")).length&&(n=new cn("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var Gn=null,Kn=null;function $n(e){Ur(e,0)}function Yn(e){if(K(_i(e)))return e}function Qn(e,t){if("change"===e)return t}var Jn=!1;if(c){var Xn;if(c){var Zn="oninput"in document;if(!Zn){var er=document.createElement("div");er.setAttribute("oninput","return;"),Zn="function"===typeof er.oninput}Xn=Zn}else Xn=!1;Jn=Xn&&(!document.documentMode||9<document.documentMode)}function tr(){Gn&&(Gn.detachEvent("onpropertychange",nr),Kn=Gn=null)}function nr(e){if("value"===e.propertyName&&Yn(Kn)){var t=[];Hn(t,Kn,e,ke(e)),Re($n,t)}}function rr(e,t,n){"focusin"===e?(tr(),Kn=n,(Gn=t).attachEvent("onpropertychange",nr)):"focusout"===e&&tr()}function ir(e){if("selectionchange"===e||"keyup"===e||"keydown"===e)return Yn(Kn)}function ar(e,t){if("click"===e)return Yn(t)}function or(e,t){if("input"===e||"change"===e)return Yn(t)}var ur="function"===typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e===1/t)||e!==e&&t!==t};function sr(e,t){if(ur(e,t))return!0;if("object"!==typeof e||null===e||"object"!==typeof t||null===t)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!d.call(t,i)||!ur(e[i],t[i]))return!1}return!0}function lr(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function cr(e,t){var n,r=lr(e);for(e=0;r;){if(3===r.nodeType){if(n=e+r.textContent.length,e<=t&&n>=t)return{node:r,offset:t-e};e=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=lr(r)}}function dr(e,t){return!(!e||!t)&&(e===t||(!e||3!==e.nodeType)&&(t&&3===t.nodeType?dr(e,t.parentNode):"contains"in e?e.contains(t):!!e.compareDocumentPosition&&!!(16&e.compareDocumentPosition(t))))}function fr(){for(var e=window,t=$();t instanceof e.HTMLIFrameElement;){try{var n="string"===typeof t.contentWindow.location.href}catch(r){n=!1}if(!n)break;t=$((e=t.contentWindow).document)}return t}function hr(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&("input"===t&&("text"===e.type||"search"===e.type||"tel"===e.type||"url"===e.type||"password"===e.type)||"textarea"===t||"true"===e.contentEditable)}function pr(e){var t=fr(),n=e.focusedElem,r=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&dr(n.ownerDocument.documentElement,n)){if(null!==r&&hr(n))if(t=r.start,void 0===(e=r.end)&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if((e=(t=n.ownerDocument||document)&&t.defaultView||window).getSelection){e=e.getSelection();var i=n.textContent.length,a=Math.min(r.start,i);r=void 0===r.end?a:Math.min(r.end,i),!e.extend&&a>r&&(i=r,r=a,a=i),i=cr(n,a);var o=cr(n,r);i&&o&&(1!==e.rangeCount||e.anchorNode!==i.node||e.anchorOffset!==i.offset||e.focusNode!==o.node||e.focusOffset!==o.offset)&&((t=t.createRange()).setStart(i.node,i.offset),e.removeAllRanges(),a>r?(e.addRange(t),e.extend(o.node,o.offset)):(t.setEnd(o.node,o.offset),e.addRange(t)))}for(t=[],e=n;e=e.parentNode;)1===e.nodeType&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for("function"===typeof n.focus&&n.focus(),n=0;n<t.length;n++)(e=t[n]).element.scrollLeft=e.left,e.element.scrollTop=e.top}}var vr=c&&"documentMode"in document&&11>=document.documentMode,mr=null,gr=null,yr=null,br=!1;function _r(e,t,n){var r=n.window===n?n.document:9===n.nodeType?n:n.ownerDocument;br||null==mr||mr!==$(r)||("selectionStart"in(r=mr)&&hr(r)?r={start:r.selectionStart,end:r.selectionEnd}:r={anchorNode:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection()).anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset},yr&&sr(yr,r)||(yr=r,0<(r=Gr(gr,"onSelect")).length&&(t=new cn("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=mr)))}function kr(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var wr={animationend:kr("Animation","AnimationEnd"),animationiteration:kr("Animation","AnimationIteration"),animationstart:kr("Animation","AnimationStart"),transitionend:kr("Transition","TransitionEnd")},xr={},Ir={};function Er(e){if(xr[e])return xr[e];if(!wr[e])return e;var t,n=wr[e];for(t in n)if(n.hasOwnProperty(t)&&t in Ir)return xr[e]=n[t];return e}c&&(Ir=document.createElement("div").style,"AnimationEvent"in window||(delete wr.animationend.animation,delete wr.animationiteration.animation,delete wr.animationstart.animation),"TransitionEvent"in window||delete wr.transitionend.transition);var Sr=Er("animationend"),Cr=Er("animationiteration"),Tr=Er("animationstart"),Pr=Er("transitionend"),Nr=new Map,Rr="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Dr(e,t){Nr.set(e,t),s(t,[e])}for(var Ar=0;Ar<Rr.length;Ar++){var Or=Rr[Ar];Dr(Or.toLowerCase(),"on"+(Or[0].toUpperCase()+Or.slice(1)))}Dr(Sr,"onAnimationEnd"),Dr(Cr,"onAnimationIteration"),Dr(Tr,"onAnimationStart"),Dr("dblclick","onDoubleClick"),Dr("focusin","onFocus"),Dr("focusout","onBlur"),Dr(Pr,"onTransitionEnd"),l("onMouseEnter",["mouseout","mouseover"]),l("onMouseLeave",["mouseout","mouseover"]),l("onPointerEnter",["pointerout","pointerover"]),l("onPointerLeave",["pointerout","pointerover"]),s("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),s("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),s("onBeforeInput",["compositionend","keypress","textInput","paste"]),s("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),s("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),s("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Lr="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Mr=new Set("cancel close invalid load scroll toggle".split(" ").concat(Lr));function Fr(e,t,n){var r=e.type||"unknown-event";e.currentTarget=n,function(e,t,n,r,i,o,u,s,l){if(ze.apply(this,arguments),Me){if(!Me)throw Error(a(198));var c=Fe;Me=!1,Fe=null,Ue||(Ue=!0,je=c)}}(r,t,void 0,e),e.currentTarget=null}function Ur(e,t){t=0!==(4&t);for(var n=0;n<e.length;n++){var r=e[n],i=r.event;r=r.listeners;e:{var a=void 0;if(t)for(var o=r.length-1;0<=o;o--){var u=r[o],s=u.instance,l=u.currentTarget;if(u=u.listener,s!==a&&i.isPropagationStopped())break e;Fr(i,u,l),a=s}else for(o=0;o<r.length;o++){if(s=(u=r[o]).instance,l=u.currentTarget,u=u.listener,s!==a&&i.isPropagationStopped())break e;Fr(i,u,l),a=s}}}if(Ue)throw e=je,Ue=!1,je=null,e}function jr(e,t){var n=t[vi];void 0===n&&(n=t[vi]=new Set);var r=e+"__bubble";n.has(r)||(qr(t,e,2,!1),n.add(r))}function Br(e,t,n){var r=0;t&&(r|=4),qr(n,e,r,t)}var zr="_reactListening"+Math.random().toString(36).slice(2);function Wr(e){if(!e[zr]){e[zr]=!0,o.forEach((function(t){"selectionchange"!==t&&(Mr.has(t)||Br(t,!1,e),Br(t,!0,e))}));var t=9===e.nodeType?e:e.ownerDocument;null===t||t[zr]||(t[zr]=!0,Br("selectionchange",!1,t))}}function qr(e,t,n,r){switch(Qt(t)){case 1:var i=Ht;break;case 4:i=Gt;break;default:i=Kt}n=i.bind(null,t,n,e),i=void 0,!Ae||"touchstart"!==t&&"touchmove"!==t&&"wheel"!==t||(i=!0),r?void 0!==i?e.addEventListener(t,n,{capture:!0,passive:i}):e.addEventListener(t,n,!0):void 0!==i?e.addEventListener(t,n,{passive:i}):e.addEventListener(t,n,!1)}function Vr(e,t,n,r,i){var a=r;if(0===(1&t)&&0===(2&t)&&null!==r)e:for(;;){if(null===r)return;var o=r.tag;if(3===o||4===o){var u=r.stateNode.containerInfo;if(u===i||8===u.nodeType&&u.parentNode===i)break;if(4===o)for(o=r.return;null!==o;){var s=o.tag;if((3===s||4===s)&&((s=o.stateNode.containerInfo)===i||8===s.nodeType&&s.parentNode===i))return;o=o.return}for(;null!==u;){if(null===(o=yi(u)))return;if(5===(s=o.tag)||6===s){r=a=o;continue e}u=u.parentNode}}r=r.return}Re((function(){var r=a,i=ke(n),o=[];e:{var u=Nr.get(e);if(void 0!==u){var s=cn,l=e;switch(e){case"keypress":if(0===tn(n))break e;case"keydown":case"keyup":s=Cn;break;case"focusin":l="focus",s=mn;break;case"focusout":l="blur",s=mn;break;case"beforeblur":case"afterblur":s=mn;break;case"click":if(2===n.button)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":s=pn;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":s=vn;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":s=Pn;break;case Sr:case Cr:case Tr:s=gn;break;case Pr:s=Nn;break;case"scroll":s=fn;break;case"wheel":s=Dn;break;case"copy":case"cut":case"paste":s=bn;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":s=Tn}var c=0!==(4&t),d=!c&&"scroll"===e,f=c?null!==u?u+"Capture":null:u;c=[];for(var h,p=r;null!==p;){var v=(h=p).stateNode;if(5===h.tag&&null!==v&&(h=v,null!==f&&(null!=(v=De(p,f))&&c.push(Hr(p,v,h)))),d)break;p=p.return}0<c.length&&(u=new s(u,l,null,n,i),o.push({event:u,listeners:c}))}}if(0===(7&t)){if(s="mouseout"===e||"pointerout"===e,(!(u="mouseover"===e||"pointerover"===e)||n===_e||!(l=n.relatedTarget||n.fromElement)||!yi(l)&&!l[pi])&&(s||u)&&(u=i.window===i?i:(u=i.ownerDocument)?u.defaultView||u.parentWindow:window,s?(s=r,null!==(l=(l=n.relatedTarget||n.toElement)?yi(l):null)&&(l!==(d=We(l))||5!==l.tag&&6!==l.tag)&&(l=null)):(s=null,l=r),s!==l)){if(c=pn,v="onMouseLeave",f="onMouseEnter",p="mouse","pointerout"!==e&&"pointerover"!==e||(c=Tn,v="onPointerLeave",f="onPointerEnter",p="pointer"),d=null==s?u:_i(s),h=null==l?u:_i(l),(u=new c(v,p+"leave",s,n,i)).target=d,u.relatedTarget=h,v=null,yi(i)===r&&((c=new c(f,p+"enter",l,n,i)).target=h,c.relatedTarget=d,v=c),d=v,s&&l)e:{for(f=l,p=0,h=c=s;h;h=Kr(h))p++;for(h=0,v=f;v;v=Kr(v))h++;for(;0<p-h;)c=Kr(c),p--;for(;0<h-p;)f=Kr(f),h--;for(;p--;){if(c===f||null!==f&&c===f.alternate)break e;c=Kr(c),f=Kr(f)}c=null}else c=null;null!==s&&$r(o,u,s,c,!1),null!==l&&null!==d&&$r(o,d,l,c,!0)}if("select"===(s=(u=r?_i(r):window).nodeName&&u.nodeName.toLowerCase())||"input"===s&&"file"===u.type)var m=Qn;else if(Vn(u))if(Jn)m=or;else{m=ir;var g=rr}else(s=u.nodeName)&&"input"===s.toLowerCase()&&("checkbox"===u.type||"radio"===u.type)&&(m=ar);switch(m&&(m=m(e,r))?Hn(o,m,n,i):(g&&g(e,u,r),"focusout"===e&&(g=u._wrapperState)&&g.controlled&&"number"===u.type&&ee(u,"number",u.value)),g=r?_i(r):window,e){case"focusin":(Vn(g)||"true"===g.contentEditable)&&(mr=g,gr=r,yr=null);break;case"focusout":yr=gr=mr=null;break;case"mousedown":br=!0;break;case"contextmenu":case"mouseup":case"dragend":br=!1,_r(o,n,i);break;case"selectionchange":if(vr)break;case"keydown":case"keyup":_r(o,n,i)}var y;if(On)e:{switch(e){case"compositionstart":var b="onCompositionStart";break e;case"compositionend":b="onCompositionEnd";break e;case"compositionupdate":b="onCompositionUpdate";break e}b=void 0}else Wn?Bn(e,n)&&(b="onCompositionEnd"):"keydown"===e&&229===n.keyCode&&(b="onCompositionStart");b&&(Fn&&"ko"!==n.locale&&(Wn||"onCompositionStart"!==b?"onCompositionEnd"===b&&Wn&&(y=en()):(Xt="value"in(Jt=i)?Jt.value:Jt.textContent,Wn=!0)),0<(g=Gr(r,b)).length&&(b=new _n(b,e,null,n,i),o.push({event:b,listeners:g}),y?b.data=y:null!==(y=zn(n))&&(b.data=y))),(y=Mn?function(e,t){switch(e){case"compositionend":return zn(t);case"keypress":return 32!==t.which?null:(jn=!0,Un);case"textInput":return(e=t.data)===Un&&jn?null:e;default:return null}}(e,n):function(e,t){if(Wn)return"compositionend"===e||!On&&Bn(e,t)?(e=en(),Zt=Xt=Jt=null,Wn=!1,e):null;switch(e){case"paste":default:return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Fn&&"ko"!==t.locale?null:t.data}}(e,n))&&(0<(r=Gr(r,"onBeforeInput")).length&&(i=new _n("onBeforeInput","beforeinput",null,n,i),o.push({event:i,listeners:r}),i.data=y))}Ur(o,t)}))}function Hr(e,t,n){return{instance:e,listener:t,currentTarget:n}}function Gr(e,t){for(var n=t+"Capture",r=[];null!==e;){var i=e,a=i.stateNode;5===i.tag&&null!==a&&(i=a,null!=(a=De(e,n))&&r.unshift(Hr(e,a,i)),null!=(a=De(e,t))&&r.push(Hr(e,a,i))),e=e.return}return r}function Kr(e){if(null===e)return null;do{e=e.return}while(e&&5!==e.tag);return e||null}function $r(e,t,n,r,i){for(var a=t._reactName,o=[];null!==n&&n!==r;){var u=n,s=u.alternate,l=u.stateNode;if(null!==s&&s===r)break;5===u.tag&&null!==l&&(u=l,i?null!=(s=De(n,a))&&o.unshift(Hr(n,s,u)):i||null!=(s=De(n,a))&&o.push(Hr(n,s,u))),n=n.return}0!==o.length&&e.push({event:t,listeners:o})}var Yr=/\r\n?/g,Qr=/\u0000|\uFFFD/g;function Jr(e){return("string"===typeof e?e:""+e).replace(Yr,"\n").replace(Qr,"")}function Xr(e,t,n){if(t=Jr(t),Jr(e)!==t&&n)throw Error(a(425))}function Zr(){}var ei=null,ti=null;function ni(e,t){return"textarea"===e||"noscript"===e||"string"===typeof t.children||"number"===typeof t.children||"object"===typeof t.dangerouslySetInnerHTML&&null!==t.dangerouslySetInnerHTML&&null!=t.dangerouslySetInnerHTML.__html}var ri="function"===typeof setTimeout?setTimeout:void 0,ii="function"===typeof clearTimeout?clearTimeout:void 0,ai="function"===typeof Promise?Promise:void 0,oi="function"===typeof queueMicrotask?queueMicrotask:"undefined"!==typeof ai?function(e){return ai.resolve(null).then(e).catch(ui)}:ri;function ui(e){setTimeout((function(){throw e}))}function si(e,t){var n=t,r=0;do{var i=n.nextSibling;if(e.removeChild(n),i&&8===i.nodeType)if("/$"===(n=i.data)){if(0===r)return e.removeChild(i),void Wt(t);r--}else"$"!==n&&"$?"!==n&&"$!"!==n||r++;n=i}while(n);Wt(t)}function li(e){for(;null!=e;e=e.nextSibling){var t=e.nodeType;if(1===t||3===t)break;if(8===t){if("$"===(t=e.data)||"$!"===t||"$?"===t)break;if("/$"===t)return null}}return e}function ci(e){e=e.previousSibling;for(var t=0;e;){if(8===e.nodeType){var n=e.data;if("$"===n||"$!"===n||"$?"===n){if(0===t)return e;t--}else"/$"===n&&t++}e=e.previousSibling}return null}var di=Math.random().toString(36).slice(2),fi="__reactFiber$"+di,hi="__reactProps$"+di,pi="__reactContainer$"+di,vi="__reactEvents$"+di,mi="__reactListeners$"+di,gi="__reactHandles$"+di;function yi(e){var t=e[fi];if(t)return t;for(var n=e.parentNode;n;){if(t=n[pi]||n[fi]){if(n=t.alternate,null!==t.child||null!==n&&null!==n.child)for(e=ci(e);null!==e;){if(n=e[fi])return n;e=ci(e)}return t}n=(e=n).parentNode}return null}function bi(e){return!(e=e[fi]||e[pi])||5!==e.tag&&6!==e.tag&&13!==e.tag&&3!==e.tag?null:e}function _i(e){if(5===e.tag||6===e.tag)return e.stateNode;throw Error(a(33))}function ki(e){return e[hi]||null}var wi=[],xi=-1;function Ii(e){return{current:e}}function Ei(e){0>xi||(e.current=wi[xi],wi[xi]=null,xi--)}function Si(e,t){xi++,wi[xi]=e.current,e.current=t}var Ci={},Ti=Ii(Ci),Pi=Ii(!1),Ni=Ci;function Ri(e,t){var n=e.type.contextTypes;if(!n)return Ci;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var i,a={};for(i in n)a[i]=t[i];return r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=a),a}function Di(e){return null!==(e=e.childContextTypes)&&void 0!==e}function Ai(){Ei(Pi),Ei(Ti)}function Oi(e,t,n){if(Ti.current!==Ci)throw Error(a(168));Si(Ti,t),Si(Pi,n)}function Li(e,t,n){var r=e.stateNode;if(t=t.childContextTypes,"function"!==typeof r.getChildContext)return n;for(var i in r=r.getChildContext())if(!(i in t))throw Error(a(108,q(e)||"Unknown",i));return F({},n,r)}function Mi(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||Ci,Ni=Ti.current,Si(Ti,e),Si(Pi,Pi.current),!0}function Fi(e,t,n){var r=e.stateNode;if(!r)throw Error(a(169));n?(e=Li(e,t,Ni),r.__reactInternalMemoizedMergedChildContext=e,Ei(Pi),Ei(Ti),Si(Ti,e)):Ei(Pi),Si(Pi,n)}var Ui=null,ji=!1,Bi=!1;function zi(e){null===Ui?Ui=[e]:Ui.push(e)}function Wi(){if(!Bi&&null!==Ui){Bi=!0;var e=0,t=bt;try{var n=Ui;for(bt=1;e<n.length;e++){var r=n[e];do{r=r(!0)}while(null!==r)}Ui=null,ji=!1}catch(i){throw null!==Ui&&(Ui=Ui.slice(e+1)),Ke(Ze,Wi),i}finally{bt=t,Bi=!1}}return null}var qi=[],Vi=0,Hi=null,Gi=0,Ki=[],$i=0,Yi=null,Qi=1,Ji="";function Xi(e,t){qi[Vi++]=Gi,qi[Vi++]=Hi,Hi=e,Gi=t}function Zi(e,t,n){Ki[$i++]=Qi,Ki[$i++]=Ji,Ki[$i++]=Yi,Yi=e;var r=Qi;e=Ji;var i=32-ot(r)-1;r&=~(1<<i),n+=1;var a=32-ot(t)+i;if(30<a){var o=i-i%5;a=(r&(1<<o)-1).toString(32),r>>=o,i-=o,Qi=1<<32-ot(t)+i|n<<i|r,Ji=a+e}else Qi=1<<a|n<<i|r,Ji=e}function ea(e){null!==e.return&&(Xi(e,1),Zi(e,1,0))}function ta(e){for(;e===Hi;)Hi=qi[--Vi],qi[Vi]=null,Gi=qi[--Vi],qi[Vi]=null;for(;e===Yi;)Yi=Ki[--$i],Ki[$i]=null,Ji=Ki[--$i],Ki[$i]=null,Qi=Ki[--$i],Ki[$i]=null}var na=null,ra=null,ia=!1,aa=null;function oa(e,t){var n=Rl(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,null===(t=e.deletions)?(e.deletions=[n],e.flags|=16):t.push(n)}function ua(e,t){switch(e.tag){case 5:var n=e.type;return null!==(t=1!==t.nodeType||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t)&&(e.stateNode=t,na=e,ra=li(t.firstChild),!0);case 6:return null!==(t=""===e.pendingProps||3!==t.nodeType?null:t)&&(e.stateNode=t,na=e,ra=null,!0);case 13:return null!==(t=8!==t.nodeType?null:t)&&(n=null!==Yi?{id:Qi,overflow:Ji}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},(n=Rl(18,null,null,0)).stateNode=t,n.return=e,e.child=n,na=e,ra=null,!0);default:return!1}}function sa(e){return 0!==(1&e.mode)&&0===(128&e.flags)}function la(e){if(ia){var t=ra;if(t){var n=t;if(!ua(e,t)){if(sa(e))throw Error(a(418));t=li(n.nextSibling);var r=na;t&&ua(e,t)?oa(r,n):(e.flags=-4097&e.flags|2,ia=!1,na=e)}}else{if(sa(e))throw Error(a(418));e.flags=-4097&e.flags|2,ia=!1,na=e}}}function ca(e){for(e=e.return;null!==e&&5!==e.tag&&3!==e.tag&&13!==e.tag;)e=e.return;na=e}function da(e){if(e!==na)return!1;if(!ia)return ca(e),ia=!0,!1;var t;if((t=3!==e.tag)&&!(t=5!==e.tag)&&(t="head"!==(t=e.type)&&"body"!==t&&!ni(e.type,e.memoizedProps)),t&&(t=ra)){if(sa(e))throw fa(),Error(a(418));for(;t;)oa(e,t),t=li(t.nextSibling)}if(ca(e),13===e.tag){if(!(e=null!==(e=e.memoizedState)?e.dehydrated:null))throw Error(a(317));e:{for(e=e.nextSibling,t=0;e;){if(8===e.nodeType){var n=e.data;if("/$"===n){if(0===t){ra=li(e.nextSibling);break e}t--}else"$"!==n&&"$!"!==n&&"$?"!==n||t++}e=e.nextSibling}ra=null}}else ra=na?li(e.stateNode.nextSibling):null;return!0}function fa(){for(var e=ra;e;)e=li(e.nextSibling)}function ha(){ra=na=null,ia=!1}function pa(e){null===aa?aa=[e]:aa.push(e)}var va=_.ReactCurrentBatchConfig;function ma(e,t){if(e&&e.defaultProps){for(var n in t=F({},t),e=e.defaultProps)void 0===t[n]&&(t[n]=e[n]);return t}return t}var ga=Ii(null),ya=null,ba=null,_a=null;function ka(){_a=ba=ya=null}function wa(e){var t=ga.current;Ei(ga),e._currentValue=t}function xa(e,t,n){for(;null!==e;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,null!==r&&(r.childLanes|=t)):null!==r&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function Ia(e,t){ya=e,_a=ba=null,null!==(e=e.dependencies)&&null!==e.firstContext&&(0!==(e.lanes&t)&&(_u=!0),e.firstContext=null)}function Ea(e){var t=e._currentValue;if(_a!==e)if(e={context:e,memoizedValue:t,next:null},null===ba){if(null===ya)throw Error(a(308));ba=e,ya.dependencies={lanes:0,firstContext:e}}else ba=ba.next=e;return t}var Sa=null;function Ca(e){null===Sa?Sa=[e]:Sa.push(e)}function Ta(e,t,n,r){var i=t.interleaved;return null===i?(n.next=n,Ca(t)):(n.next=i.next,i.next=n),t.interleaved=n,Pa(e,r)}function Pa(e,t){e.lanes|=t;var n=e.alternate;for(null!==n&&(n.lanes|=t),n=e,e=e.return;null!==e;)e.childLanes|=t,null!==(n=e.alternate)&&(n.childLanes|=t),n=e,e=e.return;return 3===n.tag?n.stateNode:null}var Na=!1;function Ra(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Da(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function Aa(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function Oa(e,t,n){var r=e.updateQueue;if(null===r)return null;if(r=r.shared,0!==(2&Ts)){var i=r.pending;return null===i?t.next=t:(t.next=i.next,i.next=t),r.pending=t,Pa(e,n)}return null===(i=r.interleaved)?(t.next=t,Ca(r)):(t.next=i.next,i.next=t),r.interleaved=t,Pa(e,n)}function La(e,t,n){if(null!==(t=t.updateQueue)&&(t=t.shared,0!==(4194240&n))){var r=t.lanes;n|=r&=e.pendingLanes,t.lanes=n,yt(e,n)}}function Ma(e,t){var n=e.updateQueue,r=e.alternate;if(null!==r&&n===(r=r.updateQueue)){var i=null,a=null;if(null!==(n=n.firstBaseUpdate)){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};null===a?i=a=o:a=a.next=o,n=n.next}while(null!==n);null===a?i=a=t:a=a.next=t}else i=a=t;return n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:a,shared:r.shared,effects:r.effects},void(e.updateQueue=n)}null===(e=n.lastBaseUpdate)?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function Fa(e,t,n,r){var i=e.updateQueue;Na=!1;var a=i.firstBaseUpdate,o=i.lastBaseUpdate,u=i.shared.pending;if(null!==u){i.shared.pending=null;var s=u,l=s.next;s.next=null,null===o?a=l:o.next=l,o=s;var c=e.alternate;null!==c&&((u=(c=c.updateQueue).lastBaseUpdate)!==o&&(null===u?c.firstBaseUpdate=l:u.next=l,c.lastBaseUpdate=s))}if(null!==a){var d=i.baseState;for(o=0,c=l=s=null,u=a;;){var f=u.lane,h=u.eventTime;if((r&f)===f){null!==c&&(c=c.next={eventTime:h,lane:0,tag:u.tag,payload:u.payload,callback:u.callback,next:null});e:{var p=e,v=u;switch(f=t,h=n,v.tag){case 1:if("function"===typeof(p=v.payload)){d=p.call(h,d,f);break e}d=p;break e;case 3:p.flags=-65537&p.flags|128;case 0:if(null===(f="function"===typeof(p=v.payload)?p.call(h,d,f):p)||void 0===f)break e;d=F({},d,f);break e;case 2:Na=!0}}null!==u.callback&&0!==u.lane&&(e.flags|=64,null===(f=i.effects)?i.effects=[u]:f.push(u))}else h={eventTime:h,lane:f,tag:u.tag,payload:u.payload,callback:u.callback,next:null},null===c?(l=c=h,s=d):c=c.next=h,o|=f;if(null===(u=u.next)){if(null===(u=i.shared.pending))break;u=(f=u).next,f.next=null,i.lastBaseUpdate=f,i.shared.pending=null}}if(null===c&&(s=d),i.baseState=s,i.firstBaseUpdate=l,i.lastBaseUpdate=c,null!==(t=i.shared.interleaved)){i=t;do{o|=i.lane,i=i.next}while(i!==t)}else null===a&&(i.shared.lanes=0);Ms|=o,e.lanes=o,e.memoizedState=d}}function Ua(e,t,n){if(e=t.effects,t.effects=null,null!==e)for(t=0;t<e.length;t++){var r=e[t],i=r.callback;if(null!==i){if(r.callback=null,r=n,"function"!==typeof i)throw Error(a(191,i));i.call(r)}}}var ja=(new r.Component).refs;function Ba(e,t,n,r){n=null===(n=n(r,t=e.memoizedState))||void 0===n?t:F({},t,n),e.memoizedState=n,0===e.lanes&&(e.updateQueue.baseState=n)}var za={isMounted:function(e){return!!(e=e._reactInternals)&&We(e)===e},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=el(),i=tl(e),a=Aa(r,i);a.payload=t,void 0!==n&&null!==n&&(a.callback=n),null!==(t=Oa(e,a,i))&&(nl(t,e,i,r),La(t,e,i))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=el(),i=tl(e),a=Aa(r,i);a.tag=1,a.payload=t,void 0!==n&&null!==n&&(a.callback=n),null!==(t=Oa(e,a,i))&&(nl(t,e,i,r),La(t,e,i))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=el(),r=tl(e),i=Aa(n,r);i.tag=2,void 0!==t&&null!==t&&(i.callback=t),null!==(t=Oa(e,i,r))&&(nl(t,e,r,n),La(t,e,r))}};function Wa(e,t,n,r,i,a,o){return"function"===typeof(e=e.stateNode).shouldComponentUpdate?e.shouldComponentUpdate(r,a,o):!t.prototype||!t.prototype.isPureReactComponent||(!sr(n,r)||!sr(i,a))}function qa(e,t,n){var r=!1,i=Ci,a=t.contextType;return"object"===typeof a&&null!==a?a=Ea(a):(i=Di(t)?Ni:Ti.current,a=(r=null!==(r=t.contextTypes)&&void 0!==r)?Ri(e,i):Ci),t=new t(n,a),e.memoizedState=null!==t.state&&void 0!==t.state?t.state:null,t.updater=za,e.stateNode=t,t._reactInternals=e,r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=i,e.__reactInternalMemoizedMaskedChildContext=a),t}function Va(e,t,n,r){e=t.state,"function"===typeof t.componentWillReceiveProps&&t.componentWillReceiveProps(n,r),"function"===typeof t.UNSAFE_componentWillReceiveProps&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&za.enqueueReplaceState(t,t.state,null)}function Ha(e,t,n,r){var i=e.stateNode;i.props=n,i.state=e.memoizedState,i.refs=ja,Ra(e);var a=t.contextType;"object"===typeof a&&null!==a?i.context=Ea(a):(a=Di(t)?Ni:Ti.current,i.context=Ri(e,a)),i.state=e.memoizedState,"function"===typeof(a=t.getDerivedStateFromProps)&&(Ba(e,t,a,n),i.state=e.memoizedState),"function"===typeof t.getDerivedStateFromProps||"function"===typeof i.getSnapshotBeforeUpdate||"function"!==typeof i.UNSAFE_componentWillMount&&"function"!==typeof i.componentWillMount||(t=i.state,"function"===typeof i.componentWillMount&&i.componentWillMount(),"function"===typeof i.UNSAFE_componentWillMount&&i.UNSAFE_componentWillMount(),t!==i.state&&za.enqueueReplaceState(i,i.state,null),Fa(e,n,i,r),i.state=e.memoizedState),"function"===typeof i.componentDidMount&&(e.flags|=4194308)}function Ga(e,t,n){if(null!==(e=n.ref)&&"function"!==typeof e&&"object"!==typeof e){if(n._owner){if(n=n._owner){if(1!==n.tag)throw Error(a(309));var r=n.stateNode}if(!r)throw Error(a(147,e));var i=r,o=""+e;return null!==t&&null!==t.ref&&"function"===typeof t.ref&&t.ref._stringRef===o?t.ref:(t=function(e){var t=i.refs;t===ja&&(t=i.refs={}),null===e?delete t[o]:t[o]=e},t._stringRef=o,t)}if("string"!==typeof e)throw Error(a(284));if(!n._owner)throw Error(a(290,e))}return e}function Ka(e,t){throw e=Object.prototype.toString.call(t),Error(a(31,"[object Object]"===e?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function $a(e){return(0,e._init)(e._payload)}function Ya(e){function t(t,n){if(e){var r=t.deletions;null===r?(t.deletions=[n],t.flags|=16):r.push(n)}}function n(n,r){if(!e)return null;for(;null!==r;)t(n,r),r=r.sibling;return null}function r(e,t){for(e=new Map;null!==t;)null!==t.key?e.set(t.key,t):e.set(t.index,t),t=t.sibling;return e}function i(e,t){return(e=Al(e,t)).index=0,e.sibling=null,e}function o(t,n,r){return t.index=r,e?null!==(r=t.alternate)?(r=r.index)<n?(t.flags|=2,n):r:(t.flags|=2,n):(t.flags|=1048576,n)}function u(t){return e&&null===t.alternate&&(t.flags|=2),t}function s(e,t,n,r){return null===t||6!==t.tag?((t=Fl(n,e.mode,r)).return=e,t):((t=i(t,n)).return=e,t)}function l(e,t,n,r){var a=n.type;return a===x?d(e,t,n.props.children,r,n.key):null!==t&&(t.elementType===a||"object"===typeof a&&null!==a&&a.$$typeof===D&&$a(a)===t.type)?((r=i(t,n.props)).ref=Ga(e,t,n),r.return=e,r):((r=Ol(n.type,n.key,n.props,null,e.mode,r)).ref=Ga(e,t,n),r.return=e,r)}function c(e,t,n,r){return null===t||4!==t.tag||t.stateNode.containerInfo!==n.containerInfo||t.stateNode.implementation!==n.implementation?((t=Ul(n,e.mode,r)).return=e,t):((t=i(t,n.children||[])).return=e,t)}function d(e,t,n,r,a){return null===t||7!==t.tag?((t=Ll(n,e.mode,r,a)).return=e,t):((t=i(t,n)).return=e,t)}function f(e,t,n){if("string"===typeof t&&""!==t||"number"===typeof t)return(t=Fl(""+t,e.mode,n)).return=e,t;if("object"===typeof t&&null!==t){switch(t.$$typeof){case k:return(n=Ol(t.type,t.key,t.props,null,e.mode,n)).ref=Ga(e,null,t),n.return=e,n;case w:return(t=Ul(t,e.mode,n)).return=e,t;case D:return f(e,(0,t._init)(t._payload),n)}if(te(t)||L(t))return(t=Ll(t,e.mode,n,null)).return=e,t;Ka(e,t)}return null}function h(e,t,n,r){var i=null!==t?t.key:null;if("string"===typeof n&&""!==n||"number"===typeof n)return null!==i?null:s(e,t,""+n,r);if("object"===typeof n&&null!==n){switch(n.$$typeof){case k:return n.key===i?l(e,t,n,r):null;case w:return n.key===i?c(e,t,n,r):null;case D:return h(e,t,(i=n._init)(n._payload),r)}if(te(n)||L(n))return null!==i?null:d(e,t,n,r,null);Ka(e,n)}return null}function p(e,t,n,r,i){if("string"===typeof r&&""!==r||"number"===typeof r)return s(t,e=e.get(n)||null,""+r,i);if("object"===typeof r&&null!==r){switch(r.$$typeof){case k:return l(t,e=e.get(null===r.key?n:r.key)||null,r,i);case w:return c(t,e=e.get(null===r.key?n:r.key)||null,r,i);case D:return p(e,t,n,(0,r._init)(r._payload),i)}if(te(r)||L(r))return d(t,e=e.get(n)||null,r,i,null);Ka(t,r)}return null}function v(i,a,u,s){for(var l=null,c=null,d=a,v=a=0,m=null;null!==d&&v<u.length;v++){d.index>v?(m=d,d=null):m=d.sibling;var g=h(i,d,u[v],s);if(null===g){null===d&&(d=m);break}e&&d&&null===g.alternate&&t(i,d),a=o(g,a,v),null===c?l=g:c.sibling=g,c=g,d=m}if(v===u.length)return n(i,d),ia&&Xi(i,v),l;if(null===d){for(;v<u.length;v++)null!==(d=f(i,u[v],s))&&(a=o(d,a,v),null===c?l=d:c.sibling=d,c=d);return ia&&Xi(i,v),l}for(d=r(i,d);v<u.length;v++)null!==(m=p(d,i,v,u[v],s))&&(e&&null!==m.alternate&&d.delete(null===m.key?v:m.key),a=o(m,a,v),null===c?l=m:c.sibling=m,c=m);return e&&d.forEach((function(e){return t(i,e)})),ia&&Xi(i,v),l}function m(i,u,s,l){var c=L(s);if("function"!==typeof c)throw Error(a(150));if(null==(s=c.call(s)))throw Error(a(151));for(var d=c=null,v=u,m=u=0,g=null,y=s.next();null!==v&&!y.done;m++,y=s.next()){v.index>m?(g=v,v=null):g=v.sibling;var b=h(i,v,y.value,l);if(null===b){null===v&&(v=g);break}e&&v&&null===b.alternate&&t(i,v),u=o(b,u,m),null===d?c=b:d.sibling=b,d=b,v=g}if(y.done)return n(i,v),ia&&Xi(i,m),c;if(null===v){for(;!y.done;m++,y=s.next())null!==(y=f(i,y.value,l))&&(u=o(y,u,m),null===d?c=y:d.sibling=y,d=y);return ia&&Xi(i,m),c}for(v=r(i,v);!y.done;m++,y=s.next())null!==(y=p(v,i,m,y.value,l))&&(e&&null!==y.alternate&&v.delete(null===y.key?m:y.key),u=o(y,u,m),null===d?c=y:d.sibling=y,d=y);return e&&v.forEach((function(e){return t(i,e)})),ia&&Xi(i,m),c}return function e(r,a,o,s){if("object"===typeof o&&null!==o&&o.type===x&&null===o.key&&(o=o.props.children),"object"===typeof o&&null!==o){switch(o.$$typeof){case k:e:{for(var l=o.key,c=a;null!==c;){if(c.key===l){if((l=o.type)===x){if(7===c.tag){n(r,c.sibling),(a=i(c,o.props.children)).return=r,r=a;break e}}else if(c.elementType===l||"object"===typeof l&&null!==l&&l.$$typeof===D&&$a(l)===c.type){n(r,c.sibling),(a=i(c,o.props)).ref=Ga(r,c,o),a.return=r,r=a;break e}n(r,c);break}t(r,c),c=c.sibling}o.type===x?((a=Ll(o.props.children,r.mode,s,o.key)).return=r,r=a):((s=Ol(o.type,o.key,o.props,null,r.mode,s)).ref=Ga(r,a,o),s.return=r,r=s)}return u(r);case w:e:{for(c=o.key;null!==a;){if(a.key===c){if(4===a.tag&&a.stateNode.containerInfo===o.containerInfo&&a.stateNode.implementation===o.implementation){n(r,a.sibling),(a=i(a,o.children||[])).return=r,r=a;break e}n(r,a);break}t(r,a),a=a.sibling}(a=Ul(o,r.mode,s)).return=r,r=a}return u(r);case D:return e(r,a,(c=o._init)(o._payload),s)}if(te(o))return v(r,a,o,s);if(L(o))return m(r,a,o,s);Ka(r,o)}return"string"===typeof o&&""!==o||"number"===typeof o?(o=""+o,null!==a&&6===a.tag?(n(r,a.sibling),(a=i(a,o)).return=r,r=a):(n(r,a),(a=Fl(o,r.mode,s)).return=r,r=a),u(r)):n(r,a)}}var Qa=Ya(!0),Ja=Ya(!1),Xa={},Za=Ii(Xa),eo=Ii(Xa),to=Ii(Xa);function no(e){if(e===Xa)throw Error(a(174));return e}function ro(e,t){switch(Si(to,t),Si(eo,e),Si(Za,Xa),e=t.nodeType){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:se(null,"");break;default:t=se(t=(e=8===e?t.parentNode:t).namespaceURI||null,e=e.tagName)}Ei(Za),Si(Za,t)}function io(){Ei(Za),Ei(eo),Ei(to)}function ao(e){no(to.current);var t=no(Za.current),n=se(t,e.type);t!==n&&(Si(eo,e),Si(Za,n))}function oo(e){eo.current===e&&(Ei(Za),Ei(eo))}var uo=Ii(0);function so(e){for(var t=e;null!==t;){if(13===t.tag){var n=t.memoizedState;if(null!==n&&(null===(n=n.dehydrated)||"$?"===n.data||"$!"===n.data))return t}else if(19===t.tag&&void 0!==t.memoizedProps.revealOrder){if(0!==(128&t.flags))return t}else if(null!==t.child){t.child.return=t,t=t.child;continue}if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var lo=[];function co(){for(var e=0;e<lo.length;e++)lo[e]._workInProgressVersionPrimary=null;lo.length=0}var fo=_.ReactCurrentDispatcher,ho=_.ReactCurrentBatchConfig,po=0,vo=null,mo=null,go=null,yo=!1,bo=!1,_o=0,ko=0;function wo(){throw Error(a(321))}function xo(e,t){if(null===t)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!ur(e[n],t[n]))return!1;return!0}function Io(e,t,n,r,i,o){if(po=o,vo=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,fo.current=null===e||null===e.memoizedState?uu:su,e=n(r,i),bo){o=0;do{if(bo=!1,_o=0,25<=o)throw Error(a(301));o+=1,go=mo=null,t.updateQueue=null,fo.current=lu,e=n(r,i)}while(bo)}if(fo.current=ou,t=null!==mo&&null!==mo.next,po=0,go=mo=vo=null,yo=!1,t)throw Error(a(300));return e}function Eo(){var e=0!==_o;return _o=0,e}function So(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return null===go?vo.memoizedState=go=e:go=go.next=e,go}function Co(){if(null===mo){var e=vo.alternate;e=null!==e?e.memoizedState:null}else e=mo.next;var t=null===go?vo.memoizedState:go.next;if(null!==t)go=t,mo=e;else{if(null===e)throw Error(a(310));e={memoizedState:(mo=e).memoizedState,baseState:mo.baseState,baseQueue:mo.baseQueue,queue:mo.queue,next:null},null===go?vo.memoizedState=go=e:go=go.next=e}return go}function To(e,t){return"function"===typeof t?t(e):t}function Po(e){var t=Co(),n=t.queue;if(null===n)throw Error(a(311));n.lastRenderedReducer=e;var r=mo,i=r.baseQueue,o=n.pending;if(null!==o){if(null!==i){var u=i.next;i.next=o.next,o.next=u}r.baseQueue=i=o,n.pending=null}if(null!==i){o=i.next,r=r.baseState;var s=u=null,l=null,c=o;do{var d=c.lane;if((po&d)===d)null!==l&&(l=l.next={lane:0,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null}),r=c.hasEagerState?c.eagerState:e(r,c.action);else{var f={lane:d,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null};null===l?(s=l=f,u=r):l=l.next=f,vo.lanes|=d,Ms|=d}c=c.next}while(null!==c&&c!==o);null===l?u=r:l.next=s,ur(r,t.memoizedState)||(_u=!0),t.memoizedState=r,t.baseState=u,t.baseQueue=l,n.lastRenderedState=r}if(null!==(e=n.interleaved)){i=e;do{o=i.lane,vo.lanes|=o,Ms|=o,i=i.next}while(i!==e)}else null===i&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function No(e){var t=Co(),n=t.queue;if(null===n)throw Error(a(311));n.lastRenderedReducer=e;var r=n.dispatch,i=n.pending,o=t.memoizedState;if(null!==i){n.pending=null;var u=i=i.next;do{o=e(o,u.action),u=u.next}while(u!==i);ur(o,t.memoizedState)||(_u=!0),t.memoizedState=o,null===t.baseQueue&&(t.baseState=o),n.lastRenderedState=o}return[o,r]}function Ro(){}function Do(e,t){var n=vo,r=Co(),i=t(),o=!ur(r.memoizedState,i);if(o&&(r.memoizedState=i,_u=!0),r=r.queue,Vo(Lo.bind(null,n,r,e),[e]),r.getSnapshot!==t||o||null!==go&&1&go.memoizedState.tag){if(n.flags|=2048,jo(9,Oo.bind(null,n,r,i,t),void 0,null),null===Ps)throw Error(a(349));0!==(30&po)||Ao(n,t,i)}return i}function Ao(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},null===(t=vo.updateQueue)?(t={lastEffect:null,stores:null},vo.updateQueue=t,t.stores=[e]):null===(n=t.stores)?t.stores=[e]:n.push(e)}function Oo(e,t,n,r){t.value=n,t.getSnapshot=r,Mo(t)&&Fo(e)}function Lo(e,t,n){return n((function(){Mo(t)&&Fo(e)}))}function Mo(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!ur(e,n)}catch(r){return!0}}function Fo(e){var t=Pa(e,1);null!==t&&nl(t,e,1,-1)}function Uo(e){var t=So();return"function"===typeof e&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:To,lastRenderedState:e},t.queue=e,e=e.dispatch=nu.bind(null,vo,e),[t.memoizedState,e]}function jo(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},null===(t=vo.updateQueue)?(t={lastEffect:null,stores:null},vo.updateQueue=t,t.lastEffect=e.next=e):null===(n=t.lastEffect)?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e),e}function Bo(){return Co().memoizedState}function zo(e,t,n,r){var i=So();vo.flags|=e,i.memoizedState=jo(1|t,n,void 0,void 0===r?null:r)}function Wo(e,t,n,r){var i=Co();r=void 0===r?null:r;var a=void 0;if(null!==mo){var o=mo.memoizedState;if(a=o.destroy,null!==r&&xo(r,o.deps))return void(i.memoizedState=jo(t,n,a,r))}vo.flags|=e,i.memoizedState=jo(1|t,n,a,r)}function qo(e,t){return zo(8390656,8,e,t)}function Vo(e,t){return Wo(2048,8,e,t)}function Ho(e,t){return Wo(4,2,e,t)}function Go(e,t){return Wo(4,4,e,t)}function Ko(e,t){return"function"===typeof t?(e=e(),t(e),function(){t(null)}):null!==t&&void 0!==t?(e=e(),t.current=e,function(){t.current=null}):void 0}function $o(e,t,n){return n=null!==n&&void 0!==n?n.concat([e]):null,Wo(4,4,Ko.bind(null,t,e),n)}function Yo(){}function Qo(e,t){var n=Co();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&xo(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function Jo(e,t){var n=Co();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&xo(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function Xo(e,t,n){return 0===(21&po)?(e.baseState&&(e.baseState=!1,_u=!0),e.memoizedState=n):(ur(n,t)||(n=vt(),vo.lanes|=n,Ms|=n,e.baseState=!0),t)}function Zo(e,t){var n=bt;bt=0!==n&&4>n?n:4,e(!0);var r=ho.transition;ho.transition={};try{e(!1),t()}finally{bt=n,ho.transition=r}}function eu(){return Co().memoizedState}function tu(e,t,n){var r=tl(e);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},ru(e))iu(t,n);else if(null!==(n=Ta(e,t,n,r))){nl(n,e,r,el()),au(n,t,r)}}function nu(e,t,n){var r=tl(e),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(ru(e))iu(t,i);else{var a=e.alternate;if(0===e.lanes&&(null===a||0===a.lanes)&&null!==(a=t.lastRenderedReducer))try{var o=t.lastRenderedState,u=a(o,n);if(i.hasEagerState=!0,i.eagerState=u,ur(u,o)){var s=t.interleaved;return null===s?(i.next=i,Ca(t)):(i.next=s.next,s.next=i),void(t.interleaved=i)}}catch(l){}null!==(n=Ta(e,t,i,r))&&(nl(n,e,r,i=el()),au(n,t,r))}}function ru(e){var t=e.alternate;return e===vo||null!==t&&t===vo}function iu(e,t){bo=yo=!0;var n=e.pending;null===n?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function au(e,t,n){if(0!==(4194240&n)){var r=t.lanes;n|=r&=e.pendingLanes,t.lanes=n,yt(e,n)}}var ou={readContext:Ea,useCallback:wo,useContext:wo,useEffect:wo,useImperativeHandle:wo,useInsertionEffect:wo,useLayoutEffect:wo,useMemo:wo,useReducer:wo,useRef:wo,useState:wo,useDebugValue:wo,useDeferredValue:wo,useTransition:wo,useMutableSource:wo,useSyncExternalStore:wo,useId:wo,unstable_isNewReconciler:!1},uu={readContext:Ea,useCallback:function(e,t){return So().memoizedState=[e,void 0===t?null:t],e},useContext:Ea,useEffect:qo,useImperativeHandle:function(e,t,n){return n=null!==n&&void 0!==n?n.concat([e]):null,zo(4194308,4,Ko.bind(null,t,e),n)},useLayoutEffect:function(e,t){return zo(4194308,4,e,t)},useInsertionEffect:function(e,t){return zo(4,2,e,t)},useMemo:function(e,t){var n=So();return t=void 0===t?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=So();return t=void 0!==n?n(t):t,r.memoizedState=r.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},r.queue=e,e=e.dispatch=tu.bind(null,vo,e),[r.memoizedState,e]},useRef:function(e){return e={current:e},So().memoizedState=e},useState:Uo,useDebugValue:Yo,useDeferredValue:function(e){return So().memoizedState=e},useTransition:function(){var e=Uo(!1),t=e[0];return e=Zo.bind(null,e[1]),So().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var r=vo,i=So();if(ia){if(void 0===n)throw Error(a(407));n=n()}else{if(n=t(),null===Ps)throw Error(a(349));0!==(30&po)||Ao(r,t,n)}i.memoizedState=n;var o={value:n,getSnapshot:t};return i.queue=o,qo(Lo.bind(null,r,o,e),[e]),r.flags|=2048,jo(9,Oo.bind(null,r,o,n,t),void 0,null),n},useId:function(){var e=So(),t=Ps.identifierPrefix;if(ia){var n=Ji;t=":"+t+"R"+(n=(Qi&~(1<<32-ot(Qi)-1)).toString(32)+n),0<(n=_o++)&&(t+="H"+n.toString(32)),t+=":"}else t=":"+t+"r"+(n=ko++).toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},su={readContext:Ea,useCallback:Qo,useContext:Ea,useEffect:Vo,useImperativeHandle:$o,useInsertionEffect:Ho,useLayoutEffect:Go,useMemo:Jo,useReducer:Po,useRef:Bo,useState:function(){return Po(To)},useDebugValue:Yo,useDeferredValue:function(e){return Xo(Co(),mo.memoizedState,e)},useTransition:function(){return[Po(To)[0],Co().memoizedState]},useMutableSource:Ro,useSyncExternalStore:Do,useId:eu,unstable_isNewReconciler:!1},lu={readContext:Ea,useCallback:Qo,useContext:Ea,useEffect:Vo,useImperativeHandle:$o,useInsertionEffect:Ho,useLayoutEffect:Go,useMemo:Jo,useReducer:No,useRef:Bo,useState:function(){return No(To)},useDebugValue:Yo,useDeferredValue:function(e){var t=Co();return null===mo?t.memoizedState=e:Xo(t,mo.memoizedState,e)},useTransition:function(){return[No(To)[0],Co().memoizedState]},useMutableSource:Ro,useSyncExternalStore:Do,useId:eu,unstable_isNewReconciler:!1};function cu(e,t){try{var n="",r=t;do{n+=z(r),r=r.return}while(r);var i=n}catch(a){i="\nError generating stack: "+a.message+"\n"+a.stack}return{value:e,source:t,stack:i,digest:null}}function du(e,t,n){return{value:e,source:null,stack:null!=n?n:null,digest:null!=t?t:null}}function fu(e,t){try{console.error(t.value)}catch(n){setTimeout((function(){throw n}))}}var hu="function"===typeof WeakMap?WeakMap:Map;function pu(e,t,n){(n=Aa(-1,n)).tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){Vs||(Vs=!0,Hs=r),fu(0,t)},n}function vu(e,t,n){(n=Aa(-1,n)).tag=3;var r=e.type.getDerivedStateFromError;if("function"===typeof r){var i=t.value;n.payload=function(){return r(i)},n.callback=function(){fu(0,t)}}var a=e.stateNode;return null!==a&&"function"===typeof a.componentDidCatch&&(n.callback=function(){fu(0,t),"function"!==typeof r&&(null===Gs?Gs=new Set([this]):Gs.add(this));var e=t.stack;this.componentDidCatch(t.value,{componentStack:null!==e?e:""})}),n}function mu(e,t,n){var r=e.pingCache;if(null===r){r=e.pingCache=new hu;var i=new Set;r.set(t,i)}else void 0===(i=r.get(t))&&(i=new Set,r.set(t,i));i.has(n)||(i.add(n),e=El.bind(null,e,t,n),t.then(e,e))}function gu(e){do{var t;if((t=13===e.tag)&&(t=null===(t=e.memoizedState)||null!==t.dehydrated),t)return e;e=e.return}while(null!==e);return null}function yu(e,t,n,r,i){return 0===(1&e.mode)?(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,1===n.tag&&(null===n.alternate?n.tag=17:((t=Aa(-1,1)).tag=2,Oa(n,t,1))),n.lanes|=1),e):(e.flags|=65536,e.lanes=i,e)}var bu=_.ReactCurrentOwner,_u=!1;function ku(e,t,n,r){t.child=null===e?Ja(t,null,n,r):Qa(t,e.child,n,r)}function wu(e,t,n,r,i){n=n.render;var a=t.ref;return Ia(t,i),r=Io(e,t,n,r,a,i),n=Eo(),null===e||_u?(ia&&n&&ea(t),t.flags|=1,ku(e,t,r,i),t.child):(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,Vu(e,t,i))}function xu(e,t,n,r,i){if(null===e){var a=n.type;return"function"!==typeof a||Dl(a)||void 0!==a.defaultProps||null!==n.compare||void 0!==n.defaultProps?((e=Ol(n.type,null,r,t,t.mode,i)).ref=t.ref,e.return=t,t.child=e):(t.tag=15,t.type=a,Iu(e,t,a,r,i))}if(a=e.child,0===(e.lanes&i)){var o=a.memoizedProps;if((n=null!==(n=n.compare)?n:sr)(o,r)&&e.ref===t.ref)return Vu(e,t,i)}return t.flags|=1,(e=Al(a,r)).ref=t.ref,e.return=t,t.child=e}function Iu(e,t,n,r,i){if(null!==e){var a=e.memoizedProps;if(sr(a,r)&&e.ref===t.ref){if(_u=!1,t.pendingProps=r=a,0===(e.lanes&i))return t.lanes=e.lanes,Vu(e,t,i);0!==(131072&e.flags)&&(_u=!0)}}return Cu(e,t,n,r,i)}function Eu(e,t,n){var r=t.pendingProps,i=r.children,a=null!==e?e.memoizedState:null;if("hidden"===r.mode)if(0===(1&t.mode))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},Si(As,Ds),Ds|=n;else{if(0===(1073741824&n))return e=null!==a?a.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,Si(As,Ds),Ds|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=null!==a?a.baseLanes:n,Si(As,Ds),Ds|=r}else null!==a?(r=a.baseLanes|n,t.memoizedState=null):r=n,Si(As,Ds),Ds|=r;return ku(e,t,i,n),t.child}function Su(e,t){var n=t.ref;(null===e&&null!==n||null!==e&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function Cu(e,t,n,r,i){var a=Di(n)?Ni:Ti.current;return a=Ri(t,a),Ia(t,i),n=Io(e,t,n,r,a,i),r=Eo(),null===e||_u?(ia&&r&&ea(t),t.flags|=1,ku(e,t,n,i),t.child):(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,Vu(e,t,i))}function Tu(e,t,n,r,i){if(Di(n)){var a=!0;Mi(t)}else a=!1;if(Ia(t,i),null===t.stateNode)qu(e,t),qa(t,n,r),Ha(t,n,r,i),r=!0;else if(null===e){var o=t.stateNode,u=t.memoizedProps;o.props=u;var s=o.context,l=n.contextType;"object"===typeof l&&null!==l?l=Ea(l):l=Ri(t,l=Di(n)?Ni:Ti.current);var c=n.getDerivedStateFromProps,d="function"===typeof c||"function"===typeof o.getSnapshotBeforeUpdate;d||"function"!==typeof o.UNSAFE_componentWillReceiveProps&&"function"!==typeof o.componentWillReceiveProps||(u!==r||s!==l)&&Va(t,o,r,l),Na=!1;var f=t.memoizedState;o.state=f,Fa(t,r,o,i),s=t.memoizedState,u!==r||f!==s||Pi.current||Na?("function"===typeof c&&(Ba(t,n,c,r),s=t.memoizedState),(u=Na||Wa(t,n,u,r,f,s,l))?(d||"function"!==typeof o.UNSAFE_componentWillMount&&"function"!==typeof o.componentWillMount||("function"===typeof o.componentWillMount&&o.componentWillMount(),"function"===typeof o.UNSAFE_componentWillMount&&o.UNSAFE_componentWillMount()),"function"===typeof o.componentDidMount&&(t.flags|=4194308)):("function"===typeof o.componentDidMount&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=s),o.props=r,o.state=s,o.context=l,r=u):("function"===typeof o.componentDidMount&&(t.flags|=4194308),r=!1)}else{o=t.stateNode,Da(e,t),u=t.memoizedProps,l=t.type===t.elementType?u:ma(t.type,u),o.props=l,d=t.pendingProps,f=o.context,"object"===typeof(s=n.contextType)&&null!==s?s=Ea(s):s=Ri(t,s=Di(n)?Ni:Ti.current);var h=n.getDerivedStateFromProps;(c="function"===typeof h||"function"===typeof o.getSnapshotBeforeUpdate)||"function"!==typeof o.UNSAFE_componentWillReceiveProps&&"function"!==typeof o.componentWillReceiveProps||(u!==d||f!==s)&&Va(t,o,r,s),Na=!1,f=t.memoizedState,o.state=f,Fa(t,r,o,i);var p=t.memoizedState;u!==d||f!==p||Pi.current||Na?("function"===typeof h&&(Ba(t,n,h,r),p=t.memoizedState),(l=Na||Wa(t,n,l,r,f,p,s)||!1)?(c||"function"!==typeof o.UNSAFE_componentWillUpdate&&"function"!==typeof o.componentWillUpdate||("function"===typeof o.componentWillUpdate&&o.componentWillUpdate(r,p,s),"function"===typeof o.UNSAFE_componentWillUpdate&&o.UNSAFE_componentWillUpdate(r,p,s)),"function"===typeof o.componentDidUpdate&&(t.flags|=4),"function"===typeof o.getSnapshotBeforeUpdate&&(t.flags|=1024)):("function"!==typeof o.componentDidUpdate||u===e.memoizedProps&&f===e.memoizedState||(t.flags|=4),"function"!==typeof o.getSnapshotBeforeUpdate||u===e.memoizedProps&&f===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=p),o.props=r,o.state=p,o.context=s,r=l):("function"!==typeof o.componentDidUpdate||u===e.memoizedProps&&f===e.memoizedState||(t.flags|=4),"function"!==typeof o.getSnapshotBeforeUpdate||u===e.memoizedProps&&f===e.memoizedState||(t.flags|=1024),r=!1)}return Pu(e,t,n,r,a,i)}function Pu(e,t,n,r,i,a){Su(e,t);var o=0!==(128&t.flags);if(!r&&!o)return i&&Fi(t,n,!1),Vu(e,t,a);r=t.stateNode,bu.current=t;var u=o&&"function"!==typeof n.getDerivedStateFromError?null:r.render();return t.flags|=1,null!==e&&o?(t.child=Qa(t,e.child,null,a),t.child=Qa(t,null,u,a)):ku(e,t,u,a),t.memoizedState=r.state,i&&Fi(t,n,!0),t.child}function Nu(e){var t=e.stateNode;t.pendingContext?Oi(0,t.pendingContext,t.pendingContext!==t.context):t.context&&Oi(0,t.context,!1),ro(e,t.containerInfo)}function Ru(e,t,n,r,i){return ha(),pa(i),t.flags|=256,ku(e,t,n,r),t.child}var Du,Au,Ou,Lu={dehydrated:null,treeContext:null,retryLane:0};function Mu(e){return{baseLanes:e,cachePool:null,transitions:null}}function Fu(e,t,n){var r,i=t.pendingProps,o=uo.current,u=!1,s=0!==(128&t.flags);if((r=s)||(r=(null===e||null!==e.memoizedState)&&0!==(2&o)),r?(u=!0,t.flags&=-129):null!==e&&null===e.memoizedState||(o|=1),Si(uo,1&o),null===e)return la(t),null!==(e=t.memoizedState)&&null!==(e=e.dehydrated)?(0===(1&t.mode)?t.lanes=1:"$!"===e.data?t.lanes=8:t.lanes=1073741824,null):(s=i.children,e=i.fallback,u?(i=t.mode,u=t.child,s={mode:"hidden",children:s},0===(1&i)&&null!==u?(u.childLanes=0,u.pendingProps=s):u=Ml(s,i,0,null),e=Ll(e,i,n,null),u.return=t,e.return=t,u.sibling=e,t.child=u,t.child.memoizedState=Mu(n),t.memoizedState=Lu,e):Uu(t,s));if(null!==(o=e.memoizedState)&&null!==(r=o.dehydrated))return function(e,t,n,r,i,o,u){if(n)return 256&t.flags?(t.flags&=-257,ju(e,t,u,r=du(Error(a(422))))):null!==t.memoizedState?(t.child=e.child,t.flags|=128,null):(o=r.fallback,i=t.mode,r=Ml({mode:"visible",children:r.children},i,0,null),(o=Ll(o,i,u,null)).flags|=2,r.return=t,o.return=t,r.sibling=o,t.child=r,0!==(1&t.mode)&&Qa(t,e.child,null,u),t.child.memoizedState=Mu(u),t.memoizedState=Lu,o);if(0===(1&t.mode))return ju(e,t,u,null);if("$!"===i.data){if(r=i.nextSibling&&i.nextSibling.dataset)var s=r.dgst;return r=s,ju(e,t,u,r=du(o=Error(a(419)),r,void 0))}if(s=0!==(u&e.childLanes),_u||s){if(null!==(r=Ps)){switch(u&-u){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}0!==(i=0!==(i&(r.suspendedLanes|u))?0:i)&&i!==o.retryLane&&(o.retryLane=i,Pa(e,i),nl(r,e,i,-1))}return vl(),ju(e,t,u,r=du(Error(a(421))))}return"$?"===i.data?(t.flags|=128,t.child=e.child,t=Cl.bind(null,e),i._reactRetry=t,null):(e=o.treeContext,ra=li(i.nextSibling),na=t,ia=!0,aa=null,null!==e&&(Ki[$i++]=Qi,Ki[$i++]=Ji,Ki[$i++]=Yi,Qi=e.id,Ji=e.overflow,Yi=t),(t=Uu(t,r.children)).flags|=4096,t)}(e,t,s,i,r,o,n);if(u){u=i.fallback,s=t.mode,r=(o=e.child).sibling;var l={mode:"hidden",children:i.children};return 0===(1&s)&&t.child!==o?((i=t.child).childLanes=0,i.pendingProps=l,t.deletions=null):(i=Al(o,l)).subtreeFlags=14680064&o.subtreeFlags,null!==r?u=Al(r,u):(u=Ll(u,s,n,null)).flags|=2,u.return=t,i.return=t,i.sibling=u,t.child=i,i=u,u=t.child,s=null===(s=e.child.memoizedState)?Mu(n):{baseLanes:s.baseLanes|n,cachePool:null,transitions:s.transitions},u.memoizedState=s,u.childLanes=e.childLanes&~n,t.memoizedState=Lu,i}return e=(u=e.child).sibling,i=Al(u,{mode:"visible",children:i.children}),0===(1&t.mode)&&(i.lanes=n),i.return=t,i.sibling=null,null!==e&&(null===(n=t.deletions)?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=i,t.memoizedState=null,i}function Uu(e,t){return(t=Ml({mode:"visible",children:t},e.mode,0,null)).return=e,e.child=t}function ju(e,t,n,r){return null!==r&&pa(r),Qa(t,e.child,null,n),(e=Uu(t,t.pendingProps.children)).flags|=2,t.memoizedState=null,e}function Bu(e,t,n){e.lanes|=t;var r=e.alternate;null!==r&&(r.lanes|=t),xa(e.return,t,n)}function zu(e,t,n,r,i){var a=e.memoizedState;null===a?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(a.isBackwards=t,a.rendering=null,a.renderingStartTime=0,a.last=r,a.tail=n,a.tailMode=i)}function Wu(e,t,n){var r=t.pendingProps,i=r.revealOrder,a=r.tail;if(ku(e,t,r.children,n),0!==(2&(r=uo.current)))r=1&r|2,t.flags|=128;else{if(null!==e&&0!==(128&e.flags))e:for(e=t.child;null!==e;){if(13===e.tag)null!==e.memoizedState&&Bu(e,n,t);else if(19===e.tag)Bu(e,n,t);else if(null!==e.child){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;null===e.sibling;){if(null===e.return||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(Si(uo,r),0===(1&t.mode))t.memoizedState=null;else switch(i){case"forwards":for(n=t.child,i=null;null!==n;)null!==(e=n.alternate)&&null===so(e)&&(i=n),n=n.sibling;null===(n=i)?(i=t.child,t.child=null):(i=n.sibling,n.sibling=null),zu(t,!1,i,n,a);break;case"backwards":for(n=null,i=t.child,t.child=null;null!==i;){if(null!==(e=i.alternate)&&null===so(e)){t.child=i;break}e=i.sibling,i.sibling=n,n=i,i=e}zu(t,!0,n,null,a);break;case"together":zu(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function qu(e,t){0===(1&t.mode)&&null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2)}function Vu(e,t,n){if(null!==e&&(t.dependencies=e.dependencies),Ms|=t.lanes,0===(n&t.childLanes))return null;if(null!==e&&t.child!==e.child)throw Error(a(153));if(null!==t.child){for(n=Al(e=t.child,e.pendingProps),t.child=n,n.return=t;null!==e.sibling;)e=e.sibling,(n=n.sibling=Al(e,e.pendingProps)).return=t;n.sibling=null}return t.child}function Hu(e,t){if(!ia)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;null!==t;)null!==t.alternate&&(n=t),t=t.sibling;null===n?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;null!==n;)null!==n.alternate&&(r=n),n=n.sibling;null===r?t||null===e.tail?e.tail=null:e.tail.sibling=null:r.sibling=null}}function Gu(e){var t=null!==e.alternate&&e.alternate.child===e.child,n=0,r=0;if(t)for(var i=e.child;null!==i;)n|=i.lanes|i.childLanes,r|=14680064&i.subtreeFlags,r|=14680064&i.flags,i.return=e,i=i.sibling;else for(i=e.child;null!==i;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=e,i=i.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function Ku(e,t,n){var r=t.pendingProps;switch(ta(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Gu(t),null;case 1:case 17:return Di(t.type)&&Ai(),Gu(t),null;case 3:return r=t.stateNode,io(),Ei(Pi),Ei(Ti),co(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),null!==e&&null!==e.child||(da(t)?t.flags|=4:null===e||e.memoizedState.isDehydrated&&0===(256&t.flags)||(t.flags|=1024,null!==aa&&(ol(aa),aa=null))),Gu(t),null;case 5:oo(t);var i=no(to.current);if(n=t.type,null!==e&&null!=t.stateNode)Au(e,t,n,r),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!r){if(null===t.stateNode)throw Error(a(166));return Gu(t),null}if(e=no(Za.current),da(t)){r=t.stateNode,n=t.type;var o=t.memoizedProps;switch(r[fi]=t,r[hi]=o,e=0!==(1&t.mode),n){case"dialog":jr("cancel",r),jr("close",r);break;case"iframe":case"object":case"embed":jr("load",r);break;case"video":case"audio":for(i=0;i<Lr.length;i++)jr(Lr[i],r);break;case"source":jr("error",r);break;case"img":case"image":case"link":jr("error",r),jr("load",r);break;case"details":jr("toggle",r);break;case"input":Q(r,o),jr("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!o.multiple},jr("invalid",r);break;case"textarea":ie(r,o),jr("invalid",r)}for(var s in ye(n,o),i=null,o)if(o.hasOwnProperty(s)){var l=o[s];"children"===s?"string"===typeof l?r.textContent!==l&&(!0!==o.suppressHydrationWarning&&Xr(r.textContent,l,e),i=["children",l]):"number"===typeof l&&r.textContent!==""+l&&(!0!==o.suppressHydrationWarning&&Xr(r.textContent,l,e),i=["children",""+l]):u.hasOwnProperty(s)&&null!=l&&"onScroll"===s&&jr("scroll",r)}switch(n){case"input":G(r),Z(r,o,!0);break;case"textarea":G(r),oe(r);break;case"select":case"option":break;default:"function"===typeof o.onClick&&(r.onclick=Zr)}r=i,t.updateQueue=r,null!==r&&(t.flags|=4)}else{s=9===i.nodeType?i:i.ownerDocument,"http://www.w3.org/1999/xhtml"===e&&(e=ue(n)),"http://www.w3.org/1999/xhtml"===e?"script"===n?((e=s.createElement("div")).innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):"string"===typeof r.is?e=s.createElement(n,{is:r.is}):(e=s.createElement(n),"select"===n&&(s=e,r.multiple?s.multiple=!0:r.size&&(s.size=r.size))):e=s.createElementNS(e,n),e[fi]=t,e[hi]=r,Du(e,t),t.stateNode=e;e:{switch(s=be(n,r),n){case"dialog":jr("cancel",e),jr("close",e),i=r;break;case"iframe":case"object":case"embed":jr("load",e),i=r;break;case"video":case"audio":for(i=0;i<Lr.length;i++)jr(Lr[i],e);i=r;break;case"source":jr("error",e),i=r;break;case"img":case"image":case"link":jr("error",e),jr("load",e),i=r;break;case"details":jr("toggle",e),i=r;break;case"input":Q(e,r),i=Y(e,r),jr("invalid",e);break;case"option":default:i=r;break;case"select":e._wrapperState={wasMultiple:!!r.multiple},i=F({},r,{value:void 0}),jr("invalid",e);break;case"textarea":ie(e,r),i=re(e,r),jr("invalid",e)}for(o in ye(n,i),l=i)if(l.hasOwnProperty(o)){var c=l[o];"style"===o?me(e,c):"dangerouslySetInnerHTML"===o?null!=(c=c?c.__html:void 0)&&de(e,c):"children"===o?"string"===typeof c?("textarea"!==n||""!==c)&&fe(e,c):"number"===typeof c&&fe(e,""+c):"suppressContentEditableWarning"!==o&&"suppressHydrationWarning"!==o&&"autoFocus"!==o&&(u.hasOwnProperty(o)?null!=c&&"onScroll"===o&&jr("scroll",e):null!=c&&b(e,o,c,s))}switch(n){case"input":G(e),Z(e,r,!1);break;case"textarea":G(e),oe(e);break;case"option":null!=r.value&&e.setAttribute("value",""+V(r.value));break;case"select":e.multiple=!!r.multiple,null!=(o=r.value)?ne(e,!!r.multiple,o,!1):null!=r.defaultValue&&ne(e,!!r.multiple,r.defaultValue,!0);break;default:"function"===typeof i.onClick&&(e.onclick=Zr)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(t.flags|=4)}null!==t.ref&&(t.flags|=512,t.flags|=2097152)}return Gu(t),null;case 6:if(e&&null!=t.stateNode)Ou(0,t,e.memoizedProps,r);else{if("string"!==typeof r&&null===t.stateNode)throw Error(a(166));if(n=no(to.current),no(Za.current),da(t)){if(r=t.stateNode,n=t.memoizedProps,r[fi]=t,(o=r.nodeValue!==n)&&null!==(e=na))switch(e.tag){case 3:Xr(r.nodeValue,n,0!==(1&e.mode));break;case 5:!0!==e.memoizedProps.suppressHydrationWarning&&Xr(r.nodeValue,n,0!==(1&e.mode))}o&&(t.flags|=4)}else(r=(9===n.nodeType?n:n.ownerDocument).createTextNode(r))[fi]=t,t.stateNode=r}return Gu(t),null;case 13:if(Ei(uo),r=t.memoizedState,null===e||null!==e.memoizedState&&null!==e.memoizedState.dehydrated){if(ia&&null!==ra&&0!==(1&t.mode)&&0===(128&t.flags))fa(),ha(),t.flags|=98560,o=!1;else if(o=da(t),null!==r&&null!==r.dehydrated){if(null===e){if(!o)throw Error(a(318));if(!(o=null!==(o=t.memoizedState)?o.dehydrated:null))throw Error(a(317));o[fi]=t}else ha(),0===(128&t.flags)&&(t.memoizedState=null),t.flags|=4;Gu(t),o=!1}else null!==aa&&(ol(aa),aa=null),o=!0;if(!o)return 65536&t.flags?t:null}return 0!==(128&t.flags)?(t.lanes=n,t):((r=null!==r)!==(null!==e&&null!==e.memoizedState)&&r&&(t.child.flags|=8192,0!==(1&t.mode)&&(null===e||0!==(1&uo.current)?0===Os&&(Os=3):vl())),null!==t.updateQueue&&(t.flags|=4),Gu(t),null);case 4:return io(),null===e&&Wr(t.stateNode.containerInfo),Gu(t),null;case 10:return wa(t.type._context),Gu(t),null;case 19:if(Ei(uo),null===(o=t.memoizedState))return Gu(t),null;if(r=0!==(128&t.flags),null===(s=o.rendering))if(r)Hu(o,!1);else{if(0!==Os||null!==e&&0!==(128&e.flags))for(e=t.child;null!==e;){if(null!==(s=so(e))){for(t.flags|=128,Hu(o,!1),null!==(r=s.updateQueue)&&(t.updateQueue=r,t.flags|=4),t.subtreeFlags=0,r=n,n=t.child;null!==n;)e=r,(o=n).flags&=14680066,null===(s=o.alternate)?(o.childLanes=0,o.lanes=e,o.child=null,o.subtreeFlags=0,o.memoizedProps=null,o.memoizedState=null,o.updateQueue=null,o.dependencies=null,o.stateNode=null):(o.childLanes=s.childLanes,o.lanes=s.lanes,o.child=s.child,o.subtreeFlags=0,o.deletions=null,o.memoizedProps=s.memoizedProps,o.memoizedState=s.memoizedState,o.updateQueue=s.updateQueue,o.type=s.type,e=s.dependencies,o.dependencies=null===e?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return Si(uo,1&uo.current|2),t.child}e=e.sibling}null!==o.tail&&Je()>Ws&&(t.flags|=128,r=!0,Hu(o,!1),t.lanes=4194304)}else{if(!r)if(null!==(e=so(s))){if(t.flags|=128,r=!0,null!==(n=e.updateQueue)&&(t.updateQueue=n,t.flags|=4),Hu(o,!0),null===o.tail&&"hidden"===o.tailMode&&!s.alternate&&!ia)return Gu(t),null}else 2*Je()-o.renderingStartTime>Ws&&1073741824!==n&&(t.flags|=128,r=!0,Hu(o,!1),t.lanes=4194304);o.isBackwards?(s.sibling=t.child,t.child=s):(null!==(n=o.last)?n.sibling=s:t.child=s,o.last=s)}return null!==o.tail?(t=o.tail,o.rendering=t,o.tail=t.sibling,o.renderingStartTime=Je(),t.sibling=null,n=uo.current,Si(uo,r?1&n|2:1&n),t):(Gu(t),null);case 22:case 23:return dl(),r=null!==t.memoizedState,null!==e&&null!==e.memoizedState!==r&&(t.flags|=8192),r&&0!==(1&t.mode)?0!==(1073741824&Ds)&&(Gu(t),6&t.subtreeFlags&&(t.flags|=8192)):Gu(t),null;case 24:case 25:return null}throw Error(a(156,t.tag))}function $u(e,t){switch(ta(t),t.tag){case 1:return Di(t.type)&&Ai(),65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 3:return io(),Ei(Pi),Ei(Ti),co(),0!==(65536&(e=t.flags))&&0===(128&e)?(t.flags=-65537&e|128,t):null;case 5:return oo(t),null;case 13:if(Ei(uo),null!==(e=t.memoizedState)&&null!==e.dehydrated){if(null===t.alternate)throw Error(a(340));ha()}return 65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 19:return Ei(uo),null;case 4:return io(),null;case 10:return wa(t.type._context),null;case 22:case 23:return dl(),null;default:return null}}Du=function(e,t){for(var n=t.child;null!==n;){if(5===n.tag||6===n.tag)e.appendChild(n.stateNode);else if(4!==n.tag&&null!==n.child){n.child.return=n,n=n.child;continue}if(n===t)break;for(;null===n.sibling;){if(null===n.return||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}},Au=function(e,t,n,r){var i=e.memoizedProps;if(i!==r){e=t.stateNode,no(Za.current);var a,o=null;switch(n){case"input":i=Y(e,i),r=Y(e,r),o=[];break;case"select":i=F({},i,{value:void 0}),r=F({},r,{value:void 0}),o=[];break;case"textarea":i=re(e,i),r=re(e,r),o=[];break;default:"function"!==typeof i.onClick&&"function"===typeof r.onClick&&(e.onclick=Zr)}for(c in ye(n,r),n=null,i)if(!r.hasOwnProperty(c)&&i.hasOwnProperty(c)&&null!=i[c])if("style"===c){var s=i[c];for(a in s)s.hasOwnProperty(a)&&(n||(n={}),n[a]="")}else"dangerouslySetInnerHTML"!==c&&"children"!==c&&"suppressContentEditableWarning"!==c&&"suppressHydrationWarning"!==c&&"autoFocus"!==c&&(u.hasOwnProperty(c)?o||(o=[]):(o=o||[]).push(c,null));for(c in r){var l=r[c];if(s=null!=i?i[c]:void 0,r.hasOwnProperty(c)&&l!==s&&(null!=l||null!=s))if("style"===c)if(s){for(a in s)!s.hasOwnProperty(a)||l&&l.hasOwnProperty(a)||(n||(n={}),n[a]="");for(a in l)l.hasOwnProperty(a)&&s[a]!==l[a]&&(n||(n={}),n[a]=l[a])}else n||(o||(o=[]),o.push(c,n)),n=l;else"dangerouslySetInnerHTML"===c?(l=l?l.__html:void 0,s=s?s.__html:void 0,null!=l&&s!==l&&(o=o||[]).push(c,l)):"children"===c?"string"!==typeof l&&"number"!==typeof l||(o=o||[]).push(c,""+l):"suppressContentEditableWarning"!==c&&"suppressHydrationWarning"!==c&&(u.hasOwnProperty(c)?(null!=l&&"onScroll"===c&&jr("scroll",e),o||s===l||(o=[])):(o=o||[]).push(c,l))}n&&(o=o||[]).push("style",n);var c=o;(t.updateQueue=c)&&(t.flags|=4)}},Ou=function(e,t,n,r){n!==r&&(t.flags|=4)};var Yu=!1,Qu=!1,Ju="function"===typeof WeakSet?WeakSet:Set,Xu=null;function Zu(e,t){var n=e.ref;if(null!==n)if("function"===typeof n)try{n(null)}catch(r){Il(e,t,r)}else n.current=null}function es(e,t,n){try{n()}catch(r){Il(e,t,r)}}var ts=!1;function ns(e,t,n){var r=t.updateQueue;if(null!==(r=null!==r?r.lastEffect:null)){var i=r=r.next;do{if((i.tag&e)===e){var a=i.destroy;i.destroy=void 0,void 0!==a&&es(t,n,a)}i=i.next}while(i!==r)}}function rs(e,t){if(null!==(t=null!==(t=t.updateQueue)?t.lastEffect:null)){var n=t=t.next;do{if((n.tag&e)===e){var r=n.create;n.destroy=r()}n=n.next}while(n!==t)}}function is(e){var t=e.ref;if(null!==t){var n=e.stateNode;e.tag,e=n,"function"===typeof t?t(e):t.current=e}}function as(e){var t=e.alternate;null!==t&&(e.alternate=null,as(t)),e.child=null,e.deletions=null,e.sibling=null,5===e.tag&&(null!==(t=e.stateNode)&&(delete t[fi],delete t[hi],delete t[vi],delete t[mi],delete t[gi])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function os(e){return 5===e.tag||3===e.tag||4===e.tag}function us(e){e:for(;;){for(;null===e.sibling;){if(null===e.return||os(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;5!==e.tag&&6!==e.tag&&18!==e.tag;){if(2&e.flags)continue e;if(null===e.child||4===e.tag)continue e;e.child.return=e,e=e.child}if(!(2&e.flags))return e.stateNode}}function ss(e,t,n){var r=e.tag;if(5===r||6===r)e=e.stateNode,t?8===n.nodeType?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(8===n.nodeType?(t=n.parentNode).insertBefore(e,n):(t=n).appendChild(e),null!==(n=n._reactRootContainer)&&void 0!==n||null!==t.onclick||(t.onclick=Zr));else if(4!==r&&null!==(e=e.child))for(ss(e,t,n),e=e.sibling;null!==e;)ss(e,t,n),e=e.sibling}function ls(e,t,n){var r=e.tag;if(5===r||6===r)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(4!==r&&null!==(e=e.child))for(ls(e,t,n),e=e.sibling;null!==e;)ls(e,t,n),e=e.sibling}var cs=null,ds=!1;function fs(e,t,n){for(n=n.child;null!==n;)hs(e,t,n),n=n.sibling}function hs(e,t,n){if(at&&"function"===typeof at.onCommitFiberUnmount)try{at.onCommitFiberUnmount(it,n)}catch(u){}switch(n.tag){case 5:Qu||Zu(n,t);case 6:var r=cs,i=ds;cs=null,fs(e,t,n),ds=i,null!==(cs=r)&&(ds?(e=cs,n=n.stateNode,8===e.nodeType?e.parentNode.removeChild(n):e.removeChild(n)):cs.removeChild(n.stateNode));break;case 18:null!==cs&&(ds?(e=cs,n=n.stateNode,8===e.nodeType?si(e.parentNode,n):1===e.nodeType&&si(e,n),Wt(e)):si(cs,n.stateNode));break;case 4:r=cs,i=ds,cs=n.stateNode.containerInfo,ds=!0,fs(e,t,n),cs=r,ds=i;break;case 0:case 11:case 14:case 15:if(!Qu&&(null!==(r=n.updateQueue)&&null!==(r=r.lastEffect))){i=r=r.next;do{var a=i,o=a.destroy;a=a.tag,void 0!==o&&(0!==(2&a)||0!==(4&a))&&es(n,t,o),i=i.next}while(i!==r)}fs(e,t,n);break;case 1:if(!Qu&&(Zu(n,t),"function"===typeof(r=n.stateNode).componentWillUnmount))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(u){Il(n,t,u)}fs(e,t,n);break;case 21:fs(e,t,n);break;case 22:1&n.mode?(Qu=(r=Qu)||null!==n.memoizedState,fs(e,t,n),Qu=r):fs(e,t,n);break;default:fs(e,t,n)}}function ps(e){var t=e.updateQueue;if(null!==t){e.updateQueue=null;var n=e.stateNode;null===n&&(n=e.stateNode=new Ju),t.forEach((function(t){var r=Tl.bind(null,e,t);n.has(t)||(n.add(t),t.then(r,r))}))}}function vs(e,t){var n=t.deletions;if(null!==n)for(var r=0;r<n.length;r++){var i=n[r];try{var o=e,u=t,s=u;e:for(;null!==s;){switch(s.tag){case 5:cs=s.stateNode,ds=!1;break e;case 3:case 4:cs=s.stateNode.containerInfo,ds=!0;break e}s=s.return}if(null===cs)throw Error(a(160));hs(o,u,i),cs=null,ds=!1;var l=i.alternate;null!==l&&(l.return=null),i.return=null}catch(c){Il(i,t,c)}}if(12854&t.subtreeFlags)for(t=t.child;null!==t;)ms(t,e),t=t.sibling}function ms(e,t){var n=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(vs(t,e),gs(e),4&r){try{ns(3,e,e.return),rs(3,e)}catch(m){Il(e,e.return,m)}try{ns(5,e,e.return)}catch(m){Il(e,e.return,m)}}break;case 1:vs(t,e),gs(e),512&r&&null!==n&&Zu(n,n.return);break;case 5:if(vs(t,e),gs(e),512&r&&null!==n&&Zu(n,n.return),32&e.flags){var i=e.stateNode;try{fe(i,"")}catch(m){Il(e,e.return,m)}}if(4&r&&null!=(i=e.stateNode)){var o=e.memoizedProps,u=null!==n?n.memoizedProps:o,s=e.type,l=e.updateQueue;if(e.updateQueue=null,null!==l)try{"input"===s&&"radio"===o.type&&null!=o.name&&J(i,o),be(s,u);var c=be(s,o);for(u=0;u<l.length;u+=2){var d=l[u],f=l[u+1];"style"===d?me(i,f):"dangerouslySetInnerHTML"===d?de(i,f):"children"===d?fe(i,f):b(i,d,f,c)}switch(s){case"input":X(i,o);break;case"textarea":ae(i,o);break;case"select":var h=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!o.multiple;var p=o.value;null!=p?ne(i,!!o.multiple,p,!1):h!==!!o.multiple&&(null!=o.defaultValue?ne(i,!!o.multiple,o.defaultValue,!0):ne(i,!!o.multiple,o.multiple?[]:"",!1))}i[hi]=o}catch(m){Il(e,e.return,m)}}break;case 6:if(vs(t,e),gs(e),4&r){if(null===e.stateNode)throw Error(a(162));i=e.stateNode,o=e.memoizedProps;try{i.nodeValue=o}catch(m){Il(e,e.return,m)}}break;case 3:if(vs(t,e),gs(e),4&r&&null!==n&&n.memoizedState.isDehydrated)try{Wt(t.containerInfo)}catch(m){Il(e,e.return,m)}break;case 4:default:vs(t,e),gs(e);break;case 13:vs(t,e),gs(e),8192&(i=e.child).flags&&(o=null!==i.memoizedState,i.stateNode.isHidden=o,!o||null!==i.alternate&&null!==i.alternate.memoizedState||(zs=Je())),4&r&&ps(e);break;case 22:if(d=null!==n&&null!==n.memoizedState,1&e.mode?(Qu=(c=Qu)||d,vs(t,e),Qu=c):vs(t,e),gs(e),8192&r){if(c=null!==e.memoizedState,(e.stateNode.isHidden=c)&&!d&&0!==(1&e.mode))for(Xu=e,d=e.child;null!==d;){for(f=Xu=d;null!==Xu;){switch(p=(h=Xu).child,h.tag){case 0:case 11:case 14:case 15:ns(4,h,h.return);break;case 1:Zu(h,h.return);var v=h.stateNode;if("function"===typeof v.componentWillUnmount){r=h,n=h.return;try{t=r,v.props=t.memoizedProps,v.state=t.memoizedState,v.componentWillUnmount()}catch(m){Il(r,n,m)}}break;case 5:Zu(h,h.return);break;case 22:if(null!==h.memoizedState){ks(f);continue}}null!==p?(p.return=h,Xu=p):ks(f)}d=d.sibling}e:for(d=null,f=e;;){if(5===f.tag){if(null===d){d=f;try{i=f.stateNode,c?"function"===typeof(o=i.style).setProperty?o.setProperty("display","none","important"):o.display="none":(s=f.stateNode,u=void 0!==(l=f.memoizedProps.style)&&null!==l&&l.hasOwnProperty("display")?l.display:null,s.style.display=ve("display",u))}catch(m){Il(e,e.return,m)}}}else if(6===f.tag){if(null===d)try{f.stateNode.nodeValue=c?"":f.memoizedProps}catch(m){Il(e,e.return,m)}}else if((22!==f.tag&&23!==f.tag||null===f.memoizedState||f===e)&&null!==f.child){f.child.return=f,f=f.child;continue}if(f===e)break e;for(;null===f.sibling;){if(null===f.return||f.return===e)break e;d===f&&(d=null),f=f.return}d===f&&(d=null),f.sibling.return=f.return,f=f.sibling}}break;case 19:vs(t,e),gs(e),4&r&&ps(e);case 21:}}function gs(e){var t=e.flags;if(2&t){try{e:{for(var n=e.return;null!==n;){if(os(n)){var r=n;break e}n=n.return}throw Error(a(160))}switch(r.tag){case 5:var i=r.stateNode;32&r.flags&&(fe(i,""),r.flags&=-33),ls(e,us(e),i);break;case 3:case 4:var o=r.stateNode.containerInfo;ss(e,us(e),o);break;default:throw Error(a(161))}}catch(u){Il(e,e.return,u)}e.flags&=-3}4096&t&&(e.flags&=-4097)}function ys(e,t,n){Xu=e,bs(e,t,n)}function bs(e,t,n){for(var r=0!==(1&e.mode);null!==Xu;){var i=Xu,a=i.child;if(22===i.tag&&r){var o=null!==i.memoizedState||Yu;if(!o){var u=i.alternate,s=null!==u&&null!==u.memoizedState||Qu;u=Yu;var l=Qu;if(Yu=o,(Qu=s)&&!l)for(Xu=i;null!==Xu;)s=(o=Xu).child,22===o.tag&&null!==o.memoizedState?ws(i):null!==s?(s.return=o,Xu=s):ws(i);for(;null!==a;)Xu=a,bs(a,t,n),a=a.sibling;Xu=i,Yu=u,Qu=l}_s(e)}else 0!==(8772&i.subtreeFlags)&&null!==a?(a.return=i,Xu=a):_s(e)}}function _s(e){for(;null!==Xu;){var t=Xu;if(0!==(8772&t.flags)){var n=t.alternate;try{if(0!==(8772&t.flags))switch(t.tag){case 0:case 11:case 15:Qu||rs(5,t);break;case 1:var r=t.stateNode;if(4&t.flags&&!Qu)if(null===n)r.componentDidMount();else{var i=t.elementType===t.type?n.memoizedProps:ma(t.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var o=t.updateQueue;null!==o&&Ua(t,o,r);break;case 3:var u=t.updateQueue;if(null!==u){if(n=null,null!==t.child)switch(t.child.tag){case 5:case 1:n=t.child.stateNode}Ua(t,u,n)}break;case 5:var s=t.stateNode;if(null===n&&4&t.flags){n=s;var l=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&n.focus();break;case"img":l.src&&(n.src=l.src)}}break;case 6:case 4:case 12:case 19:case 17:case 21:case 22:case 23:case 25:break;case 13:if(null===t.memoizedState){var c=t.alternate;if(null!==c){var d=c.memoizedState;if(null!==d){var f=d.dehydrated;null!==f&&Wt(f)}}}break;default:throw Error(a(163))}Qu||512&t.flags&&is(t)}catch(h){Il(t,t.return,h)}}if(t===e){Xu=null;break}if(null!==(n=t.sibling)){n.return=t.return,Xu=n;break}Xu=t.return}}function ks(e){for(;null!==Xu;){var t=Xu;if(t===e){Xu=null;break}var n=t.sibling;if(null!==n){n.return=t.return,Xu=n;break}Xu=t.return}}function ws(e){for(;null!==Xu;){var t=Xu;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{rs(4,t)}catch(s){Il(t,n,s)}break;case 1:var r=t.stateNode;if("function"===typeof r.componentDidMount){var i=t.return;try{r.componentDidMount()}catch(s){Il(t,i,s)}}var a=t.return;try{is(t)}catch(s){Il(t,a,s)}break;case 5:var o=t.return;try{is(t)}catch(s){Il(t,o,s)}}}catch(s){Il(t,t.return,s)}if(t===e){Xu=null;break}var u=t.sibling;if(null!==u){u.return=t.return,Xu=u;break}Xu=t.return}}var xs,Is=Math.ceil,Es=_.ReactCurrentDispatcher,Ss=_.ReactCurrentOwner,Cs=_.ReactCurrentBatchConfig,Ts=0,Ps=null,Ns=null,Rs=0,Ds=0,As=Ii(0),Os=0,Ls=null,Ms=0,Fs=0,Us=0,js=null,Bs=null,zs=0,Ws=1/0,qs=null,Vs=!1,Hs=null,Gs=null,Ks=!1,$s=null,Ys=0,Qs=0,Js=null,Xs=-1,Zs=0;function el(){return 0!==(6&Ts)?Je():-1!==Xs?Xs:Xs=Je()}function tl(e){return 0===(1&e.mode)?1:0!==(2&Ts)&&0!==Rs?Rs&-Rs:null!==va.transition?(0===Zs&&(Zs=vt()),Zs):0!==(e=bt)?e:e=void 0===(e=window.event)?16:Qt(e.type)}function nl(e,t,n,r){if(50<Qs)throw Qs=0,Js=null,Error(a(185));gt(e,n,r),0!==(2&Ts)&&e===Ps||(e===Ps&&(0===(2&Ts)&&(Fs|=n),4===Os&&ul(e,Rs)),rl(e,r),1===n&&0===Ts&&0===(1&t.mode)&&(Ws=Je()+500,ji&&Wi()))}function rl(e,t){var n=e.callbackNode;!function(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,i=e.expirationTimes,a=e.pendingLanes;0<a;){var o=31-ot(a),u=1<<o,s=i[o];-1===s?0!==(u&n)&&0===(u&r)||(i[o]=ht(u,t)):s<=t&&(e.expiredLanes|=u),a&=~u}}(e,t);var r=ft(e,e===Ps?Rs:0);if(0===r)null!==n&&$e(n),e.callbackNode=null,e.callbackPriority=0;else if(t=r&-r,e.callbackPriority!==t){if(null!=n&&$e(n),1===t)0===e.tag?function(e){ji=!0,zi(e)}(sl.bind(null,e)):zi(sl.bind(null,e)),oi((function(){0===(6&Ts)&&Wi()})),n=null;else{switch(_t(r)){case 1:n=Ze;break;case 4:n=et;break;case 16:default:n=tt;break;case 536870912:n=rt}n=Pl(n,il.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function il(e,t){if(Xs=-1,Zs=0,0!==(6&Ts))throw Error(a(327));var n=e.callbackNode;if(wl()&&e.callbackNode!==n)return null;var r=ft(e,e===Ps?Rs:0);if(0===r)return null;if(0!==(30&r)||0!==(r&e.expiredLanes)||t)t=ml(e,r);else{t=r;var i=Ts;Ts|=2;var o=pl();for(Ps===e&&Rs===t||(qs=null,Ws=Je()+500,fl(e,t));;)try{yl();break}catch(s){hl(e,s)}ka(),Es.current=o,Ts=i,null!==Ns?t=0:(Ps=null,Rs=0,t=Os)}if(0!==t){if(2===t&&(0!==(i=pt(e))&&(r=i,t=al(e,i))),1===t)throw n=Ls,fl(e,0),ul(e,r),rl(e,Je()),n;if(6===t)ul(e,r);else{if(i=e.current.alternate,0===(30&r)&&!function(e){for(var t=e;;){if(16384&t.flags){var n=t.updateQueue;if(null!==n&&null!==(n=n.stores))for(var r=0;r<n.length;r++){var i=n[r],a=i.getSnapshot;i=i.value;try{if(!ur(a(),i))return!1}catch(u){return!1}}}if(n=t.child,16384&t.subtreeFlags&&null!==n)n.return=t,t=n;else{if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}(i)&&(2===(t=ml(e,r))&&(0!==(o=pt(e))&&(r=o,t=al(e,o))),1===t))throw n=Ls,fl(e,0),ul(e,r),rl(e,Je()),n;switch(e.finishedWork=i,e.finishedLanes=r,t){case 0:case 1:throw Error(a(345));case 2:case 5:kl(e,Bs,qs);break;case 3:if(ul(e,r),(130023424&r)===r&&10<(t=zs+500-Je())){if(0!==ft(e,0))break;if(((i=e.suspendedLanes)&r)!==r){el(),e.pingedLanes|=e.suspendedLanes&i;break}e.timeoutHandle=ri(kl.bind(null,e,Bs,qs),t);break}kl(e,Bs,qs);break;case 4:if(ul(e,r),(4194240&r)===r)break;for(t=e.eventTimes,i=-1;0<r;){var u=31-ot(r);o=1<<u,(u=t[u])>i&&(i=u),r&=~o}if(r=i,10<(r=(120>(r=Je()-r)?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*Is(r/1960))-r)){e.timeoutHandle=ri(kl.bind(null,e,Bs,qs),r);break}kl(e,Bs,qs);break;default:throw Error(a(329))}}}return rl(e,Je()),e.callbackNode===n?il.bind(null,e):null}function al(e,t){var n=js;return e.current.memoizedState.isDehydrated&&(fl(e,t).flags|=256),2!==(e=ml(e,t))&&(t=Bs,Bs=n,null!==t&&ol(t)),e}function ol(e){null===Bs?Bs=e:Bs.push.apply(Bs,e)}function ul(e,t){for(t&=~Us,t&=~Fs,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-ot(t),r=1<<n;e[n]=-1,t&=~r}}function sl(e){if(0!==(6&Ts))throw Error(a(327));wl();var t=ft(e,0);if(0===(1&t))return rl(e,Je()),null;var n=ml(e,t);if(0!==e.tag&&2===n){var r=pt(e);0!==r&&(t=r,n=al(e,r))}if(1===n)throw n=Ls,fl(e,0),ul(e,t),rl(e,Je()),n;if(6===n)throw Error(a(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,kl(e,Bs,qs),rl(e,Je()),null}function ll(e,t){var n=Ts;Ts|=1;try{return e(t)}finally{0===(Ts=n)&&(Ws=Je()+500,ji&&Wi())}}function cl(e){null!==$s&&0===$s.tag&&0===(6&Ts)&&wl();var t=Ts;Ts|=1;var n=Cs.transition,r=bt;try{if(Cs.transition=null,bt=1,e)return e()}finally{bt=r,Cs.transition=n,0===(6&(Ts=t))&&Wi()}}function dl(){Ds=As.current,Ei(As)}function fl(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(-1!==n&&(e.timeoutHandle=-1,ii(n)),null!==Ns)for(n=Ns.return;null!==n;){var r=n;switch(ta(r),r.tag){case 1:null!==(r=r.type.childContextTypes)&&void 0!==r&&Ai();break;case 3:io(),Ei(Pi),Ei(Ti),co();break;case 5:oo(r);break;case 4:io();break;case 13:case 19:Ei(uo);break;case 10:wa(r.type._context);break;case 22:case 23:dl()}n=n.return}if(Ps=e,Ns=e=Al(e.current,null),Rs=Ds=t,Os=0,Ls=null,Us=Fs=Ms=0,Bs=js=null,null!==Sa){for(t=0;t<Sa.length;t++)if(null!==(r=(n=Sa[t]).interleaved)){n.interleaved=null;var i=r.next,a=n.pending;if(null!==a){var o=a.next;a.next=i,r.next=o}n.pending=r}Sa=null}return e}function hl(e,t){for(;;){var n=Ns;try{if(ka(),fo.current=ou,yo){for(var r=vo.memoizedState;null!==r;){var i=r.queue;null!==i&&(i.pending=null),r=r.next}yo=!1}if(po=0,go=mo=vo=null,bo=!1,_o=0,Ss.current=null,null===n||null===n.return){Os=1,Ls=t,Ns=null;break}e:{var o=e,u=n.return,s=n,l=t;if(t=Rs,s.flags|=32768,null!==l&&"object"===typeof l&&"function"===typeof l.then){var c=l,d=s,f=d.tag;if(0===(1&d.mode)&&(0===f||11===f||15===f)){var h=d.alternate;h?(d.updateQueue=h.updateQueue,d.memoizedState=h.memoizedState,d.lanes=h.lanes):(d.updateQueue=null,d.memoizedState=null)}var p=gu(u);if(null!==p){p.flags&=-257,yu(p,u,s,0,t),1&p.mode&&mu(o,c,t),l=c;var v=(t=p).updateQueue;if(null===v){var m=new Set;m.add(l),t.updateQueue=m}else v.add(l);break e}if(0===(1&t)){mu(o,c,t),vl();break e}l=Error(a(426))}else if(ia&&1&s.mode){var g=gu(u);if(null!==g){0===(65536&g.flags)&&(g.flags|=256),yu(g,u,s,0,t),pa(cu(l,s));break e}}o=l=cu(l,s),4!==Os&&(Os=2),null===js?js=[o]:js.push(o),o=u;do{switch(o.tag){case 3:o.flags|=65536,t&=-t,o.lanes|=t,Ma(o,pu(0,l,t));break e;case 1:s=l;var y=o.type,b=o.stateNode;if(0===(128&o.flags)&&("function"===typeof y.getDerivedStateFromError||null!==b&&"function"===typeof b.componentDidCatch&&(null===Gs||!Gs.has(b)))){o.flags|=65536,t&=-t,o.lanes|=t,Ma(o,vu(o,s,t));break e}}o=o.return}while(null!==o)}_l(n)}catch(_){t=_,Ns===n&&null!==n&&(Ns=n=n.return);continue}break}}function pl(){var e=Es.current;return Es.current=ou,null===e?ou:e}function vl(){0!==Os&&3!==Os&&2!==Os||(Os=4),null===Ps||0===(268435455&Ms)&&0===(268435455&Fs)||ul(Ps,Rs)}function ml(e,t){var n=Ts;Ts|=2;var r=pl();for(Ps===e&&Rs===t||(qs=null,fl(e,t));;)try{gl();break}catch(i){hl(e,i)}if(ka(),Ts=n,Es.current=r,null!==Ns)throw Error(a(261));return Ps=null,Rs=0,Os}function gl(){for(;null!==Ns;)bl(Ns)}function yl(){for(;null!==Ns&&!Ye();)bl(Ns)}function bl(e){var t=xs(e.alternate,e,Ds);e.memoizedProps=e.pendingProps,null===t?_l(e):Ns=t,Ss.current=null}function _l(e){var t=e;do{var n=t.alternate;if(e=t.return,0===(32768&t.flags)){if(null!==(n=Ku(n,t,Ds)))return void(Ns=n)}else{if(null!==(n=$u(n,t)))return n.flags&=32767,void(Ns=n);if(null===e)return Os=6,void(Ns=null);e.flags|=32768,e.subtreeFlags=0,e.deletions=null}if(null!==(t=t.sibling))return void(Ns=t);Ns=t=e}while(null!==t);0===Os&&(Os=5)}function kl(e,t,n){var r=bt,i=Cs.transition;try{Cs.transition=null,bt=1,function(e,t,n,r){do{wl()}while(null!==$s);if(0!==(6&Ts))throw Error(a(327));n=e.finishedWork;var i=e.finishedLanes;if(null===n)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(a(177));e.callbackNode=null,e.callbackPriority=0;var o=n.lanes|n.childLanes;if(function(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var r=e.eventTimes;for(e=e.expirationTimes;0<n;){var i=31-ot(n),a=1<<i;t[i]=0,r[i]=-1,e[i]=-1,n&=~a}}(e,o),e===Ps&&(Ns=Ps=null,Rs=0),0===(2064&n.subtreeFlags)&&0===(2064&n.flags)||Ks||(Ks=!0,Pl(tt,(function(){return wl(),null}))),o=0!==(15990&n.flags),0!==(15990&n.subtreeFlags)||o){o=Cs.transition,Cs.transition=null;var u=bt;bt=1;var s=Ts;Ts|=4,Ss.current=null,function(e,t){if(ei=Vt,hr(e=fr())){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{var r=(n=(n=e.ownerDocument)&&n.defaultView||window).getSelection&&n.getSelection();if(r&&0!==r.rangeCount){n=r.anchorNode;var i=r.anchorOffset,o=r.focusNode;r=r.focusOffset;try{n.nodeType,o.nodeType}catch(k){n=null;break e}var u=0,s=-1,l=-1,c=0,d=0,f=e,h=null;t:for(;;){for(var p;f!==n||0!==i&&3!==f.nodeType||(s=u+i),f!==o||0!==r&&3!==f.nodeType||(l=u+r),3===f.nodeType&&(u+=f.nodeValue.length),null!==(p=f.firstChild);)h=f,f=p;for(;;){if(f===e)break t;if(h===n&&++c===i&&(s=u),h===o&&++d===r&&(l=u),null!==(p=f.nextSibling))break;h=(f=h).parentNode}f=p}n=-1===s||-1===l?null:{start:s,end:l}}else n=null}n=n||{start:0,end:0}}else n=null;for(ti={focusedElem:e,selectionRange:n},Vt=!1,Xu=t;null!==Xu;)if(e=(t=Xu).child,0!==(1028&t.subtreeFlags)&&null!==e)e.return=t,Xu=e;else for(;null!==Xu;){t=Xu;try{var v=t.alternate;if(0!==(1024&t.flags))switch(t.tag){case 0:case 11:case 15:case 5:case 6:case 4:case 17:break;case 1:if(null!==v){var m=v.memoizedProps,g=v.memoizedState,y=t.stateNode,b=y.getSnapshotBeforeUpdate(t.elementType===t.type?m:ma(t.type,m),g);y.__reactInternalSnapshotBeforeUpdate=b}break;case 3:var _=t.stateNode.containerInfo;1===_.nodeType?_.textContent="":9===_.nodeType&&_.documentElement&&_.removeChild(_.documentElement);break;default:throw Error(a(163))}}catch(k){Il(t,t.return,k)}if(null!==(e=t.sibling)){e.return=t.return,Xu=e;break}Xu=t.return}v=ts,ts=!1}(e,n),ms(n,e),pr(ti),Vt=!!ei,ti=ei=null,e.current=n,ys(n,e,i),Qe(),Ts=s,bt=u,Cs.transition=o}else e.current=n;if(Ks&&(Ks=!1,$s=e,Ys=i),0===(o=e.pendingLanes)&&(Gs=null),function(e){if(at&&"function"===typeof at.onCommitFiberRoot)try{at.onCommitFiberRoot(it,e,void 0,128===(128&e.current.flags))}catch(t){}}(n.stateNode),rl(e,Je()),null!==t)for(r=e.onRecoverableError,n=0;n<t.length;n++)r((i=t[n]).value,{componentStack:i.stack,digest:i.digest});if(Vs)throw Vs=!1,e=Hs,Hs=null,e;0!==(1&Ys)&&0!==e.tag&&wl(),0!==(1&(o=e.pendingLanes))?e===Js?Qs++:(Qs=0,Js=e):Qs=0,Wi()}(e,t,n,r)}finally{Cs.transition=i,bt=r}return null}function wl(){if(null!==$s){var e=_t(Ys),t=Cs.transition,n=bt;try{if(Cs.transition=null,bt=16>e?16:e,null===$s)var r=!1;else{if(e=$s,$s=null,Ys=0,0!==(6&Ts))throw Error(a(331));var i=Ts;for(Ts|=4,Xu=e.current;null!==Xu;){var o=Xu,u=o.child;if(0!==(16&Xu.flags)){var s=o.deletions;if(null!==s){for(var l=0;l<s.length;l++){var c=s[l];for(Xu=c;null!==Xu;){var d=Xu;switch(d.tag){case 0:case 11:case 15:ns(8,d,o)}var f=d.child;if(null!==f)f.return=d,Xu=f;else for(;null!==Xu;){var h=(d=Xu).sibling,p=d.return;if(as(d),d===c){Xu=null;break}if(null!==h){h.return=p,Xu=h;break}Xu=p}}}var v=o.alternate;if(null!==v){var m=v.child;if(null!==m){v.child=null;do{var g=m.sibling;m.sibling=null,m=g}while(null!==m)}}Xu=o}}if(0!==(2064&o.subtreeFlags)&&null!==u)u.return=o,Xu=u;else e:for(;null!==Xu;){if(0!==(2048&(o=Xu).flags))switch(o.tag){case 0:case 11:case 15:ns(9,o,o.return)}var y=o.sibling;if(null!==y){y.return=o.return,Xu=y;break e}Xu=o.return}}var b=e.current;for(Xu=b;null!==Xu;){var _=(u=Xu).child;if(0!==(2064&u.subtreeFlags)&&null!==_)_.return=u,Xu=_;else e:for(u=b;null!==Xu;){if(0!==(2048&(s=Xu).flags))try{switch(s.tag){case 0:case 11:case 15:rs(9,s)}}catch(w){Il(s,s.return,w)}if(s===u){Xu=null;break e}var k=s.sibling;if(null!==k){k.return=s.return,Xu=k;break e}Xu=s.return}}if(Ts=i,Wi(),at&&"function"===typeof at.onPostCommitFiberRoot)try{at.onPostCommitFiberRoot(it,e)}catch(w){}r=!0}return r}finally{bt=n,Cs.transition=t}}return!1}function xl(e,t,n){e=Oa(e,t=pu(0,t=cu(n,t),1),1),t=el(),null!==e&&(gt(e,1,t),rl(e,t))}function Il(e,t,n){if(3===e.tag)xl(e,e,n);else for(;null!==t;){if(3===t.tag){xl(t,e,n);break}if(1===t.tag){var r=t.stateNode;if("function"===typeof t.type.getDerivedStateFromError||"function"===typeof r.componentDidCatch&&(null===Gs||!Gs.has(r))){t=Oa(t,e=vu(t,e=cu(n,e),1),1),e=el(),null!==t&&(gt(t,1,e),rl(t,e));break}}t=t.return}}function El(e,t,n){var r=e.pingCache;null!==r&&r.delete(t),t=el(),e.pingedLanes|=e.suspendedLanes&n,Ps===e&&(Rs&n)===n&&(4===Os||3===Os&&(130023424&Rs)===Rs&&500>Je()-zs?fl(e,0):Us|=n),rl(e,t)}function Sl(e,t){0===t&&(0===(1&e.mode)?t=1:(t=ct,0===(130023424&(ct<<=1))&&(ct=4194304)));var n=el();null!==(e=Pa(e,t))&&(gt(e,t,n),rl(e,n))}function Cl(e){var t=e.memoizedState,n=0;null!==t&&(n=t.retryLane),Sl(e,n)}function Tl(e,t){var n=0;switch(e.tag){case 13:var r=e.stateNode,i=e.memoizedState;null!==i&&(n=i.retryLane);break;case 19:r=e.stateNode;break;default:throw Error(a(314))}null!==r&&r.delete(t),Sl(e,n)}function Pl(e,t){return Ke(e,t)}function Nl(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Rl(e,t,n,r){return new Nl(e,t,n,r)}function Dl(e){return!(!(e=e.prototype)||!e.isReactComponent)}function Al(e,t){var n=e.alternate;return null===n?((n=Rl(e.tag,t,e.key,e.mode)).elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=14680064&e.flags,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=null===t?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function Ol(e,t,n,r,i,o){var u=2;if(r=e,"function"===typeof e)Dl(e)&&(u=1);else if("string"===typeof e)u=5;else e:switch(e){case x:return Ll(n.children,i,o,t);case I:u=8,i|=8;break;case E:return(e=Rl(12,n,t,2|i)).elementType=E,e.lanes=o,e;case P:return(e=Rl(13,n,t,i)).elementType=P,e.lanes=o,e;case N:return(e=Rl(19,n,t,i)).elementType=N,e.lanes=o,e;case A:return Ml(n,i,o,t);default:if("object"===typeof e&&null!==e)switch(e.$$typeof){case S:u=10;break e;case C:u=9;break e;case T:u=11;break e;case R:u=14;break e;case D:u=16,r=null;break e}throw Error(a(130,null==e?e:typeof e,""))}return(t=Rl(u,n,t,i)).elementType=e,t.type=r,t.lanes=o,t}function Ll(e,t,n,r){return(e=Rl(7,e,r,t)).lanes=n,e}function Ml(e,t,n,r){return(e=Rl(22,e,r,t)).elementType=A,e.lanes=n,e.stateNode={isHidden:!1},e}function Fl(e,t,n){return(e=Rl(6,e,null,t)).lanes=n,e}function Ul(e,t,n){return(t=Rl(4,null!==e.children?e.children:[],e.key,t)).lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function jl(e,t,n,r,i){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=mt(0),this.expirationTimes=mt(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=mt(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function Bl(e,t,n,r,i,a,o,u,s){return e=new jl(e,t,n,u,s),1===t?(t=1,!0===a&&(t|=8)):t=0,a=Rl(3,null,null,t),e.current=a,a.stateNode=e,a.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},Ra(a),e}function zl(e,t,n){var r=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;return{$$typeof:w,key:null==r?null:""+r,children:e,containerInfo:t,implementation:n}}function Wl(e){if(!e)return Ci;e:{if(We(e=e._reactInternals)!==e||1!==e.tag)throw Error(a(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(Di(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(null!==t);throw Error(a(171))}if(1===e.tag){var n=e.type;if(Di(n))return Li(e,n,t)}return t}function ql(e,t,n,r,i,a,o,u,s){return(e=Bl(n,r,!0,e,0,a,0,u,s)).context=Wl(null),n=e.current,(a=Aa(r=el(),i=tl(n))).callback=void 0!==t&&null!==t?t:null,Oa(n,a,i),e.current.lanes=i,gt(e,i,r),rl(e,r),e}function Vl(e,t,n,r){var i=t.current,a=el(),o=tl(i);return n=Wl(n),null===t.context?t.context=n:t.pendingContext=n,(t=Aa(a,o)).payload={element:e},null!==(r=void 0===r?null:r)&&(t.callback=r),null!==(e=Oa(i,t,o))&&(nl(e,i,o,a),La(e,i,o)),o}function Hl(e){return(e=e.current).child?(e.child.tag,e.child.stateNode):null}function Gl(e,t){if(null!==(e=e.memoizedState)&&null!==e.dehydrated){var n=e.retryLane;e.retryLane=0!==n&&n<t?n:t}}function Kl(e,t){Gl(e,t),(e=e.alternate)&&Gl(e,t)}xs=function(e,t,n){if(null!==e)if(e.memoizedProps!==t.pendingProps||Pi.current)_u=!0;else{if(0===(e.lanes&n)&&0===(128&t.flags))return _u=!1,function(e,t,n){switch(t.tag){case 3:Nu(t),ha();break;case 5:ao(t);break;case 1:Di(t.type)&&Mi(t);break;case 4:ro(t,t.stateNode.containerInfo);break;case 10:var r=t.type._context,i=t.memoizedProps.value;Si(ga,r._currentValue),r._currentValue=i;break;case 13:if(null!==(r=t.memoizedState))return null!==r.dehydrated?(Si(uo,1&uo.current),t.flags|=128,null):0!==(n&t.child.childLanes)?Fu(e,t,n):(Si(uo,1&uo.current),null!==(e=Vu(e,t,n))?e.sibling:null);Si(uo,1&uo.current);break;case 19:if(r=0!==(n&t.childLanes),0!==(128&e.flags)){if(r)return Wu(e,t,n);t.flags|=128}if(null!==(i=t.memoizedState)&&(i.rendering=null,i.tail=null,i.lastEffect=null),Si(uo,uo.current),r)break;return null;case 22:case 23:return t.lanes=0,Eu(e,t,n)}return Vu(e,t,n)}(e,t,n);_u=0!==(131072&e.flags)}else _u=!1,ia&&0!==(1048576&t.flags)&&Zi(t,Gi,t.index);switch(t.lanes=0,t.tag){case 2:var r=t.type;qu(e,t),e=t.pendingProps;var i=Ri(t,Ti.current);Ia(t,n),i=Io(null,t,r,e,i,n);var o=Eo();return t.flags|=1,"object"===typeof i&&null!==i&&"function"===typeof i.render&&void 0===i.$$typeof?(t.tag=1,t.memoizedState=null,t.updateQueue=null,Di(r)?(o=!0,Mi(t)):o=!1,t.memoizedState=null!==i.state&&void 0!==i.state?i.state:null,Ra(t),i.updater=za,t.stateNode=i,i._reactInternals=t,Ha(t,r,e,n),t=Pu(null,t,r,!0,o,n)):(t.tag=0,ia&&o&&ea(t),ku(null,t,i,n),t=t.child),t;case 16:r=t.elementType;e:{switch(qu(e,t),e=t.pendingProps,r=(i=r._init)(r._payload),t.type=r,i=t.tag=function(e){if("function"===typeof e)return Dl(e)?1:0;if(void 0!==e&&null!==e){if((e=e.$$typeof)===T)return 11;if(e===R)return 14}return 2}(r),e=ma(r,e),i){case 0:t=Cu(null,t,r,e,n);break e;case 1:t=Tu(null,t,r,e,n);break e;case 11:t=wu(null,t,r,e,n);break e;case 14:t=xu(null,t,r,ma(r.type,e),n);break e}throw Error(a(306,r,""))}return t;case 0:return r=t.type,i=t.pendingProps,Cu(e,t,r,i=t.elementType===r?i:ma(r,i),n);case 1:return r=t.type,i=t.pendingProps,Tu(e,t,r,i=t.elementType===r?i:ma(r,i),n);case 3:e:{if(Nu(t),null===e)throw Error(a(387));r=t.pendingProps,i=(o=t.memoizedState).element,Da(e,t),Fa(t,r,null,n);var u=t.memoizedState;if(r=u.element,o.isDehydrated){if(o={element:r,isDehydrated:!1,cache:u.cache,pendingSuspenseBoundaries:u.pendingSuspenseBoundaries,transitions:u.transitions},t.updateQueue.baseState=o,t.memoizedState=o,256&t.flags){t=Ru(e,t,r,n,i=cu(Error(a(423)),t));break e}if(r!==i){t=Ru(e,t,r,n,i=cu(Error(a(424)),t));break e}for(ra=li(t.stateNode.containerInfo.firstChild),na=t,ia=!0,aa=null,n=Ja(t,null,r,n),t.child=n;n;)n.flags=-3&n.flags|4096,n=n.sibling}else{if(ha(),r===i){t=Vu(e,t,n);break e}ku(e,t,r,n)}t=t.child}return t;case 5:return ao(t),null===e&&la(t),r=t.type,i=t.pendingProps,o=null!==e?e.memoizedProps:null,u=i.children,ni(r,i)?u=null:null!==o&&ni(r,o)&&(t.flags|=32),Su(e,t),ku(e,t,u,n),t.child;case 6:return null===e&&la(t),null;case 13:return Fu(e,t,n);case 4:return ro(t,t.stateNode.containerInfo),r=t.pendingProps,null===e?t.child=Qa(t,null,r,n):ku(e,t,r,n),t.child;case 11:return r=t.type,i=t.pendingProps,wu(e,t,r,i=t.elementType===r?i:ma(r,i),n);case 7:return ku(e,t,t.pendingProps,n),t.child;case 8:case 12:return ku(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(r=t.type._context,i=t.pendingProps,o=t.memoizedProps,u=i.value,Si(ga,r._currentValue),r._currentValue=u,null!==o)if(ur(o.value,u)){if(o.children===i.children&&!Pi.current){t=Vu(e,t,n);break e}}else for(null!==(o=t.child)&&(o.return=t);null!==o;){var s=o.dependencies;if(null!==s){u=o.child;for(var l=s.firstContext;null!==l;){if(l.context===r){if(1===o.tag){(l=Aa(-1,n&-n)).tag=2;var c=o.updateQueue;if(null!==c){var d=(c=c.shared).pending;null===d?l.next=l:(l.next=d.next,d.next=l),c.pending=l}}o.lanes|=n,null!==(l=o.alternate)&&(l.lanes|=n),xa(o.return,n,t),s.lanes|=n;break}l=l.next}}else if(10===o.tag)u=o.type===t.type?null:o.child;else if(18===o.tag){if(null===(u=o.return))throw Error(a(341));u.lanes|=n,null!==(s=u.alternate)&&(s.lanes|=n),xa(u,n,t),u=o.sibling}else u=o.child;if(null!==u)u.return=o;else for(u=o;null!==u;){if(u===t){u=null;break}if(null!==(o=u.sibling)){o.return=u.return,u=o;break}u=u.return}o=u}ku(e,t,i.children,n),t=t.child}return t;case 9:return i=t.type,r=t.pendingProps.children,Ia(t,n),r=r(i=Ea(i)),t.flags|=1,ku(e,t,r,n),t.child;case 14:return i=ma(r=t.type,t.pendingProps),xu(e,t,r,i=ma(r.type,i),n);case 15:return Iu(e,t,t.type,t.pendingProps,n);case 17:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:ma(r,i),qu(e,t),t.tag=1,Di(r)?(e=!0,Mi(t)):e=!1,Ia(t,n),qa(t,r,i),Ha(t,r,i,n),Pu(null,t,r,!0,e,n);case 19:return Wu(e,t,n);case 22:return Eu(e,t,n)}throw Error(a(156,t.tag))};var $l="function"===typeof reportError?reportError:function(e){console.error(e)};function Yl(e){this._internalRoot=e}function Ql(e){this._internalRoot=e}function Jl(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType)}function Xl(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType&&(8!==e.nodeType||" react-mount-point-unstable "!==e.nodeValue))}function Zl(){}function ec(e,t,n,r,i){var a=n._reactRootContainer;if(a){var o=a;if("function"===typeof i){var u=i;i=function(){var e=Hl(o);u.call(e)}}Vl(t,o,e,i)}else o=function(e,t,n,r,i){if(i){if("function"===typeof r){var a=r;r=function(){var e=Hl(o);a.call(e)}}var o=ql(t,r,e,0,null,!1,0,"",Zl);return e._reactRootContainer=o,e[pi]=o.current,Wr(8===e.nodeType?e.parentNode:e),cl(),o}for(;i=e.lastChild;)e.removeChild(i);if("function"===typeof r){var u=r;r=function(){var e=Hl(s);u.call(e)}}var s=Bl(e,0,!1,null,0,!1,0,"",Zl);return e._reactRootContainer=s,e[pi]=s.current,Wr(8===e.nodeType?e.parentNode:e),cl((function(){Vl(t,s,n,r)})),s}(n,t,e,i,r);return Hl(o)}Ql.prototype.render=Yl.prototype.render=function(e){var t=this._internalRoot;if(null===t)throw Error(a(409));Vl(e,t,null,null)},Ql.prototype.unmount=Yl.prototype.unmount=function(){var e=this._internalRoot;if(null!==e){this._internalRoot=null;var t=e.containerInfo;cl((function(){Vl(null,e,null,null)})),t[pi]=null}},Ql.prototype.unstable_scheduleHydration=function(e){if(e){var t=It();e={blockedOn:null,target:e,priority:t};for(var n=0;n<At.length&&0!==t&&t<At[n].priority;n++);At.splice(n,0,e),0===n&&Ft(e)}},kt=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=dt(t.pendingLanes);0!==n&&(yt(t,1|n),rl(t,Je()),0===(6&Ts)&&(Ws=Je()+500,Wi()))}break;case 13:cl((function(){var t=Pa(e,1);if(null!==t){var n=el();nl(t,e,1,n)}})),Kl(e,1)}},wt=function(e){if(13===e.tag){var t=Pa(e,134217728);if(null!==t)nl(t,e,134217728,el());Kl(e,134217728)}},xt=function(e){if(13===e.tag){var t=tl(e),n=Pa(e,t);if(null!==n)nl(n,e,t,el());Kl(e,t)}},It=function(){return bt},Et=function(e,t){var n=bt;try{return bt=e,t()}finally{bt=n}},we=function(e,t,n){switch(t){case"input":if(X(e,n),t=n.name,"radio"===n.type&&null!=t){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var i=ki(r);if(!i)throw Error(a(90));K(r),X(r,i)}}}break;case"textarea":ae(e,n);break;case"select":null!=(t=n.value)&&ne(e,!!n.multiple,t,!1)}},Te=ll,Pe=cl;var tc={usingClientEntryPoint:!1,Events:[bi,_i,ki,Se,Ce,ll]},nc={findFiberByHostInstance:yi,bundleType:0,version:"18.2.0",rendererPackageName:"react-dom"},rc={bundleType:nc.bundleType,version:nc.version,rendererPackageName:nc.rendererPackageName,rendererConfig:nc.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:_.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return null===(e=He(e))?null:e.stateNode},findFiberByHostInstance:nc.findFiberByHostInstance||function(){return null},findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.2.0-next-9e3b772b8-20220608"};if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__){var ic=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!ic.isDisabled&&ic.supportsFiber)try{it=ic.inject(rc),at=ic}catch(ce){}}t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=tc,t.createPortal=function(e,t){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;if(!Jl(t))throw Error(a(200));return zl(e,t,null,n)},t.createRoot=function(e,t){if(!Jl(e))throw Error(a(299));var n=!1,r="",i=$l;return null!==t&&void 0!==t&&(!0===t.unstable_strictMode&&(n=!0),void 0!==t.identifierPrefix&&(r=t.identifierPrefix),void 0!==t.onRecoverableError&&(i=t.onRecoverableError)),t=Bl(e,1,!1,null,0,n,0,r,i),e[pi]=t.current,Wr(8===e.nodeType?e.parentNode:e),new Yl(t)},t.findDOMNode=function(e){if(null==e)return null;if(1===e.nodeType)return e;var t=e._reactInternals;if(void 0===t){if("function"===typeof e.render)throw Error(a(188));throw e=Object.keys(e).join(","),Error(a(268,e))}return e=null===(e=He(t))?null:e.stateNode},t.flushSync=function(e){return cl(e)},t.hydrate=function(e,t,n){if(!Xl(t))throw Error(a(200));return ec(null,e,t,!0,n)},t.hydrateRoot=function(e,t,n){if(!Jl(e))throw Error(a(405));var r=null!=n&&n.hydratedSources||null,i=!1,o="",u=$l;if(null!==n&&void 0!==n&&(!0===n.unstable_strictMode&&(i=!0),void 0!==n.identifierPrefix&&(o=n.identifierPrefix),void 0!==n.onRecoverableError&&(u=n.onRecoverableError)),t=ql(t,null,e,1,null!=n?n:null,i,0,o,u),e[pi]=t.current,Wr(e),r)for(e=0;e<r.length;e++)i=(i=(n=r[e])._getVersion)(n._source),null==t.mutableSourceEagerHydrationData?t.mutableSourceEagerHydrationData=[n,i]:t.mutableSourceEagerHydrationData.push(n,i);return new Ql(t)},t.render=function(e,t,n){if(!Xl(t))throw Error(a(200));return ec(null,e,t,!1,n)},t.unmountComponentAtNode=function(e){if(!Xl(e))throw Error(a(40));return!!e._reactRootContainer&&(cl((function(){ec(null,null,e,!1,(function(){e._reactRootContainer=null,e[pi]=null}))})),!0)},t.unstable_batchedUpdates=ll,t.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!Xl(n))throw Error(a(200));if(null==e||void 0===e._reactInternals)throw Error(a(38));return ec(e,t,n,!1,r)},t.version="18.2.0-next-9e3b772b8-20220608"},250:function(e,t,n){var r=n(164);t.createRoot=r.createRoot,t.hydrateRoot=r.hydrateRoot},164:function(e,t,n){!function e(){if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"===typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE)try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}(),e.exports=n(463)},374:function(e,t,n){var r=n(791),i=Symbol.for("react.element"),a=Symbol.for("react.fragment"),o=Object.prototype.hasOwnProperty,u=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,s={key:!0,ref:!0,__self:!0,__source:!0};function l(e,t,n){var r,a={},l=null,c=null;for(r in void 0!==n&&(l=""+n),void 0!==t.key&&(l=""+t.key),void 0!==t.ref&&(c=t.ref),t)o.call(t,r)&&!s.hasOwnProperty(r)&&(a[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps)void 0===a[r]&&(a[r]=t[r]);return{$$typeof:i,type:e,key:l,ref:c,props:a,_owner:u.current}}t.Fragment=a,t.jsx=l,t.jsxs=l},117:function(e,t){var n=Symbol.for("react.element"),r=Symbol.for("react.portal"),i=Symbol.for("react.fragment"),a=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),u=Symbol.for("react.provider"),s=Symbol.for("react.context"),l=Symbol.for("react.forward_ref"),c=Symbol.for("react.suspense"),d=Symbol.for("react.memo"),f=Symbol.for("react.lazy"),h=Symbol.iterator;var p={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},v=Object.assign,m={};function g(e,t,n){this.props=e,this.context=t,this.refs=m,this.updater=n||p}function y(){}function b(e,t,n){this.props=e,this.context=t,this.refs=m,this.updater=n||p}g.prototype.isReactComponent={},g.prototype.setState=function(e,t){if("object"!==typeof e&&"function"!==typeof e&&null!=e)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")},g.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")},y.prototype=g.prototype;var _=b.prototype=new y;_.constructor=b,v(_,g.prototype),_.isPureReactComponent=!0;var k=Array.isArray,w=Object.prototype.hasOwnProperty,x={current:null},I={key:!0,ref:!0,__self:!0,__source:!0};function E(e,t,r){var i,a={},o=null,u=null;if(null!=t)for(i in void 0!==t.ref&&(u=t.ref),void 0!==t.key&&(o=""+t.key),t)w.call(t,i)&&!I.hasOwnProperty(i)&&(a[i]=t[i]);var s=arguments.length-2;if(1===s)a.children=r;else if(1<s){for(var l=Array(s),c=0;c<s;c++)l[c]=arguments[c+2];a.children=l}if(e&&e.defaultProps)for(i in s=e.defaultProps)void 0===a[i]&&(a[i]=s[i]);return{$$typeof:n,type:e,key:o,ref:u,props:a,_owner:x.current}}function S(e){return"object"===typeof e&&null!==e&&e.$$typeof===n}var C=/\/+/g;function T(e,t){return"object"===typeof e&&null!==e&&null!=e.key?function(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,(function(e){return t[e]}))}(""+e.key):t.toString(36)}function P(e,t,i,a,o){var u=typeof e;"undefined"!==u&&"boolean"!==u||(e=null);var s=!1;if(null===e)s=!0;else switch(u){case"string":case"number":s=!0;break;case"object":switch(e.$$typeof){case n:case r:s=!0}}if(s)return o=o(s=e),e=""===a?"."+T(s,0):a,k(o)?(i="",null!=e&&(i=e.replace(C,"$&/")+"/"),P(o,t,i,"",(function(e){return e}))):null!=o&&(S(o)&&(o=function(e,t){return{$$typeof:n,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}(o,i+(!o.key||s&&s.key===o.key?"":(""+o.key).replace(C,"$&/")+"/")+e)),t.push(o)),1;if(s=0,a=""===a?".":a+":",k(e))for(var l=0;l<e.length;l++){var c=a+T(u=e[l],l);s+=P(u,t,i,c,o)}else if(c=function(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=h&&e[h]||e["@@iterator"])?e:null}(e),"function"===typeof c)for(e=c.call(e),l=0;!(u=e.next()).done;)s+=P(u=u.value,t,i,c=a+T(u,l++),o);else if("object"===u)throw t=String(e),Error("Objects are not valid as a React child (found: "+("[object Object]"===t?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return s}function N(e,t,n){if(null==e)return e;var r=[],i=0;return P(e,r,"","",(function(e){return t.call(n,e,i++)})),r}function R(e){if(-1===e._status){var t=e._result;(t=t()).then((function(t){0!==e._status&&-1!==e._status||(e._status=1,e._result=t)}),(function(t){0!==e._status&&-1!==e._status||(e._status=2,e._result=t)})),-1===e._status&&(e._status=0,e._result=t)}if(1===e._status)return e._result.default;throw e._result}var D={current:null},A={transition:null},O={ReactCurrentDispatcher:D,ReactCurrentBatchConfig:A,ReactCurrentOwner:x};t.Children={map:N,forEach:function(e,t,n){N(e,(function(){t.apply(this,arguments)}),n)},count:function(e){var t=0;return N(e,(function(){t++})),t},toArray:function(e){return N(e,(function(e){return e}))||[]},only:function(e){if(!S(e))throw Error("React.Children.only expected to receive a single React element child.");return e}},t.Component=g,t.Fragment=i,t.Profiler=o,t.PureComponent=b,t.StrictMode=a,t.Suspense=c,t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=O,t.cloneElement=function(e,t,r){if(null===e||void 0===e)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var i=v({},e.props),a=e.key,o=e.ref,u=e._owner;if(null!=t){if(void 0!==t.ref&&(o=t.ref,u=x.current),void 0!==t.key&&(a=""+t.key),e.type&&e.type.defaultProps)var s=e.type.defaultProps;for(l in t)w.call(t,l)&&!I.hasOwnProperty(l)&&(i[l]=void 0===t[l]&&void 0!==s?s[l]:t[l])}var l=arguments.length-2;if(1===l)i.children=r;else if(1<l){s=Array(l);for(var c=0;c<l;c++)s[c]=arguments[c+2];i.children=s}return{$$typeof:n,type:e.type,key:a,ref:o,props:i,_owner:u}},t.createContext=function(e){return(e={$$typeof:s,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null}).Provider={$$typeof:u,_context:e},e.Consumer=e},t.createElement=E,t.createFactory=function(e){var t=E.bind(null,e);return t.type=e,t},t.createRef=function(){return{current:null}},t.forwardRef=function(e){return{$$typeof:l,render:e}},t.isValidElement=S,t.lazy=function(e){return{$$typeof:f,_payload:{_status:-1,_result:e},_init:R}},t.memo=function(e,t){return{$$typeof:d,type:e,compare:void 0===t?null:t}},t.startTransition=function(e){var t=A.transition;A.transition={};try{e()}finally{A.transition=t}},t.unstable_act=function(){throw Error("act(...) is not supported in production builds of React.")},t.useCallback=function(e,t){return D.current.useCallback(e,t)},t.useContext=function(e){return D.current.useContext(e)},t.useDebugValue=function(){},t.useDeferredValue=function(e){return D.current.useDeferredValue(e)},t.useEffect=function(e,t){return D.current.useEffect(e,t)},t.useId=function(){return D.current.useId()},t.useImperativeHandle=function(e,t,n){return D.current.useImperativeHandle(e,t,n)},t.useInsertionEffect=function(e,t){return D.current.useInsertionEffect(e,t)},t.useLayoutEffect=function(e,t){return D.current.useLayoutEffect(e,t)},t.useMemo=function(e,t){return D.current.useMemo(e,t)},t.useReducer=function(e,t,n){return D.current.useReducer(e,t,n)},t.useRef=function(e){return D.current.useRef(e)},t.useState=function(e){return D.current.useState(e)},t.useSyncExternalStore=function(e,t,n){return D.current.useSyncExternalStore(e,t,n)},t.useTransition=function(){return D.current.useTransition()},t.version="18.2.0"},791:function(e,t,n){e.exports=n(117)},184:function(e,t,n){e.exports=n(374)},813:function(e,t){function n(e,t){var n=e.length;e.push(t);e:for(;0<n;){var r=n-1>>>1,i=e[r];if(!(0<a(i,t)))break e;e[r]=t,e[n]=i,n=r}}function r(e){return 0===e.length?null:e[0]}function i(e){if(0===e.length)return null;var t=e[0],n=e.pop();if(n!==t){e[0]=n;e:for(var r=0,i=e.length,o=i>>>1;r<o;){var u=2*(r+1)-1,s=e[u],l=u+1,c=e[l];if(0>a(s,n))l<i&&0>a(c,s)?(e[r]=c,e[l]=n,r=l):(e[r]=s,e[u]=n,r=u);else{if(!(l<i&&0>a(c,n)))break e;e[r]=c,e[l]=n,r=l}}}return t}function a(e,t){var n=e.sortIndex-t.sortIndex;return 0!==n?n:e.id-t.id}if("object"===typeof performance&&"function"===typeof performance.now){var o=performance;t.unstable_now=function(){return o.now()}}else{var u=Date,s=u.now();t.unstable_now=function(){return u.now()-s}}var l=[],c=[],d=1,f=null,h=3,p=!1,v=!1,m=!1,g="function"===typeof setTimeout?setTimeout:null,y="function"===typeof clearTimeout?clearTimeout:null,b="undefined"!==typeof setImmediate?setImmediate:null;function _(e){for(var t=r(c);null!==t;){if(null===t.callback)i(c);else{if(!(t.startTime<=e))break;i(c),t.sortIndex=t.expirationTime,n(l,t)}t=r(c)}}function k(e){if(m=!1,_(e),!v)if(null!==r(l))v=!0,A(w);else{var t=r(c);null!==t&&O(k,t.startTime-e)}}function w(e,n){v=!1,m&&(m=!1,y(S),S=-1),p=!0;var a=h;try{for(_(n),f=r(l);null!==f&&(!(f.expirationTime>n)||e&&!P());){var o=f.callback;if("function"===typeof o){f.callback=null,h=f.priorityLevel;var u=o(f.expirationTime<=n);n=t.unstable_now(),"function"===typeof u?f.callback=u:f===r(l)&&i(l),_(n)}else i(l);f=r(l)}if(null!==f)var s=!0;else{var d=r(c);null!==d&&O(k,d.startTime-n),s=!1}return s}finally{f=null,h=a,p=!1}}"undefined"!==typeof navigator&&void 0!==navigator.scheduling&&void 0!==navigator.scheduling.isInputPending&&navigator.scheduling.isInputPending.bind(navigator.scheduling);var x,I=!1,E=null,S=-1,C=5,T=-1;function P(){return!(t.unstable_now()-T<C)}function N(){if(null!==E){var e=t.unstable_now();T=e;var n=!0;try{n=E(!0,e)}finally{n?x():(I=!1,E=null)}}else I=!1}if("function"===typeof b)x=function(){b(N)};else if("undefined"!==typeof MessageChannel){var R=new MessageChannel,D=R.port2;R.port1.onmessage=N,x=function(){D.postMessage(null)}}else x=function(){g(N,0)};function A(e){E=e,I||(I=!0,x())}function O(e,n){S=g((function(){e(t.unstable_now())}),n)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(e){e.callback=null},t.unstable_continueExecution=function(){v||p||(v=!0,A(w))},t.unstable_forceFrameRate=function(e){0>e||125<e?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):C=0<e?Math.floor(1e3/e):5},t.unstable_getCurrentPriorityLevel=function(){return h},t.unstable_getFirstCallbackNode=function(){return r(l)},t.unstable_next=function(e){switch(h){case 1:case 2:case 3:var t=3;break;default:t=h}var n=h;h=t;try{return e()}finally{h=n}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(e,t){switch(e){case 1:case 2:case 3:case 4:case 5:break;default:e=3}var n=h;h=e;try{return t()}finally{h=n}},t.unstable_scheduleCallback=function(e,i,a){var o=t.unstable_now();switch("object"===typeof a&&null!==a?a="number"===typeof(a=a.delay)&&0<a?o+a:o:a=o,e){case 1:var u=-1;break;case 2:u=250;break;case 5:u=1073741823;break;case 4:u=1e4;break;default:u=5e3}return e={id:d++,callback:i,priorityLevel:e,startTime:a,expirationTime:u=a+u,sortIndex:-1},a>o?(e.sortIndex=a,n(c,e),null===r(l)&&e===r(c)&&(m?(y(S),S=-1):m=!0,O(k,a-o))):(e.sortIndex=u,n(l,e),v||p||(v=!0,A(w))),e},t.unstable_shouldYield=P,t.unstable_wrapCallback=function(e){var t=h;return function(){var n=h;h=t;try{return e.apply(this,arguments)}finally{h=n}}}},296:function(e,t,n){e.exports=n(813)},561:function(e,t,n){var r=n(791);var i="function"===typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e===1/t)||e!==e&&t!==t},a=r.useState,o=r.useEffect,u=r.useLayoutEffect,s=r.useDebugValue;function l(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!i(e,n)}catch(r){return!0}}var c="undefined"===typeof window||"undefined"===typeof window.document||"undefined"===typeof window.document.createElement?function(e,t){return t()}:function(e,t){var n=t(),r=a({inst:{value:n,getSnapshot:t}}),i=r[0].inst,c=r[1];return u((function(){i.value=n,i.getSnapshot=t,l(i)&&c({inst:i})}),[e,n,t]),o((function(){return l(i)&&c({inst:i}),e((function(){l(i)&&c({inst:i})}))}),[e]),s(n),n};t.useSyncExternalStore=void 0!==r.useSyncExternalStore?r.useSyncExternalStore:c},595:function(e,t,n){var r=n(791),i=n(248);var a="function"===typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e===1/t)||e!==e&&t!==t},o=i.useSyncExternalStore,u=r.useRef,s=r.useEffect,l=r.useMemo,c=r.useDebugValue;t.useSyncExternalStoreWithSelector=function(e,t,n,r,i){var d=u(null);if(null===d.current){var f={hasValue:!1,value:null};d.current=f}else f=d.current;d=l((function(){function e(e){if(!s){if(s=!0,o=e,e=r(e),void 0!==i&&f.hasValue){var t=f.value;if(i(t,e))return u=t}return u=e}if(t=u,a(o,e))return t;var n=r(e);return void 0!==i&&i(t,n)?t:(o=e,u=n)}var o,u,s=!1,l=void 0===n?null:n;return[function(){return e(t())},null===l?void 0:function(){return e(l())}]}),[t,n,r,i]);var h=o(e,d[0],d[1]);return s((function(){f.hasValue=!0,f.value=h}),[h]),c(h),h}},248:function(e,t,n){e.exports=n(561)},327:function(e,t,n){e.exports=n(595)}},t={};function n(r){var i=t[r];if(void 0!==i)return i.exports;var a=t[r]={exports:{}};return e[r](a,a.exports,n),a.exports}n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,{a:t}),t},function(){var e,t=Object.getPrototypeOf?function(e){return Object.getPrototypeOf(e)}:function(e){return e.__proto__};n.t=function(r,i){if(1&i&&(r=this(r)),8&i)return r;if("object"===typeof r&&r){if(4&i&&r.__esModule)return r;if(16&i&&"function"===typeof r.then)return r}var a=Object.create(null);n.r(a);var o={};e=e||[null,t({}),t([]),t(t)];for(var u=2&i&&r;"object"==typeof u&&!~e.indexOf(u);u=t(u))Object.getOwnPropertyNames(u).forEach((function(e){o[e]=function(){return r[e]}}));return o.default=function(){return r},n.d(a,o),a}}(),n.d=function(e,t){for(var r in t)n.o(t,r)&&!n.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},n.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}(),n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},function(){var e={};n.r(e),n.d(e,{FirebaseError:function(){return ie},SDK_VERSION:function(){return It},_DEFAULT_ENTRY_NAME:function(){return dt},_addComponent:function(){return vt},_addOrOverwriteComponent:function(){return mt},_apps:function(){return ht},_clearComponents:function(){return _t},_components:function(){return pt},_getProvider:function(){return yt},_registerComponent:function(){return gt},_removeServiceInstance:function(){return bt},deleteApp:function(){return Tt},getApp:function(){return St},getApps:function(){return Ct},initializeApp:function(){return Et},onLog:function(){return Rt},registerVersion:function(){return Nt},setLogLevel:function(){return Dt}});var t=n(791),r=n.t(t,2),i=n(250);function a(e){if(Array.isArray(e))return e}function o(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function u(e,t){if(e){if("string"===typeof e)return o(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?o(e,t):void 0}}function s(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function l(e,t){return a(e)||function(e,t){var n=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,a=[],o=!0,u=!1;try{for(n=n.call(e);!(o=(r=n.next()).done)&&(a.push(r.value),!t||a.length!==t);o=!0);}catch(s){u=!0,i=s}finally{try{o||null==n.return||n.return()}finally{if(u)throw i}}return a}}(e,t)||u(e,t)||s()}var c=n(184),d=t.createContext(),f=t.createContext();function h(){return(0,t.useContext)(d)}function p(e){var n=e.children,r=l((0,t.useState)(!0),2),i=r[0],a=r[1];return(0,c.jsx)(d.Provider,{value:i,children:(0,c.jsx)(f.Provider,{value:function(){a((function(e){return!e}))},children:(0,c.jsx)("div",{className:"app-container ".concat(!i&&"dark-mode"),children:n})})})}function v(e){return v="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},v(e)}function m(){m=function(){return e};var e={},t=Object.prototype,n=t.hasOwnProperty,r="function"==typeof Symbol?Symbol:{},i=r.iterator||"@@iterator",a=r.asyncIterator||"@@asyncIterator",o=r.toStringTag||"@@toStringTag";function u(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{u({},"")}catch(T){u=function(e,t,n){return e[t]=n}}function s(e,t,n,r){var i=t&&t.prototype instanceof d?t:d,a=Object.create(i.prototype),o=new E(r||[]);return a._invoke=function(e,t,n){var r="suspendedStart";return function(i,a){if("executing"===r)throw new Error("Generator is already running");if("completed"===r){if("throw"===i)throw a;return C()}for(n.method=i,n.arg=a;;){var o=n.delegate;if(o){var u=w(o,n);if(u){if(u===c)continue;return u}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if("suspendedStart"===r)throw r="completed",n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r="executing";var s=l(e,t,n);if("normal"===s.type){if(r=n.done?"completed":"suspendedYield",s.arg===c)continue;return{value:s.arg,done:n.done}}"throw"===s.type&&(r="completed",n.method="throw",n.arg=s.arg)}}}(e,n,o),a}function l(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(T){return{type:"throw",arg:T}}}e.wrap=s;var c={};function d(){}function f(){}function h(){}var p={};u(p,i,(function(){return this}));var g=Object.getPrototypeOf,y=g&&g(g(S([])));y&&y!==t&&n.call(y,i)&&(p=y);var b=h.prototype=d.prototype=Object.create(p);function _(e){["next","throw","return"].forEach((function(t){u(e,t,(function(e){return this._invoke(t,e)}))}))}function k(e,t){function r(i,a,o,u){var s=l(e[i],e,a);if("throw"!==s.type){var c=s.arg,d=c.value;return d&&"object"==v(d)&&n.call(d,"__await")?t.resolve(d.__await).then((function(e){r("next",e,o,u)}),(function(e){r("throw",e,o,u)})):t.resolve(d).then((function(e){c.value=e,o(c)}),(function(e){return r("throw",e,o,u)}))}u(s.arg)}var i;this._invoke=function(e,n){function a(){return new t((function(t,i){r(e,n,t,i)}))}return i=i?i.then(a,a):a()}}function w(e,t){var n=e.iterator[t.method];if(void 0===n){if(t.delegate=null,"throw"===t.method){if(e.iterator.return&&(t.method="return",t.arg=void 0,w(e,t),"throw"===t.method))return c;t.method="throw",t.arg=new TypeError("The iterator does not provide a 'throw' method")}return c}var r=l(n,e.iterator,t.arg);if("throw"===r.type)return t.method="throw",t.arg=r.arg,t.delegate=null,c;var i=r.arg;return i?i.done?(t[e.resultName]=i.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,c):i:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,c)}function x(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function I(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function E(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(x,this),this.reset(!0)}function S(e){if(e){var t=e[i];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var r=-1,a=function t(){for(;++r<e.length;)if(n.call(e,r))return t.value=e[r],t.done=!1,t;return t.value=void 0,t.done=!0,t};return a.next=a}}return{next:C}}function C(){return{value:void 0,done:!0}}return f.prototype=h,u(b,"constructor",h),u(h,"constructor",f),f.displayName=u(h,o,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===f||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,h):(e.__proto__=h,u(e,o,"GeneratorFunction")),e.prototype=Object.create(b),e},e.awrap=function(e){return{__await:e}},_(k.prototype),u(k.prototype,a,(function(){return this})),e.AsyncIterator=k,e.async=function(t,n,r,i,a){void 0===a&&(a=Promise);var o=new k(s(t,n,r,i),a);return e.isGeneratorFunction(n)?o:o.next().then((function(e){return e.done?e.value:o.next()}))},_(b),u(b,o,"Generator"),u(b,i,(function(){return this})),u(b,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var t=[];for(var n in e)t.push(n);return t.reverse(),function n(){for(;t.length;){var r=t.pop();if(r in e)return n.value=r,n.done=!1,n}return n.done=!0,n}},e.values=S,E.prototype={constructor:E,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(I),!e)for(var t in this)"t"===t.charAt(0)&&n.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function r(n,r){return o.type="throw",o.arg=e,t.next=n,r&&(t.method="next",t.arg=void 0),!!r}for(var i=this.tryEntries.length-1;i>=0;--i){var a=this.tryEntries[i],o=a.completion;if("root"===a.tryLoc)return r("end");if(a.tryLoc<=this.prev){var u=n.call(a,"catchLoc"),s=n.call(a,"finallyLoc");if(u&&s){if(this.prev<a.catchLoc)return r(a.catchLoc,!0);if(this.prev<a.finallyLoc)return r(a.finallyLoc)}else if(u){if(this.prev<a.catchLoc)return r(a.catchLoc,!0)}else{if(!s)throw new Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return r(a.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var i=this.tryEntries[r];if(i.tryLoc<=this.prev&&n.call(i,"finallyLoc")&&this.prev<i.finallyLoc){var a=i;break}}a&&("break"===e||"continue"===e)&&a.tryLoc<=t&&t<=a.finallyLoc&&(a=null);var o=a?a.completion:{};return o.type=e,o.arg=t,a?(this.method="next",this.next=a.finallyLoc,c):this.complete(o)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),c},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),I(n),c}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var i=r.arg;I(n)}return i}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,n){return this.delegate={iterator:S(e),resultName:t,nextLoc:n},"next"===this.method&&(this.arg=void 0),c}},e}function g(e,t,n,r,i,a,o){try{var u=e[a](o),s=u.value}catch(bn){return void n(bn)}u.done?t(s):Promise.resolve(s).then(r,i)}function y(e){return function(){var t=this,n=arguments;return new Promise((function(r,i){var a=e.apply(t,n);function o(e){g(a,r,i,o,u,"next",e)}function u(e){g(a,r,i,o,u,"throw",e)}o(void 0)}))}}function b(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function _(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function k(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function w(e,t,n){return t&&k(e.prototype,t),n&&k(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function x(e,t){var n="undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=u(e))||t&&e&&"number"===typeof e.length){n&&(e=n);var r=0,i=function(){};return{s:i,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,o=!0,s=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return o=e.done,e},e:function(e){s=!0,a=e},f:function(){try{o||null==n.return||n.return()}finally{if(s)throw a}}}}function I(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function E(e,t){return E=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},E(e,t)}function S(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&E(e,t)}function C(e){return C=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},C(e)}function T(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}function P(e,t){if(t&&("object"===v(t)||"function"===typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return I(e)}function N(e){var t=T();return function(){var n,r=C(e);if(t){var i=C(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return P(this,n)}}function R(e,t,n){return R=T()?Reflect.construct.bind():function(e,t,n){var r=[null];r.push.apply(r,t);var i=new(Function.bind.apply(e,r));return n&&E(i,n.prototype),i},R.apply(null,arguments)}function D(e){var t="function"===typeof Map?new Map:void 0;return D=function(e){if(null===e||(n=e,-1===Function.toString.call(n).indexOf("[native code]")))return e;var n;if("function"!==typeof e)throw new TypeError("Super expression must either be null or a function");if("undefined"!==typeof t){if(t.has(e))return t.get(e);t.set(e,r)}function r(){return R(e,arguments,C(this).constructor)}return r.prototype=Object.create(e.prototype,{constructor:{value:r,enumerable:!1,writable:!0,configurable:!0}}),E(r,e)},D(e)}var A=!1,O=!1,L="${JSCORE_VERSION}",M=function(e,t){if(!e)throw F(t)},F=function(e){return new Error("Firebase Database ("+L+") INTERNAL ASSERT FAILED: "+e)},U=function(e){for(var t=[],n=0,r=0;r<e.length;r++){var i=e.charCodeAt(r);i<128?t[n++]=i:i<2048?(t[n++]=i>>6|192,t[n++]=63&i|128):55296===(64512&i)&&r+1<e.length&&56320===(64512&e.charCodeAt(r+1))?(i=65536+((1023&i)<<10)+(1023&e.charCodeAt(++r)),t[n++]=i>>18|240,t[n++]=i>>12&63|128,t[n++]=i>>6&63|128,t[n++]=63&i|128):(t[n++]=i>>12|224,t[n++]=i>>6&63|128,t[n++]=63&i|128)}return t},j={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"===typeof atob,encodeByteArray:function(e,t){if(!Array.isArray(e))throw Error("encodeByteArray takes an array as a parameter");this.init_();for(var n=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[],i=0;i<e.length;i+=3){var a=e[i],o=i+1<e.length,u=o?e[i+1]:0,s=i+2<e.length,l=s?e[i+2]:0,c=a>>2,d=(3&a)<<4|u>>4,f=(15&u)<<2|l>>6,h=63&l;s||(h=64,o||(f=64)),r.push(n[c],n[d],n[f],n[h])}return r.join("")},encodeString:function(e,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(e):this.encodeByteArray(U(e),t)},decodeString:function(e,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(e):function(e){for(var t=[],n=0,r=0;n<e.length;){var i=e[n++];if(i<128)t[r++]=String.fromCharCode(i);else if(i>191&&i<224){var a=e[n++];t[r++]=String.fromCharCode((31&i)<<6|63&a)}else if(i>239&&i<365){var o=((7&i)<<18|(63&e[n++])<<12|(63&e[n++])<<6|63&e[n++])-65536;t[r++]=String.fromCharCode(55296+(o>>10)),t[r++]=String.fromCharCode(56320+(1023&o))}else{var u=e[n++],s=e[n++];t[r++]=String.fromCharCode((15&i)<<12|(63&u)<<6|63&s)}}return t.join("")}(this.decodeStringToByteArray(e,t))},decodeStringToByteArray:function(e,t){this.init_();for(var n=t?this.charToByteMapWebSafe_:this.charToByteMap_,r=[],i=0;i<e.length;){var a=n[e.charAt(i++)],o=i<e.length?n[e.charAt(i)]:0,u=++i<e.length?n[e.charAt(i)]:64,s=++i<e.length?n[e.charAt(i)]:64;if(++i,null==a||null==o||null==u||null==s)throw Error();var l=a<<2|o>>4;if(r.push(l),64!==u){var c=o<<4&240|u>>2;if(r.push(c),64!==s){var d=u<<6&192|s;r.push(d)}}}return r},init_:function(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(var e=0;e<this.ENCODED_VALS.length;e++)this.byteToCharMap_[e]=this.ENCODED_VALS.charAt(e),this.charToByteMap_[this.byteToCharMap_[e]]=e,this.byteToCharMapWebSafe_[e]=this.ENCODED_VALS_WEBSAFE.charAt(e),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[e]]=e,e>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(e)]=e,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(e)]=e)}}},B=function(e){var t=U(e);return j.encodeByteArray(t,!0)},z=function(e){return B(e).replace(/\./g,"")},W=function(e){try{return j.decodeString(e,!0)}catch(t){console.error("base64Decode failed: ",t)}return null};function q(e,t){if(!(t instanceof Object))return t;switch(t.constructor){case Date:return new Date(t.getTime());case Object:void 0===e&&(e={});break;case Array:e=[];break;default:return t}for(var n in t)t.hasOwnProperty(n)&&"__proto__"!==n&&(e[n]=q(e[n],t[n]));return e}function V(){return"undefined"!==typeof navigator&&"string"===typeof navigator.userAgent?navigator.userAgent:""}function H(){return"undefined"!==typeof window&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(V())}function G(){try{return"[object process]"===Object.prototype.toString.call(n.g.process)}catch(e){return!1}}function K(){var e="object"===typeof chrome?chrome.runtime:"object"===typeof browser?browser.runtime:void 0;return"object"===typeof e&&void 0!==e.id}function $(){return"object"===typeof navigator&&"ReactNative"===navigator.product}function Y(){var e=V();return e.indexOf("MSIE ")>=0||e.indexOf("Trident/")>=0}function Q(){return!0===A||!0===O}function J(){return"object"===typeof indexedDB}var X=function(){return function(){if("undefined"!==typeof self)return self;if("undefined"!==typeof window)return window;if("undefined"!==typeof n.g)return n.g;throw new Error("Unable to locate global object.")}().__FIREBASE_DEFAULTS__},Z=function(){try{return X()||function(){if("undefined"!==typeof process){var e={NODE_ENV:"production",PUBLIC_URL:"/react-todo-list",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0,REACT_APP_FIREBASE_API_KEY:"AIzaSyAbQ2mHRl1ZJzpLnkPBulCBR1d23y7RzVA",REACT_APP_FIREBASE_APP_ID:"1:754082289786:web:7f8f281698c740573d03c3",REACT_APP_FIREBASE_AUTH_DOMAIN:"todo-app-1719e.firebaseapp.com",REACT_APP_FIREBASE_DATABASE_URL:"https://todo-app-1719e-default-rtdb.europe-west1.firebasedatabase.app",REACT_APP_FIREBASE_MESSAGING_SENDER_ID:"754082289786",REACT_APP_FIREBASE_PROJECT_ID:"todo-app-1719e",REACT_APP_FIREBASE_STORAGE_BUCKET:"todo-app-1719e.appspot.com"}.__FIREBASE_DEFAULTS__;return e?JSON.parse(e):void 0}}()||function(){if("undefined"!==typeof document){var e;try{e=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch(n){return}var t=e&&W(e[1]);return t&&JSON.parse(t)}}()}catch(e){return void console.info("Unable to get __FIREBASE_DEFAULTS__ due to: ".concat(e))}},ee=function(e){var t=function(e){var t,n;return null===(n=null===(t=Z())||void 0===t?void 0:t.emulatorHosts)||void 0===n?void 0:n[e]}(e);if(t){var n=t.lastIndexOf(":");if(n<=0||n+1===t.length)throw new Error("Invalid host ".concat(t," with no separate hostname and port!"));var r=parseInt(t.substring(n+1),10);return"["===t[0]?[t.substring(1,n-1),r]:[t.substring(0,n),r]}},te=function(){var e;return null===(e=Z())||void 0===e?void 0:e.config},ne=function(){function e(){var t=this;_(this,e),this.reject=function(){},this.resolve=function(){},this.promise=new Promise((function(e,n){t.resolve=e,t.reject=n}))}return w(e,[{key:"wrapCallback",value:function(e){var t=this;return function(n,r){n?t.reject(n):t.resolve(r),"function"===typeof e&&(t.promise.catch((function(){})),1===e.length?e(n):e(n,r))}}}]),e}();function re(e,t){if(e.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');var n=t||"demo-project",r=e.iat||0,i=e.sub||e.user_id;if(!i)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");var a=Object.assign({iss:"https://securetoken.google.com/".concat(n),aud:n,iat:r,exp:r+3600,auth_time:r,sub:i,user_id:i,firebase:{sign_in_provider:"custom",identities:{}}},e);return[z(JSON.stringify({alg:"none",type:"JWT"})),z(JSON.stringify(a)),""].join(".")}var ie=function(e){S(n,e);var t=N(n);function n(e,r,i){var a;return _(this,n),(a=t.call(this,r)).code=e,a.customData=i,a.name="FirebaseError",Object.setPrototypeOf(I(a),n.prototype),Error.captureStackTrace&&Error.captureStackTrace(I(a),ae.prototype.create),a}return w(n)}(D(Error)),ae=function(){function e(t,n,r){_(this,e),this.service=t,this.serviceName=n,this.errors=r}return w(e,[{key:"create",value:function(e){var t=(arguments.length<=1?void 0:arguments[1])||{},n="".concat(this.service,"/").concat(e),r=this.errors[e],i=r?oe(r,t):"Error",a="".concat(this.serviceName,": ").concat(i," (").concat(n,")."),o=new ie(n,a,t);return o}}]),e}();function oe(e,t){return e.replace(ue,(function(e,n){var r=t[n];return null!=r?String(r):"<".concat(n,"?>")}))}var ue=/\{\$([^}]+)}/g;function se(e){return JSON.parse(e)}function le(e){return JSON.stringify(e)}var ce=function(e){var t={},n={},r={},i="";try{var a=e.split(".");t=se(W(a[0])||""),n=se(W(a[1])||""),i=a[2],r=n.d||{},delete n.d}catch(o){}return{header:t,claims:n,data:r,signature:i}};function de(e,t){return Object.prototype.hasOwnProperty.call(e,t)}function fe(e,t){return Object.prototype.hasOwnProperty.call(e,t)?e[t]:void 0}function he(e){for(var t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}function pe(e,t,n){var r={};for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(r[i]=t.call(n,e[i],i,e));return r}function ve(e,t){if(e===t)return!0;for(var n=Object.keys(e),r=Object.keys(t),i=0,a=n;i<a.length;i++){var o=a[i];if(!r.includes(o))return!1;var u=e[o],s=t[o];if(me(u)&&me(s)){if(!ve(u,s))return!1}else if(u!==s)return!1}for(var l=0,c=r;l<c.length;l++){var d=c[l];if(!n.includes(d))return!1}return!0}function me(e){return null!==e&&"object"===typeof e}function ge(e){for(var t=[],n=function(){var e=l(i[r],2),n=e[0],a=e[1];Array.isArray(a)?a.forEach((function(e){t.push(encodeURIComponent(n)+"="+encodeURIComponent(e))})):t.push(encodeURIComponent(n)+"="+encodeURIComponent(a))},r=0,i=Object.entries(e);r<i.length;r++)n();return t.length?"&"+t.join("&"):""}function ye(e){var t={};return e.replace(/^\?/,"").split("&").forEach((function(e){if(e){var n=l(e.split("="),2),r=n[0],i=n[1];t[decodeURIComponent(r)]=decodeURIComponent(i)}})),t}function be(e){var t=e.indexOf("?");if(!t)return"";var n=e.indexOf("#",t);return e.substring(t,n>0?n:void 0)}var _e=function(){function e(){_(this,e),this.chain_=[],this.buf_=[],this.W_=[],this.pad_=[],this.inbuf_=0,this.total_=0,this.blockSize=64,this.pad_[0]=128;for(var t=1;t<this.blockSize;++t)this.pad_[t]=0;this.reset()}return w(e,[{key:"reset",value:function(){this.chain_[0]=1732584193,this.chain_[1]=4023233417,this.chain_[2]=2562383102,this.chain_[3]=271733878,this.chain_[4]=3285377520,this.inbuf_=0,this.total_=0}},{key:"compress_",value:function(e,t){t||(t=0);var n=this.W_;if("string"===typeof e)for(var r=0;r<16;r++)n[r]=e.charCodeAt(t)<<24|e.charCodeAt(t+1)<<16|e.charCodeAt(t+2)<<8|e.charCodeAt(t+3),t+=4;else for(var i=0;i<16;i++)n[i]=e[t]<<24|e[t+1]<<16|e[t+2]<<8|e[t+3],t+=4;for(var a=16;a<80;a++){var o=n[a-3]^n[a-8]^n[a-14]^n[a-16];n[a]=4294967295&(o<<1|o>>>31)}for(var u,s,l=this.chain_[0],c=this.chain_[1],d=this.chain_[2],f=this.chain_[3],h=this.chain_[4],p=0;p<80;p++){p<40?p<20?(u=f^c&(d^f),s=1518500249):(u=c^d^f,s=1859775393):p<60?(u=c&d|f&(c|d),s=2400959708):(u=c^d^f,s=3395469782);var v=(l<<5|l>>>27)+u+h+s+n[p]&4294967295;h=f,f=d,d=4294967295&(c<<30|c>>>2),c=l,l=v}this.chain_[0]=this.chain_[0]+l&4294967295,this.chain_[1]=this.chain_[1]+c&4294967295,this.chain_[2]=this.chain_[2]+d&4294967295,this.chain_[3]=this.chain_[3]+f&4294967295,this.chain_[4]=this.chain_[4]+h&4294967295}},{key:"update",value:function(e,t){if(null!=e){void 0===t&&(t=e.length);for(var n=t-this.blockSize,r=0,i=this.buf_,a=this.inbuf_;r<t;){if(0===a)for(;r<=n;)this.compress_(e,r),r+=this.blockSize;if("string"===typeof e){for(;r<t;)if(i[a]=e.charCodeAt(r),++r,++a===this.blockSize){this.compress_(i),a=0;break}}else for(;r<t;)if(i[a]=e[r],++r,++a===this.blockSize){this.compress_(i),a=0;break}}this.inbuf_=a,this.total_+=t}}},{key:"digest",value:function(){var e=[],t=8*this.total_;this.inbuf_<56?this.update(this.pad_,56-this.inbuf_):this.update(this.pad_,this.blockSize-(this.inbuf_-56));for(var n=this.blockSize-1;n>=56;n--)this.buf_[n]=255&t,t/=256;this.compress_(this.buf_);for(var r=0,i=0;i<5;i++)for(var a=24;a>=0;a-=8)e[r]=this.chain_[i]>>a&255,++r;return e}}]),e}();function ke(e,t){var n=new we(e,t);return n.subscribe.bind(n)}var we=function(){function e(t,n){var r=this;_(this,e),this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then((function(){t(r)})).catch((function(e){r.error(e)}))}return w(e,[{key:"next",value:function(e){this.forEachObserver((function(t){t.next(e)}))}},{key:"error",value:function(e){this.forEachObserver((function(t){t.error(e)})),this.close(e)}},{key:"complete",value:function(){this.forEachObserver((function(e){e.complete()})),this.close()}},{key:"subscribe",value:function(e,t,n){var r,i=this;if(void 0===e&&void 0===t&&void 0===n)throw new Error("Missing Observer.");void 0===(r=function(e,t){if("object"!==typeof e||null===e)return!1;var n,r=x(t);try{for(r.s();!(n=r.n()).done;){var i=n.value;if(i in e&&"function"===typeof e[i])return!0}}catch(a){r.e(a)}finally{r.f()}return!1}(e,["next","error","complete"])?e:{next:e,error:t,complete:n}).next&&(r.next=xe),void 0===r.error&&(r.error=xe),void 0===r.complete&&(r.complete=xe);var a=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then((function(){try{i.finalError?r.error(i.finalError):r.complete()}catch(e){}})),this.observers.push(r),a}},{key:"unsubscribeOne",value:function(e){void 0!==this.observers&&void 0!==this.observers[e]&&(delete this.observers[e],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}},{key:"forEachObserver",value:function(e){if(!this.finalized)for(var t=0;t<this.observers.length;t++)this.sendOne(t,e)}},{key:"sendOne",value:function(e,t){var n=this;this.task.then((function(){if(void 0!==n.observers&&void 0!==n.observers[e])try{t(n.observers[e])}catch(r){"undefined"!==typeof console&&console.error&&console.error(r)}}))}},{key:"close",value:function(e){var t=this;this.finalized||(this.finalized=!0,void 0!==e&&(this.finalError=e),this.task.then((function(){t.observers=void 0,t.onNoObservers=void 0})))}}]),e}();function xe(){}function Ie(e,t){return"".concat(e," failed: ").concat(t," argument ")}var Ee=function(e){for(var t=0,n=0;n<e.length;n++){var r=e.charCodeAt(n);r<128?t++:r<2048?t+=2:r>=55296&&r<=56319?(t+=4,n++):t+=3}return t};function Se(e){return e&&e._delegate?e._delegate:e}function Ce(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}function Te(e){return function(e){if(Array.isArray(e))return o(e)}(e)||Ce(e)||u(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var Pe=function(){function e(t,n,r){_(this,e),this.name=t,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}return w(e,[{key:"setInstantiationMode",value:function(e){return this.instantiationMode=e,this}},{key:"setMultipleInstances",value:function(e){return this.multipleInstances=e,this}},{key:"setServiceProps",value:function(e){return this.serviceProps=e,this}},{key:"setInstanceCreatedCallback",value:function(e){return this.onInstanceCreated=e,this}}]),e}(),Ne="[DEFAULT]",Re=function(){function e(t,n){_(this,e),this.name=t,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}return w(e,[{key:"get",value:function(e){var t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){var n=new ne;if(this.instancesDeferred.set(t,n),this.isInitialized(t)||this.shouldAutoInitialize())try{var r=this.getOrInitializeService({instanceIdentifier:t});r&&n.resolve(r)}catch(i){}}return this.instancesDeferred.get(t).promise}},{key:"getImmediate",value:function(e){var t,n=this.normalizeInstanceIdentifier(null===e||void 0===e?void 0:e.identifier),r=null!==(t=null===e||void 0===e?void 0:e.optional)&&void 0!==t&&t;if(!this.isInitialized(n)&&!this.shouldAutoInitialize()){if(r)return null;throw Error("Service ".concat(this.name," is not available"))}try{return this.getOrInitializeService({instanceIdentifier:n})}catch(i){if(r)return null;throw i}}},{key:"getComponent",value:function(){return this.component}},{key:"setComponent",value:function(e){if(e.name!==this.name)throw Error("Mismatching Component ".concat(e.name," for Provider ").concat(this.name,"."));if(this.component)throw Error("Component for ".concat(this.name," has already been provided"));if(this.component=e,this.shouldAutoInitialize()){if(function(e){return"EAGER"===e.instantiationMode}(e))try{this.getOrInitializeService({instanceIdentifier:Ne})}catch(s){}var t,n=x(this.instancesDeferred.entries());try{for(n.s();!(t=n.n()).done;){var r=l(t.value,2),i=r[0],a=r[1],o=this.normalizeInstanceIdentifier(i);try{var u=this.getOrInitializeService({instanceIdentifier:o});a.resolve(u)}catch(s){}}}catch(c){n.e(c)}finally{n.f()}}}},{key:"clearInstance",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ne;this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}},{key:"delete",value:function(){var e=y(m().mark((function e(){var t;return m().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=Array.from(this.instances.values()),e.next=3,Promise.all([].concat(Te(t.filter((function(e){return"INTERNAL"in e})).map((function(e){return e.INTERNAL.delete()}))),Te(t.filter((function(e){return"_delete"in e})).map((function(e){return e._delete()})))));case 3:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"isComponentSet",value:function(){return null!=this.component}},{key:"isInitialized",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ne;return this.instances.has(e)}},{key:"getOptions",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ne;return this.instancesOptions.get(e)||{}}},{key:"initialize",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.options,n=void 0===t?{}:t,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error("".concat(this.name,"(").concat(r,") has already been initialized"));if(!this.isComponentSet())throw Error("Component ".concat(this.name," has not been registered yet"));var i,a=this.getOrInitializeService({instanceIdentifier:r,options:n}),o=x(this.instancesDeferred.entries());try{for(o.s();!(i=o.n()).done;){var u=l(i.value,2),s=u[0],c=u[1],d=this.normalizeInstanceIdentifier(s);r===d&&c.resolve(a)}}catch(f){o.e(f)}finally{o.f()}return a}},{key:"onInit",value:function(e,t){var n,r=this.normalizeInstanceIdentifier(t),i=null!==(n=this.onInitCallbacks.get(r))&&void 0!==n?n:new Set;i.add(e),this.onInitCallbacks.set(r,i);var a=this.instances.get(r);return a&&e(a,r),function(){i.delete(e)}}},{key:"invokeOnInitCallbacks",value:function(e,t){var n=this.onInitCallbacks.get(t);if(n){var r,i=x(n);try{for(i.s();!(r=i.n()).done;){var a=r.value;try{a(e,t)}catch(o){}}}catch(u){i.e(u)}finally{i.f()}}}},{key:"getOrInitializeService",value:function(e){var t,n=e.instanceIdentifier,r=e.options,i=void 0===r?{}:r,a=this.instances.get(n);if(!a&&this.component&&(a=this.component.instanceFactory(this.container,{instanceIdentifier:(t=n,t===Ne?void 0:t),options:i}),this.instances.set(n,a),this.instancesOptions.set(n,i),this.invokeOnInitCallbacks(a,n),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,n,a)}catch(o){}return a||null}},{key:"normalizeInstanceIdentifier",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ne;return this.component?this.component.multipleInstances?e:Ne:e}},{key:"shouldAutoInitialize",value:function(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}]),e}();var De,Ae,Oe=function(){function e(t){_(this,e),this.name=t,this.providers=new Map}return w(e,[{key:"addComponent",value:function(e){var t=this.getProvider(e.name);if(t.isComponentSet())throw new Error("Component ".concat(e.name," has already been registered with ").concat(this.name));t.setComponent(e)}},{key:"addOrOverwriteComponent",value:function(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}},{key:"getProvider",value:function(e){if(this.providers.has(e))return this.providers.get(e);var t=new Re(e,this);return this.providers.set(e,t),t}},{key:"getProviders",value:function(){return Array.from(this.providers.values())}}]),e}(),Le=[];!function(e){e[e.DEBUG=0]="DEBUG",e[e.VERBOSE=1]="VERBOSE",e[e.INFO=2]="INFO",e[e.WARN=3]="WARN",e[e.ERROR=4]="ERROR",e[e.SILENT=5]="SILENT"}(Ae||(Ae={}));var Me={debug:Ae.DEBUG,verbose:Ae.VERBOSE,info:Ae.INFO,warn:Ae.WARN,error:Ae.ERROR,silent:Ae.SILENT},Fe=Ae.INFO,Ue=(b(De={},Ae.DEBUG,"log"),b(De,Ae.VERBOSE,"log"),b(De,Ae.INFO,"info"),b(De,Ae.WARN,"warn"),b(De,Ae.ERROR,"error"),De),je=function(e,t){if(!(t<e.logLevel)){var n=(new Date).toISOString(),r=Ue[t];if(!r)throw new Error("Attempted to log a message with an invalid logType (value: ".concat(t,")"));for(var i,a=arguments.length,o=new Array(a>2?a-2:0),u=2;u<a;u++)o[u-2]=arguments[u];(i=console)[r].apply(i,["[".concat(n,"]  ").concat(e.name,":")].concat(o))}},Be=function(){function e(t){_(this,e),this.name=t,this._logLevel=Fe,this._logHandler=je,this._userLogHandler=null,Le.push(this)}return w(e,[{key:"logLevel",get:function(){return this._logLevel},set:function(e){if(!(e in Ae))throw new TypeError('Invalid value "'.concat(e,'" assigned to `logLevel`'));this._logLevel=e}},{key:"setLogLevel",value:function(e){this._logLevel="string"===typeof e?Me[e]:e}},{key:"logHandler",get:function(){return this._logHandler},set:function(e){if("function"!==typeof e)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}},{key:"userLogHandler",get:function(){return this._userLogHandler},set:function(e){this._userLogHandler=e}},{key:"debug",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,[this,Ae.DEBUG].concat(t)),this._logHandler.apply(this,[this,Ae.DEBUG].concat(t))}},{key:"log",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,[this,Ae.VERBOSE].concat(t)),this._logHandler.apply(this,[this,Ae.VERBOSE].concat(t))}},{key:"info",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,[this,Ae.INFO].concat(t)),this._logHandler.apply(this,[this,Ae.INFO].concat(t))}},{key:"warn",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,[this,Ae.WARN].concat(t)),this._logHandler.apply(this,[this,Ae.WARN].concat(t))}},{key:"error",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,[this,Ae.ERROR].concat(t)),this._logHandler.apply(this,[this,Ae.ERROR].concat(t))}}]),e}();function ze(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function We(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ze(Object(n),!0).forEach((function(t){b(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ze(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var qe,Ve;var He=new WeakMap,Ge=new WeakMap,Ke=new WeakMap,$e=new WeakMap,Ye=new WeakMap;var Qe={get:function(e,t,n){if(e instanceof IDBTransaction){if("done"===t)return Ge.get(e);if("objectStoreNames"===t)return e.objectStoreNames||Ke.get(e);if("store"===t)return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Ze(e[t])},set:function(e,t,n){return e[t]=n,!0},has:function(e,t){return e instanceof IDBTransaction&&("done"===t||"store"===t)||t in e}};function Je(e){return e!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?(Ve||(Ve=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])).includes(e)?function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return e.apply(et(this),n),Ze(He.get(this))}:function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return Ze(e.apply(et(this),n))}:function(t){for(var n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];var a=e.call.apply(e,[et(this),t].concat(r));return Ke.set(a,t.sort?t.sort():[t]),Ze(a)}}function Xe(e){return"function"===typeof e?Je(e):(e instanceof IDBTransaction&&function(e){if(!Ge.has(e)){var t=new Promise((function(t,n){var r=function(){e.removeEventListener("complete",i),e.removeEventListener("error",a),e.removeEventListener("abort",a)},i=function(){t(),r()},a=function(){n(e.error||new DOMException("AbortError","AbortError")),r()};e.addEventListener("complete",i),e.addEventListener("error",a),e.addEventListener("abort",a)}));Ge.set(e,t)}}(e),t=e,(qe||(qe=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])).some((function(e){return t instanceof e}))?new Proxy(e,Qe):e);var t}function Ze(e){if(e instanceof IDBRequest)return function(e){var t=new Promise((function(t,n){var r=function(){e.removeEventListener("success",i),e.removeEventListener("error",a)},i=function(){t(Ze(e.result)),r()},a=function(){n(e.error),r()};e.addEventListener("success",i),e.addEventListener("error",a)}));return t.then((function(t){t instanceof IDBCursor&&He.set(t,e)})).catch((function(){})),Ye.set(t,e),t}(e);if($e.has(e))return $e.get(e);var t=Xe(e);return t!==e&&($e.set(e,t),Ye.set(t,e)),t}var et=function(e){return Ye.get(e)};var tt,nt,rt=["get","getKey","getAll","getAllKeys","count"],it=["put","add","delete","clear"],at=new Map;function ot(e,t){if(e instanceof IDBDatabase&&!(t in e)&&"string"===typeof t){if(at.get(t))return at.get(t);var n=t.replace(/FromIndex$/,""),r=t!==n,i=it.includes(n);if(n in(r?IDBIndex:IDBObjectStore).prototype&&(i||rt.includes(n))){var a=function(){var e=y(m().mark((function e(t){var a,o,u,s,l,c,d=arguments;return m().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:for(o=this.transaction(t,i?"readwrite":"readonly"),u=o.store,s=d.length,l=new Array(s>1?s-1:0),c=1;c<s;c++)l[c-1]=d[c];return r&&(u=u.index(l.shift())),e.next=6,Promise.all([(a=u)[n].apply(a,l),i&&o.done]);case 6:return e.abrupt("return",e.sent[0]);case 7:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}();return at.set(t,a),a}}}Qe=function(e){return We(We({},e),{},{get:function(t,n,r){return ot(t,n)||e.get(t,n,r)},has:function(t,n){return!!ot(t,n)||e.has(t,n)}})}(Qe);var ut=function(){function e(t){_(this,e),this.container=t}return w(e,[{key:"getPlatformInfoString",value:function(){return this.container.getProviders().map((function(e){if(function(e){var t=e.getComponent();return"VERSION"===(null===t||void 0===t?void 0:t.type)}(e)){var t=e.getImmediate();return"".concat(t.library,"/").concat(t.version)}return null})).filter((function(e){return e})).join(" ")}}]),e}();var st="@firebase/app",lt="0.8.4",ct=new Be("@firebase/app"),dt="[DEFAULT]",ft=(b(tt={},st,"fire-core"),b(tt,"@firebase/app-compat","fire-core-compat"),b(tt,"@firebase/analytics","fire-analytics"),b(tt,"@firebase/analytics-compat","fire-analytics-compat"),b(tt,"@firebase/app-check","fire-app-check"),b(tt,"@firebase/app-check-compat","fire-app-check-compat"),b(tt,"@firebase/auth","fire-auth"),b(tt,"@firebase/auth-compat","fire-auth-compat"),b(tt,"@firebase/database","fire-rtdb"),b(tt,"@firebase/database-compat","fire-rtdb-compat"),b(tt,"@firebase/functions","fire-fn"),b(tt,"@firebase/functions-compat","fire-fn-compat"),b(tt,"@firebase/installations","fire-iid"),b(tt,"@firebase/installations-compat","fire-iid-compat"),b(tt,"@firebase/messaging","fire-fcm"),b(tt,"@firebase/messaging-compat","fire-fcm-compat"),b(tt,"@firebase/performance","fire-perf"),b(tt,"@firebase/performance-compat","fire-perf-compat"),b(tt,"@firebase/remote-config","fire-rc"),b(tt,"@firebase/remote-config-compat","fire-rc-compat"),b(tt,"@firebase/storage","fire-gcs"),b(tt,"@firebase/storage-compat","fire-gcs-compat"),b(tt,"@firebase/firestore","fire-fst"),b(tt,"@firebase/firestore-compat","fire-fst-compat"),b(tt,"fire-js","fire-js"),b(tt,"firebase","fire-js-all"),tt),ht=new Map,pt=new Map;function vt(e,t){try{e.container.addComponent(t)}catch(n){ct.debug("Component ".concat(t.name," failed to register with FirebaseApp ").concat(e.name),n)}}function mt(e,t){e.container.addOrOverwriteComponent(t)}function gt(e){var t=e.name;if(pt.has(t))return ct.debug("There were multiple attempts to register component ".concat(t,".")),!1;pt.set(t,e);var n,r=x(ht.values());try{for(r.s();!(n=r.n()).done;){vt(n.value,e)}}catch(i){r.e(i)}finally{r.f()}return!0}function yt(e,t){var n=e.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),e.container.getProvider(t)}function bt(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:dt;yt(e,t).clearInstance(n)}function _t(){pt.clear()}var kt=(b(nt={},"no-app","No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()"),b(nt,"bad-app-name","Illegal App name: '{$appName}"),b(nt,"duplicate-app","Firebase App named '{$appName}' already exists with different options or config"),b(nt,"app-deleted","Firebase App named '{$appName}' already deleted"),b(nt,"no-options","Need to provide options, when not being deployed to hosting via source."),b(nt,"invalid-app-argument","firebase.{$appName}() takes either no argument or a Firebase App instance."),b(nt,"invalid-log-argument","First argument to `onLog` must be null or a function."),b(nt,"idb-open","Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}."),b(nt,"idb-get","Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}."),b(nt,"idb-set","Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}."),b(nt,"idb-delete","Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."),nt),wt=new ae("app","Firebase",kt),xt=function(){function e(t,n,r){var i=this;_(this,e),this._isDeleted=!1,this._options=Object.assign({},t),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new Pe("app",(function(){return i}),"PUBLIC"))}return w(e,[{key:"automaticDataCollectionEnabled",get:function(){return this.checkDestroyed(),this._automaticDataCollectionEnabled},set:function(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}},{key:"name",get:function(){return this.checkDestroyed(),this._name}},{key:"options",get:function(){return this.checkDestroyed(),this._options}},{key:"config",get:function(){return this.checkDestroyed(),this._config}},{key:"container",get:function(){return this._container}},{key:"isDeleted",get:function(){return this._isDeleted},set:function(e){this._isDeleted=e}},{key:"checkDestroyed",value:function(){if(this.isDeleted)throw wt.create("app-deleted",{appName:this._name})}}]),e}(),It="9.14.0";function Et(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=e;if("object"!==typeof t){var r=t;t={name:r}}var i=Object.assign({name:dt,automaticDataCollectionEnabled:!1},t),a=i.name;if("string"!==typeof a||!a)throw wt.create("bad-app-name",{appName:String(a)});if(n||(n=te()),!n)throw wt.create("no-options");var o=ht.get(a);if(o){if(ve(n,o.options)&&ve(i,o.config))return o;throw wt.create("duplicate-app",{appName:a})}var u,s=new Oe(a),l=x(pt.values());try{for(l.s();!(u=l.n()).done;){var c=u.value;s.addComponent(c)}}catch(f){l.e(f)}finally{l.f()}var d=new xt(n,i,s);return ht.set(a,d),d}function St(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:dt,t=ht.get(e);if(!t&&e===dt)return Et();if(!t)throw wt.create("no-app",{appName:e});return t}function Ct(){return Array.from(ht.values())}function Tt(e){return Pt.apply(this,arguments)}function Pt(){return Pt=y(m().mark((function e(t){var n;return m().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=t.name,!ht.has(n)){e.next=6;break}return ht.delete(n),e.next=5,Promise.all(t.container.getProviders().map((function(e){return e.delete()})));case 5:t.isDeleted=!0;case 6:case"end":return e.stop()}}),e)}))),Pt.apply(this,arguments)}function Nt(e,t,n){var r,i=null!==(r=ft[e])&&void 0!==r?r:e;n&&(i+="-".concat(n));var a=i.match(/\s|\//),o=t.match(/\s|\//);if(a||o){var u=['Unable to register library "'.concat(i,'" with version "').concat(t,'":')];return a&&u.push('library name "'.concat(i,'" contains illegal characters (whitespace or "/")')),a&&o&&u.push("and"),o&&u.push('version name "'.concat(t,'" contains illegal characters (whitespace or "/")')),void ct.warn(u.join(" "))}gt(new Pe("".concat(i,"-version"),(function(){return{library:i,version:t}}),"VERSION"))}function Rt(e,t){if(null!==e&&"function"!==typeof e)throw wt.create("invalid-log-argument");!function(e,t){var n,r=x(Le);try{var i=function(){var r=n.value,i=null;t&&t.level&&(i=Me[t.level]),r.userLogHandler=null===e?null:function(t,n){for(var r=arguments.length,a=new Array(r>2?r-2:0),o=2;o<r;o++)a[o-2]=arguments[o];var u=a.map((function(e){if(null==e)return null;if("string"===typeof e)return e;if("number"===typeof e||"boolean"===typeof e)return e.toString();if(e instanceof Error)return e.message;try{return JSON.stringify(e)}catch(t){return null}})).filter((function(e){return e})).join(" ");n>=(null!==i&&void 0!==i?i:t.logLevel)&&e({level:Ae[n].toLowerCase(),message:u,args:a,type:t.name})}};for(r.s();!(n=r.n()).done;)i()}catch(a){r.e(a)}finally{r.f()}}(e,t)}function Dt(e){var t;t=e,Le.forEach((function(e){e.setLogLevel(t)}))}var At="firebase-heartbeat-store",Ot=null;function Lt(){return Ot||(Ot=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=n.blocked,i=n.upgrade,a=n.blocking,o=n.terminated,u=indexedDB.open(e,t),s=Ze(u);return i&&u.addEventListener("upgradeneeded",(function(e){i(Ze(u.result),e.oldVersion,e.newVersion,Ze(u.transaction))})),r&&u.addEventListener("blocked",(function(){return r()})),s.then((function(e){o&&e.addEventListener("close",(function(){return o()})),a&&e.addEventListener("versionchange",(function(){return a()}))})).catch((function(){})),s}("firebase-heartbeat-database",1,{upgrade:function(e,t){if(0===t)e.createObjectStore(At)}}).catch((function(e){throw wt.create("idb-open",{originalErrorMessage:e.message})}))),Ot}function Mt(e){return Ft.apply(this,arguments)}function Ft(){return Ft=y(m().mark((function e(t){var n,r,i;return m().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Lt();case 3:return r=e.sent,e.abrupt("return",r.transaction(At).objectStore(At).get(Bt(t)));case 7:e.prev=7,e.t0=e.catch(0),e.t0 instanceof ie?ct.warn(e.t0.message):(i=wt.create("idb-get",{originalErrorMessage:null===(n=e.t0)||void 0===n?void 0:n.message}),ct.warn(i.message));case 10:case"end":return e.stop()}}),e,null,[[0,7]])}))),Ft.apply(this,arguments)}function Ut(e,t){return jt.apply(this,arguments)}function jt(){return jt=y(m().mark((function e(t,n){var r,i,a,o,u;return m().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Lt();case 3:return i=e.sent,a=i.transaction(At,"readwrite"),o=a.objectStore(At),e.next=8,o.put(n,Bt(t));case 8:return e.abrupt("return",a.done);case 11:e.prev=11,e.t0=e.catch(0),e.t0 instanceof ie?ct.warn(e.t0.message):(u=wt.create("idb-set",{originalErrorMessage:null===(r=e.t0)||void 0===r?void 0:r.message}),ct.warn(u.message));case 14:case"end":return e.stop()}}),e,null,[[0,11]])}))),jt.apply(this,arguments)}function Bt(e){return"".concat(e.name,"!").concat(e.options.appId)}var zt=function(){function e(t){var n=this;_(this,e),this.container=t,this._heartbeatsCache=null;var r=this.container.getProvider("app").getImmediate();this._storage=new Gt(r),this._heartbeatsCachePromise=this._storage.read().then((function(e){return n._heartbeatsCache=e,e}))}return w(e,[{key:"triggerHeartbeat",value:function(){var e=y(m().mark((function e(){var t,n,r;return m().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=this.container.getProvider("platform-logger").getImmediate(),n=t.getPlatformInfoString(),r=Wt(),null!==this._heartbeatsCache){e.next=7;break}return e.next=6,this._heartbeatsCachePromise;case 6:this._heartbeatsCache=e.sent;case 7:if(this._heartbeatsCache.lastSentHeartbeatDate!==r&&!this._heartbeatsCache.heartbeats.some((function(e){return e.date===r}))){e.next=11;break}return e.abrupt("return");case 11:this._heartbeatsCache.heartbeats.push({date:r,agent:n});case 12:return this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter((function(e){var t=new Date(e.date).valueOf();return Date.now()-t<=2592e6})),e.abrupt("return",this._storage.overwrite(this._heartbeatsCache));case 14:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"getHeartbeatsHeader",value:function(){var e=y(m().mark((function e(){var t,n,r,i,a;return m().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(null!==this._heartbeatsCache){e.next=3;break}return e.next=3,this._heartbeatsCachePromise;case 3:if(null!==this._heartbeatsCache&&0!==this._heartbeatsCache.heartbeats.length){e.next=5;break}return e.abrupt("return","");case 5:if(t=Wt(),n=qt(this._heartbeatsCache.heartbeats),r=n.heartbeatsToSend,i=n.unsentEntries,a=z(JSON.stringify({version:2,heartbeats:r})),this._heartbeatsCache.lastSentHeartbeatDate=t,!(i.length>0)){e.next=15;break}return this._heartbeatsCache.heartbeats=i,e.next=13,this._storage.overwrite(this._heartbeatsCache);case 13:e.next=17;break;case 15:this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache);case 17:return e.abrupt("return",a);case 18:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),e}();function Wt(){return(new Date).toISOString().substring(0,10)}function qt(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1024,r=[],i=e.slice(),a=x(e);try{var o=function(){var e=t.value,a=r.find((function(t){return t.agent===e.agent}));if(a){if(a.dates.push(e.date),Kt(r)>n)return a.dates.pop(),"break"}else if(r.push({agent:e.agent,dates:[e.date]}),Kt(r)>n)return r.pop(),"break";i=i.slice(1)};for(a.s();!(t=a.n()).done;){var u=o();if("break"===u)break}}catch(s){a.e(s)}finally{a.f()}return{heartbeatsToSend:r,unsentEntries:i}}var Vt,Ht,Gt=function(){function e(t){_(this,e),this.app=t,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}return w(e,[{key:"runIndexedDBEnvironmentCheck",value:function(){var e=y(m().mark((function e(){return m().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(J()){e.next=4;break}return e.abrupt("return",!1);case 4:return e.abrupt("return",new Promise((function(e,t){try{var n=!0,r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=function(){i.result.close(),n||self.indexedDB.deleteDatabase(r),e(!0)},i.onupgradeneeded=function(){n=!1},i.onerror=function(){var e;t((null===(e=i.error)||void 0===e?void 0:e.message)||"")}}catch(bn){t(bn)}})).then((function(){return!0})).catch((function(){return!1})));case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()},{key:"read",value:function(){var e=y(m().mark((function e(){var t;return m().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._canUseIndexedDBPromise;case 2:if(e.sent){e.next=7;break}return e.abrupt("return",{heartbeats:[]});case 7:return e.next=9,Mt(this.app);case 9:return t=e.sent,e.abrupt("return",t||{heartbeats:[]});case 11:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"overwrite",value:function(){var e=y(m().mark((function e(t){var n,r;return m().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._canUseIndexedDBPromise;case 2:if(e.sent){e.next=7;break}return e.abrupt("return");case 7:return e.next=9,this.read();case 9:return r=e.sent,e.abrupt("return",Ut(this.app,{lastSentHeartbeatDate:null!==(n=t.lastSentHeartbeatDate)&&void 0!==n?n:r.lastSentHeartbeatDate,heartbeats:t.heartbeats}));case 11:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"add",value:function(){var e=y(m().mark((function e(t){var n,r;return m().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._canUseIndexedDBPromise;case 2:if(e.sent){e.next=7;break}return e.abrupt("return");case 7:return e.next=9,this.read();case 9:return r=e.sent,e.abrupt("return",Ut(this.app,{lastSentHeartbeatDate:null!==(n=t.lastSentHeartbeatDate)&&void 0!==n?n:r.lastSentHeartbeatDate,heartbeats:[].concat(Te(r.heartbeats),Te(t.heartbeats))}));case 11:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()}]),e}();function Kt(e){return z(JSON.stringify({version:2,heartbeats:e})).length}Vt="",gt(new Pe("platform-logger",(function(e){return new ut(e)}),"PRIVATE")),gt(new Pe("heartbeat",(function(e){return new zt(e)}),"PRIVATE")),Nt(st,lt,Vt),Nt(st,lt,"esm2017"),Nt("fire-js","");var $t=function(){function e(t,n){var r=this;_(this,e),this._delegate=t,this.firebase=n,vt(t,new Pe("app-compat",(function(){return r}),"PUBLIC")),this.container=t.container}return w(e,[{key:"automaticDataCollectionEnabled",get:function(){return this._delegate.automaticDataCollectionEnabled},set:function(e){this._delegate.automaticDataCollectionEnabled=e}},{key:"name",get:function(){return this._delegate.name}},{key:"options",get:function(){return this._delegate.options}},{key:"delete",value:function(){var e=this;return new Promise((function(t){e._delegate.checkDestroyed(),t()})).then((function(){return e.firebase.INTERNAL.removeApp(e.name),Tt(e._delegate)}))}},{key:"_getService",value:function(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:dt;this._delegate.checkDestroyed();var r=this._delegate.container.getProvider(e);return r.isInitialized()||"EXPLICIT"!==(null===(t=r.getComponent())||void 0===t?void 0:t.instantiationMode)||r.initialize(),r.getImmediate({identifier:n})}},{key:"_removeServiceInstance",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:dt;this._delegate.container.getProvider(e).clearInstance(t)}},{key:"_addComponent",value:function(e){vt(this._delegate,e)}},{key:"_addOrOverwriteComponent",value:function(e){mt(this._delegate,e)}},{key:"toJSON",value:function(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}}}]),e}(),Yt=(b(Ht={},"no-app","No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()"),b(Ht,"invalid-app-argument","firebase.{$appName}() takes either no argument or a Firebase App instance."),Ht),Qt=new ae("app-compat","Firebase",Yt);var Jt=function t(){var n=function(t){var n={},r={__esModule:!0,initializeApp:function(e){var i=Et(e,arguments.length>1&&void 0!==arguments[1]?arguments[1]:{});if(de(n,i.name))return n[i.name];var a=new t(i,r);return n[i.name]=a,a},app:i,registerVersion:Nt,setLogLevel:Dt,onLog:Rt,apps:null,SDK_VERSION:It,INTERNAL:{registerComponent:function(e){var n=e.name,a=n.replace("-compat","");if(gt(e)&&"PUBLIC"===e.type){var o=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:i();if("function"!==typeof e[a])throw Qt.create("invalid-app-argument",{appName:n});return e[a]()};void 0!==e.serviceProps&&q(o,e.serviceProps),r[a]=o,t.prototype[a]=function(){for(var t=this._getService.bind(this,n),r=arguments.length,i=new Array(r),a=0;a<r;a++)i[a]=arguments[a];return t.apply(this,e.multipleInstances?i:[])}}return"PUBLIC"===e.type?r[a]:null},removeApp:function(e){delete n[e]},useAsService:function(e,t){return"serverAuth"===t?null:t},modularAPIs:e}};function i(e){if(!de(n,e=e||dt))throw Qt.create("no-app",{appName:e});return n[e]}return r.default=r,Object.defineProperty(r,"apps",{get:function(){return Object.keys(n).map((function(e){return n[e]}))}}),i.App=t,r}($t);return n.INTERNAL=Object.assign(Object.assign({},n.INTERNAL),{createFirebaseNamespace:t,extendNamespace:function(e){q(n,e)},createSubscribe:ke,ErrorFactory:ae,deepExtend:q}),n}(),Xt=new Be("@firebase/app-compat");if("object"===typeof self&&self.self===self&&void 0!==self.firebase){Xt.warn("\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  ");var Zt=self.firebase.SDK_VERSION;Zt&&Zt.indexOf("LITE")>=0&&Xt.warn("\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    ")}var en=Jt;!function(e){Nt("@firebase/app-compat","0.1.39",e)}();en.registerVersion("firebase","9.14.0","app-compat");var tn="@firebase/database",nn="0.13.10",rn="";var an=function(){function e(t){_(this,e),this.domStorage_=t,this.prefix_="firebase:"}return w(e,[{key:"set",value:function(e,t){null==t?this.domStorage_.removeItem(this.prefixedName_(e)):this.domStorage_.setItem(this.prefixedName_(e),le(t))}},{key:"get",value:function(e){var t=this.domStorage_.getItem(this.prefixedName_(e));return null==t?null:se(t)}},{key:"remove",value:function(e){this.domStorage_.removeItem(this.prefixedName_(e))}},{key:"prefixedName_",value:function(e){return this.prefix_+e}},{key:"toString",value:function(){return this.domStorage_.toString()}}]),e}(),on=function(){function e(){_(this,e),this.cache_={},this.isInMemoryStorage=!0}return w(e,[{key:"set",value:function(e,t){null==t?delete this.cache_[e]:this.cache_[e]=t}},{key:"get",value:function(e){return de(this.cache_,e)?this.cache_[e]:null}},{key:"remove",value:function(e){delete this.cache_[e]}}]),e}(),un=function(e){try{if("undefined"!==typeof window&&"undefined"!==typeof window[e]){var t=window[e];return t.setItem("firebase:sentinel","cache"),t.removeItem("firebase:sentinel"),new an(t)}}catch(n){}return new on},sn=un("localStorage"),ln=un("sessionStorage"),cn=new Be("@firebase/database"),dn=function(){var e=1;return function(){return e++}}(),fn=function(e){var t=function(e){for(var t=[],n=0,r=0;r<e.length;r++){var i=e.charCodeAt(r);if(i>=55296&&i<=56319){var a=i-55296;r++,M(r<e.length,"Surrogate pair missing trail surrogate."),i=65536+(a<<10)+(e.charCodeAt(r)-56320)}i<128?t[n++]=i:i<2048?(t[n++]=i>>6|192,t[n++]=63&i|128):i<65536?(t[n++]=i>>12|224,t[n++]=i>>6&63|128,t[n++]=63&i|128):(t[n++]=i>>18|240,t[n++]=i>>12&63|128,t[n++]=i>>6&63|128,t[n++]=63&i|128)}return t}(e),n=new _e;n.update(t);var r=n.digest();return j.encodeByteArray(r)},hn=function e(){for(var t="",n=0;n<arguments.length;n++){var r=n<0||arguments.length<=n?void 0:arguments[n];Array.isArray(r)||r&&"object"===typeof r&&"number"===typeof r.length?t+=e.apply(null,r):t+="object"===typeof r?le(r):r,t+=" "}return t},pn=null,vn=!0,mn=function(e,t){M(!t||!0===e||!1===e,"Can't turn on custom loggers persistently."),!0===e?(cn.logLevel=Ae.VERBOSE,pn=cn.log.bind(cn),t&&ln.set("logging_enabled",!0)):"function"===typeof e?pn=e:(pn=null,ln.remove("logging_enabled"))},gn=function(){if(!0===vn&&(vn=!1,null===pn&&!0===ln.get("logging_enabled")&&mn(!0)),pn){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];var r=hn.apply(null,t);pn(r)}},yn=function(e){return function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];gn.apply(void 0,[e].concat(n))}},bn=function(){var e="FIREBASE INTERNAL ERROR: "+hn.apply(void 0,arguments);cn.error(e)},_n=function(){var e="FIREBASE FATAL ERROR: ".concat(hn.apply(void 0,arguments));throw cn.error(e),new Error(e)},kn=function(){var e="FIREBASE WARNING: "+hn.apply(void 0,arguments);cn.warn(e)},wn=function(e){return"number"===typeof e&&(e!==e||e===Number.POSITIVE_INFINITY||e===Number.NEGATIVE_INFINITY)},xn="[MIN_NAME]",In="[MAX_NAME]",En=function(e,t){if(e===t)return 0;if(e===xn||t===In)return-1;if(t===xn||e===In)return 1;var n=Ln(e),r=Ln(t);return null!==n?null!==r?n-r===0?e.length-t.length:n-r:-1:null!==r?1:e<t?-1:1},Sn=function(e,t){return e===t?0:e<t?-1:1},Cn=function(e,t){if(t&&e in t)return t[e];throw new Error("Missing required key ("+e+") in object: "+le(t))},Tn=function e(t){if("object"!==typeof t||null===t)return le(t);var n=[];for(var r in t)n.push(r);n.sort();for(var i="{",a=0;a<n.length;a++)0!==a&&(i+=","),i+=le(n[a]),i+=":",i+=e(t[n[a]]);return i+="}"},Pn=function(e,t){var n=e.length;if(n<=t)return[e];for(var r=[],i=0;i<n;i+=t)i+t>n?r.push(e.substring(i,n)):r.push(e.substring(i,i+t));return r};function Nn(e,t){for(var n in e)e.hasOwnProperty(n)&&t(n,e[n])}var Rn=function(e){M(!wn(e),"Invalid JSON number");var t,n,r,i,a,o=1023;0===e?(n=0,r=0,t=1/e===-1/0?1:0):(t=e<0,(e=Math.abs(e))>=Math.pow(2,-1022)?(n=(i=Math.min(Math.floor(Math.log(e)/Math.LN2),o))+o,r=Math.round(e*Math.pow(2,52-i)-Math.pow(2,52))):(n=0,r=Math.round(e/Math.pow(2,-1074))));var u=[];for(a=52;a;a-=1)u.push(r%2?1:0),r=Math.floor(r/2);for(a=11;a;a-=1)u.push(n%2?1:0),n=Math.floor(n/2);u.push(t?1:0),u.reverse();var s=u.join(""),l="";for(a=0;a<64;a+=8){var c=parseInt(s.substr(a,8),2).toString(16);1===c.length&&(c="0"+c),l+=c}return l.toLowerCase()};var Dn=new RegExp("^-?(0*)\\d{1,10}$"),An=-2147483648,On=2147483647,Ln=function(e){if(Dn.test(e)){var t=Number(e);if(t>=An&&t<=On)return t}return null},Mn=function(e){try{e()}catch(t){setTimeout((function(){var e=t.stack||"";throw kn("Exception was thrown by user callback.",e),t}),Math.floor(0))}},Fn=function(e,t){var n=setTimeout(e,t);return"number"===typeof n&&"undefined"!==typeof Deno&&Deno.unrefTimer?Deno.unrefTimer(n):"object"===typeof n&&n.unref&&n.unref(),n},Un=function(){function e(t,n){var r=this;_(this,e),this.appName_=t,this.appCheckProvider=n,this.appCheck=null===n||void 0===n?void 0:n.getImmediate({optional:!0}),this.appCheck||null===n||void 0===n||n.get().then((function(e){return r.appCheck=e}))}return w(e,[{key:"getToken",value:function(e){var t=this;return this.appCheck?this.appCheck.getToken(e):new Promise((function(n,r){setTimeout((function(){t.appCheck?t.getToken(e).then(n,r):n(null)}),0)}))}},{key:"addTokenChangeListener",value:function(e){var t;null===(t=this.appCheckProvider)||void 0===t||t.get().then((function(t){return t.addTokenListener(e)}))}},{key:"notifyForInvalidToken",value:function(){kn('Provided AppCheck credentials for the app named "'.concat(this.appName_,'" ')+"are invalid. This usually indicates your app was not initialized correctly.")}}]),e}(),jn=function(){function e(t,n,r){var i=this;_(this,e),this.appName_=t,this.firebaseOptions_=n,this.authProvider_=r,this.auth_=null,this.auth_=r.getImmediate({optional:!0}),this.auth_||r.onInit((function(e){return i.auth_=e}))}return w(e,[{key:"getToken",value:function(e){var t=this;return this.auth_?this.auth_.getToken(e).catch((function(e){return e&&"auth/token-not-initialized"===e.code?(gn("Got auth/token-not-initialized error.  Treating as null token."),null):Promise.reject(e)})):new Promise((function(n,r){setTimeout((function(){t.auth_?t.getToken(e).then(n,r):n(null)}),0)}))}},{key:"addTokenChangeListener",value:function(e){this.auth_?this.auth_.addAuthTokenListener(e):this.authProvider_.get().then((function(t){return t.addAuthTokenListener(e)}))}},{key:"removeTokenChangeListener",value:function(e){this.authProvider_.get().then((function(t){return t.removeAuthTokenListener(e)}))}},{key:"notifyForInvalidToken",value:function(){var e='Provided authentication credentials for the app named "'+this.appName_+'" are invalid. This usually indicates your app was not initialized correctly. ';"credential"in this.firebaseOptions_?e+='Make sure the "credential" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':"serviceAccount"in this.firebaseOptions_?e+='Make sure the "serviceAccount" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':e+='Make sure the "apiKey" and "databaseURL" properties provided to initializeApp() match the values provided for your app at https://console.firebase.google.com/.',kn(e)}}]),e}(),Bn=function(){function e(t){_(this,e),this.accessToken=t}return w(e,[{key:"getToken",value:function(e){return Promise.resolve({accessToken:this.accessToken})}},{key:"addTokenChangeListener",value:function(e){e(this.accessToken)}},{key:"removeTokenChangeListener",value:function(e){}},{key:"notifyForInvalidToken",value:function(){}}]),e}();Bn.OWNER="owner";var zn="5",Wn=/(console\.firebase|firebase-console-\w+\.corp|firebase\.corp)\.google\.com/,qn="websocket",Vn="long_polling",Hn=function(){function e(t,n,r,i){var a=arguments.length>4&&void 0!==arguments[4]&&arguments[4],o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:"",u=arguments.length>6&&void 0!==arguments[6]&&arguments[6];_(this,e),this.secure=n,this.namespace=r,this.webSocketOnly=i,this.nodeAdmin=a,this.persistenceKey=o,this.includeNamespaceInQueryParams=u,this._host=t.toLowerCase(),this._domain=this._host.substr(this._host.indexOf(".")+1),this.internalHost=sn.get("host:"+t)||this._host}return w(e,[{key:"isCacheableHost",value:function(){return"s-"===this.internalHost.substr(0,2)}},{key:"isCustomHost",value:function(){return"firebaseio.com"!==this._domain&&"firebaseio-demo.com"!==this._domain}},{key:"host",get:function(){return this._host},set:function(e){e!==this.internalHost&&(this.internalHost=e,this.isCacheableHost()&&sn.set("host:"+this._host,this.internalHost))}},{key:"toString",value:function(){var e=this.toURLString();return this.persistenceKey&&(e+="<"+this.persistenceKey+">"),e}},{key:"toURLString",value:function(){var e=this.secure?"https://":"http://",t=this.includeNamespaceInQueryParams?"?ns=".concat(this.namespace):"";return"".concat(e).concat(this.host,"/").concat(t)}}]),e}();function Gn(e,t,n){var r;if(M("string"===typeof t,"typeof type must == string"),M("object"===typeof n,"typeof params must == object"),t===qn)r=(e.secure?"wss://":"ws://")+e.internalHost+"/.ws?";else{if(t!==Vn)throw new Error("Unknown connection type: "+t);r=(e.secure?"https://":"http://")+e.internalHost+"/.lp?"}(function(e){return e.host!==e.internalHost||e.isCustomHost()||e.includeNamespaceInQueryParams})(e)&&(n.ns=e.namespace);var i=[];return Nn(n,(function(e,t){i.push(e+"="+t)})),r+i.join("&")}var Kn=function(){function e(){_(this,e),this.counters_={}}return w(e,[{key:"incrementCounter",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;de(this.counters_,e)||(this.counters_[e]=0),this.counters_[e]+=t}},{key:"get",value:function(){return q(void 0,this.counters_)}}]),e}(),$n={},Yn={};function Qn(e){var t=e.toString();return $n[t]||($n[t]=new Kn),$n[t]}var Jn=function(){function e(t){_(this,e),this.onMessage_=t,this.pendingResponses=[],this.currentResponseNum=0,this.closeAfterResponse=-1,this.onClose=null}return w(e,[{key:"closeAfter",value:function(e,t){this.closeAfterResponse=e,this.onClose=t,this.closeAfterResponse<this.currentResponseNum&&(this.onClose(),this.onClose=null)}},{key:"handleResponse",value:function(e,t){var n=this;this.pendingResponses[e]=t;for(var r=function(){var e=n.pendingResponses[n.currentResponseNum];delete n.pendingResponses[n.currentResponseNum];for(var t=function(t){e[t]&&Mn((function(){n.onMessage_(e[t])}))},r=0;r<e.length;++r)t(r);if(n.currentResponseNum===n.closeAfterResponse)return n.onClose&&(n.onClose(),n.onClose=null),"break";n.currentResponseNum++};this.pendingResponses[this.currentResponseNum];){if("break"===r())break}}}]),e}(),Xn="start",Zn="close",er=function(){function e(t,n,r,i,a,o,u){var s=this;_(this,e),this.connId=t,this.repoInfo=n,this.applicationId=r,this.appCheckToken=i,this.authToken=a,this.transportSessionId=o,this.lastSessionId=u,this.bytesSent=0,this.bytesReceived=0,this.everConnected_=!1,this.log_=yn(t),this.stats_=Qn(n),this.urlFn=function(e){return s.appCheckToken&&(e.ac=s.appCheckToken),Gn(n,Vn,e)}}return w(e,[{key:"open",value:function(e,t){var n=this;this.curSegmentNum=0,this.onDisconnect_=t,this.myPacketOrderer=new Jn(e),this.isClosed_=!1,this.connectTimeoutTimer_=setTimeout((function(){n.log_("Timed out trying to connect."),n.onClosed_(),n.connectTimeoutTimer_=null}),Math.floor(3e4)),function(e){if(Q()||"complete"===document.readyState)e();else{var t=!1,n=function n(){document.body?t||(t=!0,e()):setTimeout(n,Math.floor(10))};document.addEventListener?(document.addEventListener("DOMContentLoaded",n,!1),window.addEventListener("load",n,!1)):document.attachEvent&&(document.attachEvent("onreadystatechange",(function(){"complete"===document.readyState&&n()})),window.attachEvent("onload",n))}}((function(){if(!n.isClosed_){n.scriptTagHolder=new tr((function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];var i=t[0],a=t[1],o=t[2];t[3],t[4];if(n.incrementIncomingBytes_(t),n.scriptTagHolder)if(n.connectTimeoutTimer_&&(clearTimeout(n.connectTimeoutTimer_),n.connectTimeoutTimer_=null),n.everConnected_=!0,i===Xn)n.id=a,n.password=o;else{if(i!==Zn)throw new Error("Unrecognized command received: "+i);a?(n.scriptTagHolder.sendNewPolls=!1,n.myPacketOrderer.closeAfter(a,(function(){n.onClosed_()}))):n.onClosed_()}}),(function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];var i=t[0],a=t[1];n.incrementIncomingBytes_(t),n.myPacketOrderer.handleResponse(i,a)}),(function(){n.onClosed_()}),n.urlFn);var e={start:"t"};e.ser=Math.floor(1e8*Math.random()),n.scriptTagHolder.uniqueCallbackIdentifier&&(e.cb=n.scriptTagHolder.uniqueCallbackIdentifier),e.v=zn,n.transportSessionId&&(e.s=n.transportSessionId),n.lastSessionId&&(e.ls=n.lastSessionId),n.applicationId&&(e.p=n.applicationId),n.appCheckToken&&(e.ac=n.appCheckToken),"undefined"!==typeof location&&location.hostname&&Wn.test(location.hostname)&&(e.r="f");var t=n.urlFn(e);n.log_("Connecting via long-poll to "+t),n.scriptTagHolder.addTag(t,(function(){}))}}))}},{key:"start",value:function(){this.scriptTagHolder.startLongPoll(this.id,this.password),this.addDisconnectPingFrame(this.id,this.password)}},{key:"markConnectionHealthy",value:function(){}},{key:"shutdown_",value:function(){this.isClosed_=!0,this.scriptTagHolder&&(this.scriptTagHolder.close(),this.scriptTagHolder=null),this.myDisconnFrame&&(document.body.removeChild(this.myDisconnFrame),this.myDisconnFrame=null),this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null)}},{key:"onClosed_",value:function(){this.isClosed_||(this.log_("Longpoll is closing itself"),this.shutdown_(),this.onDisconnect_&&(this.onDisconnect_(this.everConnected_),this.onDisconnect_=null))}},{key:"close",value:function(){this.isClosed_||(this.log_("Longpoll is being closed."),this.shutdown_())}},{key:"send",value:function(e){var t=le(e);this.bytesSent+=t.length,this.stats_.incrementCounter("bytes_sent",t.length);for(var n=B(t),r=Pn(n,1840),i=0;i<r.length;i++)this.scriptTagHolder.enqueueSegment(this.curSegmentNum,r.length,r[i]),this.curSegmentNum++}},{key:"addDisconnectPingFrame",value:function(e,t){if(!Q()){this.myDisconnFrame=document.createElement("iframe");var n={dframe:"t"};n.id=e,n.pw=t,this.myDisconnFrame.src=this.urlFn(n),this.myDisconnFrame.style.display="none",document.body.appendChild(this.myDisconnFrame)}}},{key:"incrementIncomingBytes_",value:function(e){var t=le(e).length;this.bytesReceived+=t,this.stats_.incrementCounter("bytes_received",t)}}],[{key:"forceAllow",value:function(){e.forceAllow_=!0}},{key:"forceDisallow",value:function(){e.forceDisallow_=!0}},{key:"isAvailable",value:function(){return!Q()&&(!!e.forceAllow_||!e.forceDisallow_&&"undefined"!==typeof document&&null!=document.createElement&&!("object"===typeof window&&window.chrome&&window.chrome.extension&&!/^chrome/.test(window.location.href))&&!("object"===typeof Windows&&"object"===typeof Windows.UI))}}]),e}(),tr=function(){function e(t,n,r,i){if(_(this,e),this.onDisconnect=r,this.urlFn=i,this.outstandingRequests=new Set,this.pendingSegs=[],this.currentSerial=Math.floor(1e8*Math.random()),this.sendNewPolls=!0,Q())this.commandCB=t,this.onMessageCB=n;else{this.uniqueCallbackIdentifier=dn(),window["pLPCommand"+this.uniqueCallbackIdentifier]=t,window["pRTLPCB"+this.uniqueCallbackIdentifier]=n,this.myIFrame=e.createIFrame_();var a="";if(this.myIFrame.src&&"javascript:"===this.myIFrame.src.substr(0,"javascript:".length))a='<script>document.domain="'+document.domain+'";<\/script>';var o="<html><body>"+a+"</body></html>";try{this.myIFrame.doc.open(),this.myIFrame.doc.write(o),this.myIFrame.doc.close()}catch(u){gn("frame writing exception"),u.stack&&gn(u.stack),gn(u)}}}return w(e,[{key:"close",value:function(){var e=this;this.alive=!1,this.myIFrame&&(this.myIFrame.doc.body.innerHTML="",setTimeout((function(){null!==e.myIFrame&&(document.body.removeChild(e.myIFrame),e.myIFrame=null)}),Math.floor(0)));var t=this.onDisconnect;t&&(this.onDisconnect=null,t())}},{key:"startLongPoll",value:function(e,t){for(this.myID=e,this.myPW=t,this.alive=!0;this.newRequest_(););}},{key:"newRequest_",value:function(){if(this.alive&&this.sendNewPolls&&this.outstandingRequests.size<(this.pendingSegs.length>0?2:1)){this.currentSerial++;var e={};e.id=this.myID,e.pw=this.myPW,e.ser=this.currentSerial;for(var t=this.urlFn(e),n="",r=0;this.pendingSegs.length>0;){if(!(this.pendingSegs[0].d.length+30+n.length<=1870))break;var i=this.pendingSegs.shift();n=n+"&seg"+r+"="+i.seg+"&ts"+r+"="+i.ts+"&d"+r+"="+i.d,r++}return t+=n,this.addLongPollTag_(t,this.currentSerial),!0}return!1}},{key:"enqueueSegment",value:function(e,t,n){this.pendingSegs.push({seg:e,ts:t,d:n}),this.alive&&this.newRequest_()}},{key:"addLongPollTag_",value:function(e,t){var n=this;this.outstandingRequests.add(t);var r=function(){n.outstandingRequests.delete(t),n.newRequest_()},i=setTimeout(r,Math.floor(25e3));this.addTag(e,(function(){clearTimeout(i),r()}))}},{key:"addTag",value:function(e,t){var n=this;Q()?this.doNodeLongPoll(e,t):setTimeout((function(){try{if(!n.sendNewPolls)return;var r=n.myIFrame.doc.createElement("script");r.type="text/javascript",r.async=!0,r.src=e,r.onload=r.onreadystatechange=function(){var e=r.readyState;e&&"loaded"!==e&&"complete"!==e||(r.onload=r.onreadystatechange=null,r.parentNode&&r.parentNode.removeChild(r),t())},r.onerror=function(){gn("Long-poll script failed to load: "+e),n.sendNewPolls=!1,n.close()},n.myIFrame.doc.body.appendChild(r)}catch(i){}}),Math.floor(1))}}],[{key:"createIFrame_",value:function(){var e=document.createElement("iframe");if(e.style.display="none",!document.body)throw"Document body has not initialized. Wait to initialize Firebase until after the document is ready.";document.body.appendChild(e);try{e.contentWindow.document||gn("No IE domain setting required")}catch(n){var t=document.domain;e.src="javascript:void((function(){document.open();document.domain='"+t+"';document.close();})())"}return e.contentDocument?e.doc=e.contentDocument:e.contentWindow?e.doc=e.contentWindow.document:e.document&&(e.doc=e.document),e}}]),e}(),nr=null;"undefined"!==typeof MozWebSocket?nr=MozWebSocket:"undefined"!==typeof WebSocket&&(nr=WebSocket);var rr=function(){function e(t,n,r,i,a,o,u){_(this,e),this.connId=t,this.applicationId=r,this.appCheckToken=i,this.authToken=a,this.keepaliveTimer=null,this.frames=null,this.totalFrames=0,this.bytesSent=0,this.bytesReceived=0,this.log_=yn(this.connId),this.stats_=Qn(n),this.connURL=e.connectionURL_(n,o,u,i,r),this.nodeAdmin=n.nodeAdmin}return w(e,[{key:"open",value:function(e,t){var n=this;this.onDisconnect=t,this.onMessage=e,this.log_("Websocket connecting to "+this.connURL),this.everConnected_=!1,sn.set("previous_websocket_failure",!0);try{var r;if(Q()){var i=this.nodeAdmin?"AdminNode":"Node";r={headers:{"User-Agent":"Firebase/".concat(zn,"/").concat(rn,"/").concat(process.platform,"/").concat(i),"X-Firebase-GMPID":this.applicationId||""}},this.authToken&&(r.headers.Authorization="Bearer ".concat(this.authToken)),this.appCheckToken&&(r.headers["X-Firebase-AppCheck"]=this.appCheckToken);var a={NODE_ENV:"production",PUBLIC_URL:"/react-todo-list",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0,REACT_APP_FIREBASE_API_KEY:"AIzaSyAbQ2mHRl1ZJzpLnkPBulCBR1d23y7RzVA",REACT_APP_FIREBASE_APP_ID:"1:754082289786:web:7f8f281698c740573d03c3",REACT_APP_FIREBASE_AUTH_DOMAIN:"todo-app-1719e.firebaseapp.com",REACT_APP_FIREBASE_DATABASE_URL:"https://todo-app-1719e-default-rtdb.europe-west1.firebasedatabase.app",REACT_APP_FIREBASE_MESSAGING_SENDER_ID:"754082289786",REACT_APP_FIREBASE_PROJECT_ID:"todo-app-1719e",REACT_APP_FIREBASE_STORAGE_BUCKET:"todo-app-1719e.appspot.com"},o=0===this.connURL.indexOf("wss://")?a.HTTPS_PROXY||a.https_proxy:a.HTTP_PROXY||a.http_proxy;o&&(r.proxy={origin:o})}this.mySock=new nr(this.connURL,[],r)}catch(s){this.log_("Error instantiating WebSocket.");var u=s.message||s.data;return u&&this.log_(u),void this.onClosed_()}this.mySock.onopen=function(){n.log_("Websocket connected."),n.everConnected_=!0},this.mySock.onclose=function(){n.log_("Websocket connection was disconnected."),n.mySock=null,n.onClosed_()},this.mySock.onmessage=function(e){n.handleIncomingFrame(e)},this.mySock.onerror=function(e){n.log_("WebSocket error.  Closing connection.");var t=e.message||e.data;t&&n.log_(t),n.onClosed_()}}},{key:"start",value:function(){}},{key:"markConnectionHealthy",value:function(){sn.remove("previous_websocket_failure")}},{key:"appendFrame_",value:function(e){if(this.frames.push(e),this.frames.length===this.totalFrames){var t=this.frames.join("");this.frames=null;var n=se(t);this.onMessage(n)}}},{key:"handleNewFrameCount_",value:function(e){this.totalFrames=e,this.frames=[]}},{key:"extractFrameCount_",value:function(e){if(M(null===this.frames,"We already have a frame buffer"),e.length<=6){var t=Number(e);if(!isNaN(t))return this.handleNewFrameCount_(t),null}return this.handleNewFrameCount_(1),e}},{key:"handleIncomingFrame",value:function(e){if(null!==this.mySock){var t=e.data;if(this.bytesReceived+=t.length,this.stats_.incrementCounter("bytes_received",t.length),this.resetKeepAlive(),null!==this.frames)this.appendFrame_(t);else{var n=this.extractFrameCount_(t);null!==n&&this.appendFrame_(n)}}}},{key:"send",value:function(e){this.resetKeepAlive();var t=le(e);this.bytesSent+=t.length,this.stats_.incrementCounter("bytes_sent",t.length);var n=Pn(t,16384);n.length>1&&this.sendString_(String(n.length));for(var r=0;r<n.length;r++)this.sendString_(n[r])}},{key:"shutdown_",value:function(){this.isClosed_=!0,this.keepaliveTimer&&(clearInterval(this.keepaliveTimer),this.keepaliveTimer=null),this.mySock&&(this.mySock.close(),this.mySock=null)}},{key:"onClosed_",value:function(){this.isClosed_||(this.log_("WebSocket is closing itself"),this.shutdown_(),this.onDisconnect&&(this.onDisconnect(this.everConnected_),this.onDisconnect=null))}},{key:"close",value:function(){this.isClosed_||(this.log_("WebSocket is being closed"),this.shutdown_())}},{key:"resetKeepAlive",value:function(){var e=this;clearInterval(this.keepaliveTimer),this.keepaliveTimer=setInterval((function(){e.mySock&&e.sendString_("0"),e.resetKeepAlive()}),Math.floor(45e3))}},{key:"sendString_",value:function(e){try{this.mySock.send(e)}catch(t){this.log_("Exception thrown from WebSocket.send():",t.message||t.data,"Closing connection."),setTimeout(this.onClosed_.bind(this),0)}}}],[{key:"connectionURL_",value:function(e,t,n,r,i){var a={};return a.v=zn,!Q()&&"undefined"!==typeof location&&location.hostname&&Wn.test(location.hostname)&&(a.r="f"),t&&(a.s=t),n&&(a.ls=n),r&&(a.ac=r),i&&(a.p=i),Gn(e,qn,a)}},{key:"forceDisallow",value:function(){e.forceDisallow_=!0}},{key:"isAvailable",value:function(){var t=!1;if("undefined"!==typeof navigator&&navigator.userAgent){var n=navigator.userAgent.match(/Android ([0-9]{0,}\.[0-9]{0,})/);n&&n.length>1&&parseFloat(n[1])<4.4&&(t=!0)}return!t&&null!==nr&&!e.forceDisallow_}},{key:"previouslyFailed",value:function(){return sn.isInMemoryStorage||!0===sn.get("previous_websocket_failure")}}]),e}();rr.responsesRequiredToBeHealthy=2,rr.healthyTimeout=3e4;var ir=function(){function e(t){_(this,e),this.initTransports_(t)}return w(e,[{key:"initTransports_",value:function(t){var n=rr&&rr.isAvailable(),r=n&&!rr.previouslyFailed();if(t.webSocketOnly&&(n||kn("wss:// URL used, but browser isn't known to support websockets.  Trying anyway."),r=!0),r)this.transports_=[rr];else{var i,a=this.transports_=[],o=x(e.ALL_TRANSPORTS);try{for(o.s();!(i=o.n()).done;){var u=i.value;u&&u.isAvailable()&&a.push(u)}}catch(s){o.e(s)}finally{o.f()}e.globalTransportInitialized_=!0}}},{key:"initialTransport",value:function(){if(this.transports_.length>0)return this.transports_[0];throw new Error("No transports available")}},{key:"upgradeTransport",value:function(){return this.transports_.length>1?this.transports_[1]:null}}],[{key:"ALL_TRANSPORTS",get:function(){return[er,rr]}},{key:"IS_TRANSPORT_INITIALIZED",get:function(){return this.globalTransportInitialized_}}]),e}();ir.globalTransportInitialized_=!1;var ar=function(){function e(t,n,r,i,a,o,u,s,l,c){_(this,e),this.id=t,this.repoInfo_=n,this.applicationId_=r,this.appCheckToken_=i,this.authToken_=a,this.onMessage_=o,this.onReady_=u,this.onDisconnect_=s,this.onKill_=l,this.lastSessionId=c,this.connectionCount=0,this.pendingDataMessages=[],this.state_=0,this.log_=yn("c:"+this.id+":"),this.transportManager_=new ir(n),this.log_("Connection created"),this.start_()}return w(e,[{key:"start_",value:function(){var e=this,t=this.transportManager_.initialTransport();this.conn_=new t(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,null,this.lastSessionId),this.primaryResponsesRequired_=t.responsesRequiredToBeHealthy||0;var n=this.connReceiver_(this.conn_),r=this.disconnReceiver_(this.conn_);this.tx_=this.conn_,this.rx_=this.conn_,this.secondaryConn_=null,this.isHealthy_=!1,setTimeout((function(){e.conn_&&e.conn_.open(n,r)}),Math.floor(0));var i=t.healthyTimeout||0;i>0&&(this.healthyTimeout_=Fn((function(){e.healthyTimeout_=null,e.isHealthy_||(e.conn_&&e.conn_.bytesReceived>102400?(e.log_("Connection exceeded healthy timeout but has received "+e.conn_.bytesReceived+" bytes.  Marking connection healthy."),e.isHealthy_=!0,e.conn_.markConnectionHealthy()):e.conn_&&e.conn_.bytesSent>10240?e.log_("Connection exceeded healthy timeout but has sent "+e.conn_.bytesSent+" bytes.  Leaving connection alive."):(e.log_("Closing unhealthy connection after timeout."),e.close()))}),Math.floor(i)))}},{key:"nextTransportId_",value:function(){return"c:"+this.id+":"+this.connectionCount++}},{key:"disconnReceiver_",value:function(e){var t=this;return function(n){e===t.conn_?t.onConnectionLost_(n):e===t.secondaryConn_?(t.log_("Secondary connection lost."),t.onSecondaryConnectionLost_()):t.log_("closing an old connection")}}},{key:"connReceiver_",value:function(e){var t=this;return function(n){2!==t.state_&&(e===t.rx_?t.onPrimaryMessageReceived_(n):e===t.secondaryConn_?t.onSecondaryMessageReceived_(n):t.log_("message on old connection"))}}},{key:"sendRequest",value:function(e){var t={t:"d",d:e};this.sendData_(t)}},{key:"tryCleanupConnection",value:function(){this.tx_===this.secondaryConn_&&this.rx_===this.secondaryConn_&&(this.log_("cleaning up and promoting a connection: "+this.secondaryConn_.connId),this.conn_=this.secondaryConn_,this.secondaryConn_=null)}},{key:"onSecondaryControl_",value:function(e){if("t"in e){var t=e.t;"a"===t?this.upgradeIfSecondaryHealthy_():"r"===t?(this.log_("Got a reset on secondary, closing it"),this.secondaryConn_.close(),this.tx_!==this.secondaryConn_&&this.rx_!==this.secondaryConn_||this.close()):"o"===t&&(this.log_("got pong on secondary."),this.secondaryResponsesRequired_--,this.upgradeIfSecondaryHealthy_())}}},{key:"onSecondaryMessageReceived_",value:function(e){var t=Cn("t",e),n=Cn("d",e);if("c"===t)this.onSecondaryControl_(n);else{if("d"!==t)throw new Error("Unknown protocol layer: "+t);this.pendingDataMessages.push(n)}}},{key:"upgradeIfSecondaryHealthy_",value:function(){this.secondaryResponsesRequired_<=0?(this.log_("Secondary connection is healthy."),this.isHealthy_=!0,this.secondaryConn_.markConnectionHealthy(),this.proceedWithUpgrade_()):(this.log_("sending ping on secondary."),this.secondaryConn_.send({t:"c",d:{t:"p",d:{}}}))}},{key:"proceedWithUpgrade_",value:function(){this.secondaryConn_.start(),this.log_("sending client ack on secondary"),this.secondaryConn_.send({t:"c",d:{t:"a",d:{}}}),this.log_("Ending transmission on primary"),this.conn_.send({t:"c",d:{t:"n",d:{}}}),this.tx_=this.secondaryConn_,this.tryCleanupConnection()}},{key:"onPrimaryMessageReceived_",value:function(e){var t=Cn("t",e),n=Cn("d",e);"c"===t?this.onControl_(n):"d"===t&&this.onDataMessage_(n)}},{key:"onDataMessage_",value:function(e){this.onPrimaryResponse_(),this.onMessage_(e)}},{key:"onPrimaryResponse_",value:function(){this.isHealthy_||(this.primaryResponsesRequired_--,this.primaryResponsesRequired_<=0&&(this.log_("Primary connection is healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()))}},{key:"onControl_",value:function(e){var t=Cn("t",e);if("d"in e){var n=e.d;if("h"===t)this.onHandshake_(n);else if("n"===t){this.log_("recvd end transmission on primary"),this.rx_=this.secondaryConn_;for(var r=0;r<this.pendingDataMessages.length;++r)this.onDataMessage_(this.pendingDataMessages[r]);this.pendingDataMessages=[],this.tryCleanupConnection()}else"s"===t?this.onConnectionShutdown_(n):"r"===t?this.onReset_(n):"e"===t?bn("Server Error: "+n):"o"===t?(this.log_("got pong on primary."),this.onPrimaryResponse_(),this.sendPingOnPrimaryIfNecessary_()):bn("Unknown control packet command: "+t)}}},{key:"onHandshake_",value:function(e){var t=e.ts,n=e.v,r=e.h;this.sessionId=e.s,this.repoInfo_.host=r,0===this.state_&&(this.conn_.start(),this.onConnectionEstablished_(this.conn_,t),zn!==n&&kn("Protocol version mismatch detected"),this.tryStartUpgrade_())}},{key:"tryStartUpgrade_",value:function(){var e=this.transportManager_.upgradeTransport();e&&this.startUpgrade_(e)}},{key:"startUpgrade_",value:function(e){var t=this;this.secondaryConn_=new e(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,this.sessionId),this.secondaryResponsesRequired_=e.responsesRequiredToBeHealthy||0;var n=this.connReceiver_(this.secondaryConn_),r=this.disconnReceiver_(this.secondaryConn_);this.secondaryConn_.open(n,r),Fn((function(){t.secondaryConn_&&(t.log_("Timed out trying to upgrade."),t.secondaryConn_.close())}),Math.floor(6e4))}},{key:"onReset_",value:function(e){this.log_("Reset packet received.  New host: "+e),this.repoInfo_.host=e,1===this.state_?this.close():(this.closeConnections_(),this.start_())}},{key:"onConnectionEstablished_",value:function(e,t){var n=this;this.log_("Realtime connection established."),this.conn_=e,this.state_=1,this.onReady_&&(this.onReady_(t,this.sessionId),this.onReady_=null),0===this.primaryResponsesRequired_?(this.log_("Primary connection is healthy."),this.isHealthy_=!0):Fn((function(){n.sendPingOnPrimaryIfNecessary_()}),Math.floor(5e3))}},{key:"sendPingOnPrimaryIfNecessary_",value:function(){this.isHealthy_||1!==this.state_||(this.log_("sending ping on primary."),this.sendData_({t:"c",d:{t:"p",d:{}}}))}},{key:"onSecondaryConnectionLost_",value:function(){var e=this.secondaryConn_;this.secondaryConn_=null,this.tx_!==e&&this.rx_!==e||this.close()}},{key:"onConnectionLost_",value:function(e){this.conn_=null,e||0!==this.state_?1===this.state_&&this.log_("Realtime connection lost."):(this.log_("Realtime connection failed."),this.repoInfo_.isCacheableHost()&&(sn.remove("host:"+this.repoInfo_.host),this.repoInfo_.internalHost=this.repoInfo_.host)),this.close()}},{key:"onConnectionShutdown_",value:function(e){this.log_("Connection shutdown command received. Shutting down..."),this.onKill_&&(this.onKill_(e),this.onKill_=null),this.onDisconnect_=null,this.close()}},{key:"sendData_",value:function(e){if(1!==this.state_)throw"Connection is not connected";this.tx_.send(e)}},{key:"close",value:function(){2!==this.state_&&(this.log_("Closing realtime connection."),this.state_=2,this.closeConnections_(),this.onDisconnect_&&(this.onDisconnect_(),this.onDisconnect_=null))}},{key:"closeConnections_",value:function(){this.log_("Shutting down all connections"),this.conn_&&(this.conn_.close(),this.conn_=null),this.secondaryConn_&&(this.secondaryConn_.close(),this.secondaryConn_=null),this.healthyTimeout_&&(clearTimeout(this.healthyTimeout_),this.healthyTimeout_=null)}}]),e}(),or=function(){function e(){_(this,e)}return w(e,[{key:"put",value:function(e,t,n,r){}},{key:"merge",value:function(e,t,n,r){}},{key:"refreshAuthToken",value:function(e){}},{key:"refreshAppCheckToken",value:function(e){}},{key:"onDisconnectPut",value:function(e,t,n){}},{key:"onDisconnectMerge",value:function(e,t,n){}},{key:"onDisconnectCancel",value:function(e,t){}},{key:"reportStats",value:function(e){}}]),e}(),ur=function(){function e(t){_(this,e),this.allowedEvents_=t,this.listeners_={},M(Array.isArray(t)&&t.length>0,"Requires a non-empty array")}return w(e,[{key:"trigger",value:function(e){if(Array.isArray(this.listeners_[e])){for(var t=Te(this.listeners_[e]),n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];for(var a=0;a<t.length;a++)t[a].callback.apply(t[a].context,r)}}},{key:"on",value:function(e,t,n){this.validateEventType_(e),this.listeners_[e]=this.listeners_[e]||[],this.listeners_[e].push({callback:t,context:n});var r=this.getInitialEvent(e);r&&t.apply(n,r)}},{key:"off",value:function(e,t,n){this.validateEventType_(e);for(var r=this.listeners_[e]||[],i=0;i<r.length;i++)if(r[i].callback===t&&(!n||n===r[i].context))return void r.splice(i,1)}},{key:"validateEventType_",value:function(e){M(this.allowedEvents_.find((function(t){return t===e})),"Unknown event: "+e)}}]),e}(),sr=function(e){S(n,e);var t=N(n);function n(){var e;return _(this,n),(e=t.call(this,["online"])).online_=!0,"undefined"===typeof window||"undefined"===typeof window.addEventListener||H()||(window.addEventListener("online",(function(){e.online_||(e.online_=!0,e.trigger("online",!0))}),!1),window.addEventListener("offline",(function(){e.online_&&(e.online_=!1,e.trigger("online",!1))}),!1)),e}return w(n,[{key:"getInitialEvent",value:function(e){return M("online"===e,"Unknown event type: "+e),[this.online_]}},{key:"currentlyOnline",value:function(){return this.online_}}],[{key:"getInstance",value:function(){return new n}}]),n}(ur),lr=function(){function e(t,n){if(_(this,e),void 0===n){this.pieces_=t.split("/");for(var r=0,i=0;i<this.pieces_.length;i++)this.pieces_[i].length>0&&(this.pieces_[r]=this.pieces_[i],r++);this.pieces_.length=r,this.pieceNum_=0}else this.pieces_=t,this.pieceNum_=n}return w(e,[{key:"toString",value:function(){for(var e="",t=this.pieceNum_;t<this.pieces_.length;t++)""!==this.pieces_[t]&&(e+="/"+this.pieces_[t]);return e||"/"}}]),e}();function cr(){return new lr("")}function dr(e){return e.pieceNum_>=e.pieces_.length?null:e.pieces_[e.pieceNum_]}function fr(e){return e.pieces_.length-e.pieceNum_}function hr(e){var t=e.pieceNum_;return t<e.pieces_.length&&t++,new lr(e.pieces_,t)}function pr(e){return e.pieceNum_<e.pieces_.length?e.pieces_[e.pieces_.length-1]:null}function vr(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return e.pieces_.slice(e.pieceNum_+t)}function mr(e){if(e.pieceNum_>=e.pieces_.length)return null;for(var t=[],n=e.pieceNum_;n<e.pieces_.length-1;n++)t.push(e.pieces_[n]);return new lr(t,0)}function gr(e,t){for(var n=[],r=e.pieceNum_;r<e.pieces_.length;r++)n.push(e.pieces_[r]);if(t instanceof lr)for(var i=t.pieceNum_;i<t.pieces_.length;i++)n.push(t.pieces_[i]);else for(var a=t.split("/"),o=0;o<a.length;o++)a[o].length>0&&n.push(a[o]);return new lr(n,0)}function yr(e){return e.pieceNum_>=e.pieces_.length}function br(e,t){var n=dr(e),r=dr(t);if(null===n)return t;if(n===r)return br(hr(e),hr(t));throw new Error("INTERNAL ERROR: innerPath ("+t+") is not within outerPath ("+e+")")}function _r(e,t){for(var n=vr(e,0),r=vr(t,0),i=0;i<n.length&&i<r.length;i++){var a=En(n[i],r[i]);if(0!==a)return a}return n.length===r.length?0:n.length<r.length?-1:1}function kr(e,t){if(fr(e)!==fr(t))return!1;for(var n=e.pieceNum_,r=t.pieceNum_;n<=e.pieces_.length;n++,r++)if(e.pieces_[n]!==t.pieces_[r])return!1;return!0}function wr(e,t){var n=e.pieceNum_,r=t.pieceNum_;if(fr(e)>fr(t))return!1;for(;n<e.pieces_.length;){if(e.pieces_[n]!==t.pieces_[r])return!1;++n,++r}return!0}var xr=w((function e(t,n){_(this,e),this.errorPrefix_=n,this.parts_=vr(t,0),this.byteLength_=Math.max(1,this.parts_.length);for(var r=0;r<this.parts_.length;r++)this.byteLength_+=Ee(this.parts_[r]);Ir(this)}));function Ir(e){if(e.byteLength_>768)throw new Error(e.errorPrefix_+"has a key path longer than 768 bytes ("+e.byteLength_+").");if(e.parts_.length>32)throw new Error(e.errorPrefix_+"path specified exceeds the maximum depth that can be written (32) or object contains a cycle "+Er(e))}function Er(e){return 0===e.parts_.length?"":"in property '"+e.parts_.join(".")+"'"}var Sr=function(e){S(n,e);var t=N(n);function n(){var e,r,i;return _(this,n),e=t.call(this,["visible"]),"undefined"!==typeof document&&"undefined"!==typeof document.addEventListener&&("undefined"!==typeof document.hidden?(i="visibilitychange",r="hidden"):"undefined"!==typeof document.mozHidden?(i="mozvisibilitychange",r="mozHidden"):"undefined"!==typeof document.msHidden?(i="msvisibilitychange",r="msHidden"):"undefined"!==typeof document.webkitHidden&&(i="webkitvisibilitychange",r="webkitHidden")),e.visible_=!0,i&&document.addEventListener(i,(function(){var t=!document[r];t!==e.visible_&&(e.visible_=t,e.trigger("visible",t))}),!1),e}return w(n,[{key:"getInitialEvent",value:function(e){return M("visible"===e,"Unknown event type: "+e),[this.visible_]}}],[{key:"getInstance",value:function(){return new n}}]),n}(ur),Cr=1e3,Tr=function(e){S(n,e);var t=N(n);function n(e,r,i,a,o,u,s,l){var c;if(_(this,n),(c=t.call(this)).repoInfo_=e,c.applicationId_=r,c.onDataUpdate_=i,c.onConnectStatus_=a,c.onServerInfoUpdate_=o,c.authTokenProvider_=u,c.appCheckTokenProvider_=s,c.authOverride_=l,c.id=n.nextPersistentConnectionId_++,c.log_=yn("p:"+c.id+":"),c.interruptReasons_={},c.listens=new Map,c.outstandingPuts_=[],c.outstandingGets_=[],c.outstandingPutCount_=0,c.outstandingGetCount_=0,c.onDisconnectRequestQueue_=[],c.connected_=!1,c.reconnectDelay_=Cr,c.maxReconnectDelay_=3e5,c.securityDebugCallback_=null,c.lastSessionId=null,c.establishConnectionTimer_=null,c.visible_=!1,c.requestCBHash_={},c.requestNumber_=0,c.realtime_=null,c.authToken_=null,c.appCheckToken_=null,c.forceTokenRefresh_=!1,c.invalidAuthTokenCount_=0,c.invalidAppCheckTokenCount_=0,c.firstConnection_=!0,c.lastConnectionAttemptTime_=null,c.lastConnectionEstablishedTime_=null,l&&!Q())throw new Error("Auth override specified in options, but not supported on non Node.js platforms");return Sr.getInstance().on("visible",c.onVisible_,I(c)),-1===e.host.indexOf("fblocal")&&sr.getInstance().on("online",c.onOnline_,I(c)),c}return w(n,[{key:"sendRequest",value:function(e,t,n){var r=++this.requestNumber_,i={r:r,a:e,b:t};this.log_(le(i)),M(this.connected_,"sendRequest call when we're not connected not allowed."),this.realtime_.sendRequest(i),n&&(this.requestCBHash_[r]=n)}},{key:"get",value:function(e){this.initConnection_();var t=new ne,n={action:"g",request:{p:e._path.toString(),q:e._queryObject},onComplete:function(e){var n=e.d;"ok"===e.s?t.resolve(n):t.reject(n)}};this.outstandingGets_.push(n),this.outstandingGetCount_++;var r=this.outstandingGets_.length-1;return this.connected_&&this.sendGet_(r),t.promise}},{key:"listen",value:function(e,t,n,r){this.initConnection_();var i=e._queryIdentifier,a=e._path.toString();this.log_("Listen called for "+a+" "+i),this.listens.has(a)||this.listens.set(a,new Map),M(e._queryParams.isDefault()||!e._queryParams.loadsAllData(),"listen() called for non-default but complete query"),M(!this.listens.get(a).has(i),"listen() called twice for same path/queryId.");var o={onComplete:r,hashFn:t,query:e,tag:n};this.listens.get(a).set(i,o),this.connected_&&this.sendListen_(o)}},{key:"sendGet_",value:function(e){var t=this,n=this.outstandingGets_[e];this.sendRequest("g",n.request,(function(r){delete t.outstandingGets_[e],t.outstandingGetCount_--,0===t.outstandingGetCount_&&(t.outstandingGets_=[]),n.onComplete&&n.onComplete(r)}))}},{key:"sendListen_",value:function(e){var t=this,r=e.query,i=r._path.toString(),a=r._queryIdentifier;this.log_("Listen on "+i+" for "+a);var o={p:i};e.tag&&(o.q=r._queryObject,o.t=e.tag),o.h=e.hashFn(),this.sendRequest("q",o,(function(o){var u=o.d,s=o.s;n.warnOnListenWarnings_(u,r),(t.listens.get(i)&&t.listens.get(i).get(a))===e&&(t.log_("listen response",o),"ok"!==s&&t.removeListen_(i,a),e.onComplete&&e.onComplete(s,u))}))}},{key:"refreshAuthToken",value:function(e){this.authToken_=e,this.log_("Auth token refreshed"),this.authToken_?this.tryAuth():this.connected_&&this.sendRequest("unauth",{},(function(){})),this.reduceReconnectDelayIfAdminCredential_(e)}},{key:"reduceReconnectDelayIfAdminCredential_",value:function(e){(e&&40===e.length||function(e){var t=ce(e).claims;return"object"===typeof t&&!0===t.admin}(e))&&(this.log_("Admin auth credential detected.  Reducing max reconnect time."),this.maxReconnectDelay_=3e4)}},{key:"refreshAppCheckToken",value:function(e){this.appCheckToken_=e,this.log_("App check token refreshed"),this.appCheckToken_?this.tryAppCheck():this.connected_&&this.sendRequest("unappeck",{},(function(){}))}},{key:"tryAuth",value:function(){var e=this;if(this.connected_&&this.authToken_){var t=this.authToken_,n=function(e){var t=ce(e).claims;return!!t&&"object"===typeof t&&t.hasOwnProperty("iat")}(t)?"auth":"gauth",r={cred:t};null===this.authOverride_?r.noauth=!0:"object"===typeof this.authOverride_&&(r.authvar=this.authOverride_),this.sendRequest(n,r,(function(n){var r=n.s,i=n.d||"error";e.authToken_===t&&("ok"===r?e.invalidAuthTokenCount_=0:e.onAuthRevoked_(r,i))}))}}},{key:"tryAppCheck",value:function(){var e=this;this.connected_&&this.appCheckToken_&&this.sendRequest("appcheck",{token:this.appCheckToken_},(function(t){var n=t.s,r=t.d||"error";"ok"===n?e.invalidAppCheckTokenCount_=0:e.onAppCheckRevoked_(n,r)}))}},{key:"unlisten",value:function(e,t){var n=e._path.toString(),r=e._queryIdentifier;this.log_("Unlisten called for "+n+" "+r),M(e._queryParams.isDefault()||!e._queryParams.loadsAllData(),"unlisten() called for non-default but complete query"),this.removeListen_(n,r)&&this.connected_&&this.sendUnlisten_(n,r,e._queryObject,t)}},{key:"sendUnlisten_",value:function(e,t,n,r){this.log_("Unlisten on "+e+" for "+t);var i={p:e};r&&(i.q=n,i.t=r),this.sendRequest("n",i)}},{key:"onDisconnectPut",value:function(e,t,n){this.initConnection_(),this.connected_?this.sendOnDisconnect_("o",e,t,n):this.onDisconnectRequestQueue_.push({pathString:e,action:"o",data:t,onComplete:n})}},{key:"onDisconnectMerge",value:function(e,t,n){this.initConnection_(),this.connected_?this.sendOnDisconnect_("om",e,t,n):this.onDisconnectRequestQueue_.push({pathString:e,action:"om",data:t,onComplete:n})}},{key:"onDisconnectCancel",value:function(e,t){this.initConnection_(),this.connected_?this.sendOnDisconnect_("oc",e,null,t):this.onDisconnectRequestQueue_.push({pathString:e,action:"oc",data:null,onComplete:t})}},{key:"sendOnDisconnect_",value:function(e,t,n,r){var i={p:t,d:n};this.log_("onDisconnect "+e,i),this.sendRequest(e,i,(function(e){r&&setTimeout((function(){r(e.s,e.d)}),Math.floor(0))}))}},{key:"put",value:function(e,t,n,r){this.putInternal("p",e,t,n,r)}},{key:"merge",value:function(e,t,n,r){this.putInternal("m",e,t,n,r)}},{key:"putInternal",value:function(e,t,n,r,i){this.initConnection_();var a={p:t,d:n};void 0!==i&&(a.h=i),this.outstandingPuts_.push({action:e,request:a,onComplete:r}),this.outstandingPutCount_++;var o=this.outstandingPuts_.length-1;this.connected_?this.sendPut_(o):this.log_("Buffering put: "+t)}},{key:"sendPut_",value:function(e){var t=this,n=this.outstandingPuts_[e].action,r=this.outstandingPuts_[e].request,i=this.outstandingPuts_[e].onComplete;this.outstandingPuts_[e].queued=this.connected_,this.sendRequest(n,r,(function(r){t.log_(n+" response",r),delete t.outstandingPuts_[e],t.outstandingPutCount_--,0===t.outstandingPutCount_&&(t.outstandingPuts_=[]),i&&i(r.s,r.d)}))}},{key:"reportStats",value:function(e){var t=this;if(this.connected_){var n={c:e};this.log_("reportStats",n),this.sendRequest("s",n,(function(e){if("ok"!==e.s){var n=e.d;t.log_("reportStats","Error sending stats: "+n)}}))}}},{key:"onDataMessage_",value:function(e){if("r"in e){this.log_("from server: "+le(e));var t=e.r,n=this.requestCBHash_[t];n&&(delete this.requestCBHash_[t],n(e.b))}else{if("error"in e)throw"A server-side error has occurred: "+e.error;"a"in e&&this.onDataPush_(e.a,e.b)}}},{key:"onDataPush_",value:function(e,t){this.log_("handleServerMessage",e,t),"d"===e?this.onDataUpdate_(t.p,t.d,!1,t.t):"m"===e?this.onDataUpdate_(t.p,t.d,!0,t.t):"c"===e?this.onListenRevoked_(t.p,t.q):"ac"===e?this.onAuthRevoked_(t.s,t.d):"apc"===e?this.onAppCheckRevoked_(t.s,t.d):"sd"===e?this.onSecurityDebugPacket_(t):bn("Unrecognized action received from server: "+le(e)+"\nAre you using the latest client?")}},{key:"onReady_",value:function(e,t){this.log_("connection ready"),this.connected_=!0,this.lastConnectionEstablishedTime_=(new Date).getTime(),this.handleTimestamp_(e),this.lastSessionId=t,this.firstConnection_&&this.sendConnectStats_(),this.restoreState_(),this.firstConnection_=!1,this.onConnectStatus_(!0)}},{key:"scheduleConnect_",value:function(e){var t=this;M(!this.realtime_,"Scheduling a connect when we're already connected/ing?"),this.establishConnectionTimer_&&clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=setTimeout((function(){t.establishConnectionTimer_=null,t.establishConnection_()}),Math.floor(e))}},{key:"initConnection_",value:function(){!this.realtime_&&this.firstConnection_&&this.scheduleConnect_(0)}},{key:"onVisible_",value:function(e){e&&!this.visible_&&this.reconnectDelay_===this.maxReconnectDelay_&&(this.log_("Window became visible.  Reducing delay."),this.reconnectDelay_=Cr,this.realtime_||this.scheduleConnect_(0)),this.visible_=e}},{key:"onOnline_",value:function(e){e?(this.log_("Browser went online."),this.reconnectDelay_=Cr,this.realtime_||this.scheduleConnect_(0)):(this.log_("Browser went offline.  Killing connection."),this.realtime_&&this.realtime_.close())}},{key:"onRealtimeDisconnect_",value:function(){if(this.log_("data client disconnected"),this.connected_=!1,this.realtime_=null,this.cancelSentTransactions_(),this.requestCBHash_={},this.shouldReconnect_()){if(this.visible_){if(this.lastConnectionEstablishedTime_){(new Date).getTime()-this.lastConnectionEstablishedTime_>3e4&&(this.reconnectDelay_=Cr),this.lastConnectionEstablishedTime_=null}}else this.log_("Window isn't visible.  Delaying reconnect."),this.reconnectDelay_=this.maxReconnectDelay_,this.lastConnectionAttemptTime_=(new Date).getTime();var e=(new Date).getTime()-this.lastConnectionAttemptTime_,t=Math.max(0,this.reconnectDelay_-e);t=Math.random()*t,this.log_("Trying to reconnect in "+t+"ms"),this.scheduleConnect_(t),this.reconnectDelay_=Math.min(this.maxReconnectDelay_,1.3*this.reconnectDelay_)}this.onConnectStatus_(!1)}},{key:"establishConnection_",value:function(){var e=y(m().mark((function e(){var t,r,i,a,o,u,s,c,d,f,h,p,v,g,y=this;return m().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.shouldReconnect_()){e.next=30;break}return this.log_("Making a connection attempt"),this.lastConnectionAttemptTime_=(new Date).getTime(),this.lastConnectionEstablishedTime_=null,t=this.onDataMessage_.bind(this),r=this.onReady_.bind(this),i=this.onRealtimeDisconnect_.bind(this),a=this.id+":"+n.nextConnectionId_++,o=this.lastSessionId,u=!1,s=null,c=function(){s?s.close():(u=!0,i())},d=function(e){M(s,"sendRequest call when we're not connected not allowed."),s.sendRequest(e)},this.realtime_={close:c,sendRequest:d},f=this.forceTokenRefresh_,this.forceTokenRefresh_=!1,e.prev=16,e.next=19,Promise.all([this.authTokenProvider_.getToken(f),this.appCheckTokenProvider_.getToken(f)]);case 19:h=e.sent,p=l(h,2),v=p[0],g=p[1],u?gn("getToken() completed but was canceled"):(gn("getToken() completed. Creating connection."),this.authToken_=v&&v.accessToken,this.appCheckToken_=g&&g.token,s=new ar(a,this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,t,r,i,(function(e){kn(e+" ("+y.repoInfo_.toString()+")"),y.interrupt("server_kill")}),o)),e.next=30;break;case 26:e.prev=26,e.t0=e.catch(16),this.log_("Failed to get token: "+e.t0),u||(this.repoInfo_.nodeAdmin&&kn(e.t0),c());case 30:case"end":return e.stop()}}),e,this,[[16,26]])})));return function(){return e.apply(this,arguments)}}()},{key:"interrupt",value:function(e){gn("Interrupting connection for reason: "+e),this.interruptReasons_[e]=!0,this.realtime_?this.realtime_.close():(this.establishConnectionTimer_&&(clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=null),this.connected_&&this.onRealtimeDisconnect_())}},{key:"resume",value:function(e){gn("Resuming connection for reason: "+e),delete this.interruptReasons_[e],he(this.interruptReasons_)&&(this.reconnectDelay_=Cr,this.realtime_||this.scheduleConnect_(0))}},{key:"handleTimestamp_",value:function(e){var t=e-(new Date).getTime();this.onServerInfoUpdate_({serverTimeOffset:t})}},{key:"cancelSentTransactions_",value:function(){for(var e=0;e<this.outstandingPuts_.length;e++){var t=this.outstandingPuts_[e];t&&"h"in t.request&&t.queued&&(t.onComplete&&t.onComplete("disconnect"),delete this.outstandingPuts_[e],this.outstandingPutCount_--)}0===this.outstandingPutCount_&&(this.outstandingPuts_=[])}},{key:"onListenRevoked_",value:function(e,t){var n;n=t?t.map((function(e){return Tn(e)})).join("$"):"default";var r=this.removeListen_(e,n);r&&r.onComplete&&r.onComplete("permission_denied")}},{key:"removeListen_",value:function(e,t){var n,r=new lr(e).toString();if(this.listens.has(r)){var i=this.listens.get(r);n=i.get(t),i.delete(t),0===i.size&&this.listens.delete(r)}else n=void 0;return n}},{key:"onAuthRevoked_",value:function(e,t){gn("Auth token revoked: "+e+"/"+t),this.authToken_=null,this.forceTokenRefresh_=!0,this.realtime_.close(),"invalid_token"!==e&&"permission_denied"!==e||(this.invalidAuthTokenCount_++,this.invalidAuthTokenCount_>=3&&(this.reconnectDelay_=3e4,this.authTokenProvider_.notifyForInvalidToken()))}},{key:"onAppCheckRevoked_",value:function(e,t){gn("App check token revoked: "+e+"/"+t),this.appCheckToken_=null,this.forceTokenRefresh_=!0,"invalid_token"!==e&&"permission_denied"!==e||(this.invalidAppCheckTokenCount_++,this.invalidAppCheckTokenCount_>=3&&this.appCheckTokenProvider_.notifyForInvalidToken())}},{key:"onSecurityDebugPacket_",value:function(e){this.securityDebugCallback_?this.securityDebugCallback_(e):"msg"in e&&console.log("FIREBASE: "+e.msg.replace("\n","\nFIREBASE: "))}},{key:"restoreState_",value:function(){this.tryAuth(),this.tryAppCheck();var e,t=x(this.listens.values());try{for(t.s();!(e=t.n()).done;){var n,r=x(e.value.values());try{for(r.s();!(n=r.n()).done;){var i=n.value;this.sendListen_(i)}}catch(s){r.e(s)}finally{r.f()}}}catch(s){t.e(s)}finally{t.f()}for(var a=0;a<this.outstandingPuts_.length;a++)this.outstandingPuts_[a]&&this.sendPut_(a);for(;this.onDisconnectRequestQueue_.length;){var o=this.onDisconnectRequestQueue_.shift();this.sendOnDisconnect_(o.action,o.pathString,o.data,o.onComplete)}for(var u=0;u<this.outstandingGets_.length;u++)this.outstandingGets_[u]&&this.sendGet_(u)}},{key:"sendConnectStats_",value:function(){var e={},t="js";Q()&&(t=this.repoInfo_.nodeAdmin?"admin_node":"node"),e["sdk."+t+"."+rn.replace(/\./g,"-")]=1,H()?e["framework.cordova"]=1:$()&&(e["framework.reactnative"]=1),this.reportStats(e)}},{key:"shouldReconnect_",value:function(){var e=sr.getInstance().currentlyOnline();return he(this.interruptReasons_)&&e}}],[{key:"warnOnListenWarnings_",value:function(e,t){if(e&&"object"===typeof e&&de(e,"w")){var n=fe(e,"w");if(Array.isArray(n)&&~n.indexOf("no_index")){var r='".indexOn": "'+t._queryParams.getIndex().toString()+'"',i=t._path.toString();kn("Using an unspecified index. Your data will be downloaded and "+"filtered on the client. Consider adding ".concat(r," at ")+"".concat(i," to your security rules for better performance."))}}}}]),n}(or);Tr.nextPersistentConnectionId_=0,Tr.nextConnectionId_=0;var Pr,Nr=function(){function e(t,n){_(this,e),this.name=t,this.node=n}return w(e,null,[{key:"Wrap",value:function(t,n){return new e(t,n)}}]),e}(),Rr=function(){function e(){_(this,e)}return w(e,[{key:"getCompare",value:function(){return this.compare.bind(this)}},{key:"indexedValueChanged",value:function(e,t){var n=new Nr(xn,e),r=new Nr(xn,t);return 0!==this.compare(n,r)}},{key:"minPost",value:function(){return Nr.MIN}}]),e}(),Dr=function(e){S(n,e);var t=N(n);function n(){return _(this,n),t.apply(this,arguments)}return w(n,[{key:"compare",value:function(e,t){return En(e.name,t.name)}},{key:"isDefinedOn",value:function(e){throw F("KeyIndex.isDefinedOn not expected to be called.")}},{key:"indexedValueChanged",value:function(e,t){return!1}},{key:"minPost",value:function(){return Nr.MIN}},{key:"maxPost",value:function(){return new Nr(In,Pr)}},{key:"makePost",value:function(e,t){return M("string"===typeof e,"KeyIndex indexValue must always be a string."),new Nr(e,Pr)}},{key:"toString",value:function(){return".key"}}],[{key:"__EMPTY_NODE",get:function(){return Pr},set:function(e){Pr=e}}]),n}(Rr),Ar=new Dr,Or=function(){function e(t,n,r,i){var a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null;_(this,e),this.isReverse_=i,this.resultGenerator_=a,this.nodeStack_=[];for(var o=1;!t.isEmpty();)if(o=n?r(t.key,n):1,i&&(o*=-1),o<0)t=this.isReverse_?t.left:t.right;else{if(0===o){this.nodeStack_.push(t);break}this.nodeStack_.push(t),t=this.isReverse_?t.right:t.left}}return w(e,[{key:"getNext",value:function(){if(0===this.nodeStack_.length)return null;var e,t=this.nodeStack_.pop();if(e=this.resultGenerator_?this.resultGenerator_(t.key,t.value):{key:t.key,value:t.value},this.isReverse_)for(t=t.left;!t.isEmpty();)this.nodeStack_.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack_.push(t),t=t.left;return e}},{key:"hasNext",value:function(){return this.nodeStack_.length>0}},{key:"peek",value:function(){if(0===this.nodeStack_.length)return null;var e=this.nodeStack_[this.nodeStack_.length-1];return this.resultGenerator_?this.resultGenerator_(e.key,e.value):{key:e.key,value:e.value}}}]),e}(),Lr=function(){function e(t,n,r,i,a){_(this,e),this.key=t,this.value=n,this.color=null!=r?r:e.RED,this.left=null!=i?i:Ur.EMPTY_NODE,this.right=null!=a?a:Ur.EMPTY_NODE}return w(e,[{key:"copy",value:function(t,n,r,i,a){return new e(null!=t?t:this.key,null!=n?n:this.value,null!=r?r:this.color,null!=i?i:this.left,null!=a?a:this.right)}},{key:"count",value:function(){return this.left.count()+1+this.right.count()}},{key:"isEmpty",value:function(){return!1}},{key:"inorderTraversal",value:function(e){return this.left.inorderTraversal(e)||!!e(this.key,this.value)||this.right.inorderTraversal(e)}},{key:"reverseTraversal",value:function(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}},{key:"min_",value:function(){return this.left.isEmpty()?this:this.left.min_()}},{key:"minKey",value:function(){return this.min_().key}},{key:"maxKey",value:function(){return this.right.isEmpty()?this.key:this.right.maxKey()}},{key:"insert",value:function(e,t,n){var r=this,i=n(e,r.key);return(r=i<0?r.copy(null,null,null,r.left.insert(e,t,n),null):0===i?r.copy(null,t,null,null,null):r.copy(null,null,null,null,r.right.insert(e,t,n))).fixUp_()}},{key:"removeMin_",value:function(){if(this.left.isEmpty())return Ur.EMPTY_NODE;var e=this;return e.left.isRed_()||e.left.left.isRed_()||(e=e.moveRedLeft_()),(e=e.copy(null,null,null,e.left.removeMin_(),null)).fixUp_()}},{key:"remove",value:function(e,t){var n,r;if(t(e,(n=this).key)<0)n.left.isEmpty()||n.left.isRed_()||n.left.left.isRed_()||(n=n.moveRedLeft_()),n=n.copy(null,null,null,n.left.remove(e,t),null);else{if(n.left.isRed_()&&(n=n.rotateRight_()),n.right.isEmpty()||n.right.isRed_()||n.right.left.isRed_()||(n=n.moveRedRight_()),0===t(e,n.key)){if(n.right.isEmpty())return Ur.EMPTY_NODE;r=n.right.min_(),n=n.copy(r.key,r.value,null,null,n.right.removeMin_())}n=n.copy(null,null,null,null,n.right.remove(e,t))}return n.fixUp_()}},{key:"isRed_",value:function(){return this.color}},{key:"fixUp_",value:function(){var e=this;return e.right.isRed_()&&!e.left.isRed_()&&(e=e.rotateLeft_()),e.left.isRed_()&&e.left.left.isRed_()&&(e=e.rotateRight_()),e.left.isRed_()&&e.right.isRed_()&&(e=e.colorFlip_()),e}},{key:"moveRedLeft_",value:function(){var e=this.colorFlip_();return e.right.left.isRed_()&&(e=(e=(e=e.copy(null,null,null,null,e.right.rotateRight_())).rotateLeft_()).colorFlip_()),e}},{key:"moveRedRight_",value:function(){var e=this.colorFlip_();return e.left.left.isRed_()&&(e=(e=e.rotateRight_()).colorFlip_()),e}},{key:"rotateLeft_",value:function(){var t=this.copy(null,null,e.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}},{key:"rotateRight_",value:function(){var t=this.copy(null,null,e.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}},{key:"colorFlip_",value:function(){var e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}},{key:"checkMaxDepth_",value:function(){var e=this.check_();return Math.pow(2,e)<=this.count()+1}},{key:"check_",value:function(){if(this.isRed_()&&this.left.isRed_())throw new Error("Red node has red child("+this.key+","+this.value+")");if(this.right.isRed_())throw new Error("Right child of ("+this.key+","+this.value+") is red");var e=this.left.check_();if(e!==this.right.check_())throw new Error("Black depths differ");return e+(this.isRed_()?0:1)}}]),e}();Lr.RED=!0,Lr.BLACK=!1;var Mr,Fr=function(){function e(){_(this,e)}return w(e,[{key:"copy",value:function(e,t,n,r,i){return this}},{key:"insert",value:function(e,t,n){return new Lr(e,t,null)}},{key:"remove",value:function(e,t){return this}},{key:"count",value:function(){return 0}},{key:"isEmpty",value:function(){return!0}},{key:"inorderTraversal",value:function(e){return!1}},{key:"reverseTraversal",value:function(e){return!1}},{key:"minKey",value:function(){return null}},{key:"maxKey",value:function(){return null}},{key:"check_",value:function(){return 0}},{key:"isRed_",value:function(){return!1}}]),e}(),Ur=function(){function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:e.EMPTY_NODE;_(this,e),this.comparator_=t,this.root_=n}return w(e,[{key:"insert",value:function(t,n){return new e(this.comparator_,this.root_.insert(t,n,this.comparator_).copy(null,null,Lr.BLACK,null,null))}},{key:"remove",value:function(t){return new e(this.comparator_,this.root_.remove(t,this.comparator_).copy(null,null,Lr.BLACK,null,null))}},{key:"get",value:function(e){for(var t,n=this.root_;!n.isEmpty();){if(0===(t=this.comparator_(e,n.key)))return n.value;t<0?n=n.left:t>0&&(n=n.right)}return null}},{key:"getPredecessorKey",value:function(e){for(var t,n=this.root_,r=null;!n.isEmpty();){if(0===(t=this.comparator_(e,n.key))){if(n.left.isEmpty())return r?r.key:null;for(n=n.left;!n.right.isEmpty();)n=n.right;return n.key}t<0?n=n.left:t>0&&(r=n,n=n.right)}throw new Error("Attempted to find predecessor key for a nonexistent key.  What gives?")}},{key:"isEmpty",value:function(){return this.root_.isEmpty()}},{key:"count",value:function(){return this.root_.count()}},{key:"minKey",value:function(){return this.root_.minKey()}},{key:"maxKey",value:function(){return this.root_.maxKey()}},{key:"inorderTraversal",value:function(e){return this.root_.inorderTraversal(e)}},{key:"reverseTraversal",value:function(e){return this.root_.reverseTraversal(e)}},{key:"getIterator",value:function(e){return new Or(this.root_,null,this.comparator_,!1,e)}},{key:"getIteratorFrom",value:function(e,t){return new Or(this.root_,e,this.comparator_,!1,t)}},{key:"getReverseIteratorFrom",value:function(e,t){return new Or(this.root_,e,this.comparator_,!0,t)}},{key:"getReverseIterator",value:function(e){return new Or(this.root_,null,this.comparator_,!0,e)}}]),e}();function jr(e,t){return En(e.name,t.name)}function Br(e,t){return En(e,t)}Ur.EMPTY_NODE=new Fr;var zr,Wr,qr,Vr=function(e){return"number"===typeof e?"number:"+Rn(e):"string:"+e},Hr=function(e){if(e.isLeafNode()){var t=e.val();M("string"===typeof t||"number"===typeof t||"object"===typeof t&&de(t,".sv"),"Priority must be a string or number.")}else M(e===Mr||e.isEmpty(),"priority of unexpected type.");M(e===Mr||e.getPriority().isEmpty(),"Priority nodes can't have a priority of their own.")},Gr=function(){function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:e.__childrenNodeConstructor.EMPTY_NODE;_(this,e),this.value_=t,this.priorityNode_=n,this.lazyHash_=null,M(void 0!==this.value_&&null!==this.value_,"LeafNode shouldn't be created with null/undefined value."),Hr(this.priorityNode_)}return w(e,[{key:"isLeafNode",value:function(){return!0}},{key:"getPriority",value:function(){return this.priorityNode_}},{key:"updatePriority",value:function(t){return new e(this.value_,t)}},{key:"getImmediateChild",value:function(t){return".priority"===t?this.priorityNode_:e.__childrenNodeConstructor.EMPTY_NODE}},{key:"getChild",value:function(t){return yr(t)?this:".priority"===dr(t)?this.priorityNode_:e.__childrenNodeConstructor.EMPTY_NODE}},{key:"hasChild",value:function(){return!1}},{key:"getPredecessorChildName",value:function(e,t){return null}},{key:"updateImmediateChild",value:function(t,n){return".priority"===t?this.updatePriority(n):n.isEmpty()&&".priority"!==t?this:e.__childrenNodeConstructor.EMPTY_NODE.updateImmediateChild(t,n).updatePriority(this.priorityNode_)}},{key:"updateChild",value:function(t,n){var r=dr(t);return null===r?n:n.isEmpty()&&".priority"!==r?this:(M(".priority"!==r||1===fr(t),".priority must be the last token in a path"),this.updateImmediateChild(r,e.__childrenNodeConstructor.EMPTY_NODE.updateChild(hr(t),n)))}},{key:"isEmpty",value:function(){return!1}},{key:"numChildren",value:function(){return 0}},{key:"forEachChild",value:function(e,t){return!1}},{key:"val",value:function(e){return e&&!this.getPriority().isEmpty()?{".value":this.getValue(),".priority":this.getPriority().val()}:this.getValue()}},{key:"hash",value:function(){if(null===this.lazyHash_){var e="";this.priorityNode_.isEmpty()||(e+="priority:"+Vr(this.priorityNode_.val())+":");var t=typeof this.value_;e+=t+":",e+="number"===t?Rn(this.value_):this.value_,this.lazyHash_=fn(e)}return this.lazyHash_}},{key:"getValue",value:function(){return this.value_}},{key:"compareTo",value:function(t){return t===e.__childrenNodeConstructor.EMPTY_NODE?1:t instanceof e.__childrenNodeConstructor?-1:(M(t.isLeafNode(),"Unknown node type"),this.compareToLeafNode_(t))}},{key:"compareToLeafNode_",value:function(t){var n=typeof t.value_,r=typeof this.value_,i=e.VALUE_TYPE_ORDER.indexOf(n),a=e.VALUE_TYPE_ORDER.indexOf(r);return M(i>=0,"Unknown leaf type: "+n),M(a>=0,"Unknown leaf type: "+r),i===a?"object"===r?0:this.value_<t.value_?-1:this.value_===t.value_?0:1:a-i}},{key:"withIndex",value:function(){return this}},{key:"isIndexed",value:function(){return!0}},{key:"equals",value:function(e){if(e===this)return!0;if(e.isLeafNode()){var t=e;return this.value_===t.value_&&this.priorityNode_.equals(t.priorityNode_)}return!1}}],[{key:"__childrenNodeConstructor",get:function(){return zr},set:function(e){zr=e}}]),e}();Gr.VALUE_TYPE_ORDER=["object","boolean","number","string"];var Kr,$r,Yr=function(e){S(n,e);var t=N(n);function n(){return _(this,n),t.apply(this,arguments)}return w(n,[{key:"compare",value:function(e,t){var n=e.node.getPriority(),r=t.node.getPriority(),i=n.compareTo(r);return 0===i?En(e.name,t.name):i}},{key:"isDefinedOn",value:function(e){return!e.getPriority().isEmpty()}},{key:"indexedValueChanged",value:function(e,t){return!e.getPriority().equals(t.getPriority())}},{key:"minPost",value:function(){return Nr.MIN}},{key:"maxPost",value:function(){return new Nr(In,new Gr("[PRIORITY-POST]",qr))}},{key:"makePost",value:function(e,t){var n=Wr(e);return new Nr(t,new Gr("[PRIORITY-POST]",n))}},{key:"toString",value:function(){return".priority"}}]),n}(Rr),Qr=new Yr,Jr=Math.log(2),Xr=function(){function e(t){_(this,e);var n;this.count=(n=t+1,parseInt(Math.log(n)/Jr,10)),this.current_=this.count-1;var r,i=(r=this.count,parseInt(Array(r+1).join("1"),2));this.bits_=t+1&i}return w(e,[{key:"nextBitIsOne",value:function(){var e=!(this.bits_&1<<this.current_);return this.current_--,e}}]),e}(),Zr=function(e,t,n,r){e.sort(t);var i=function t(r,i){var a,o,u=i-r;if(0===u)return null;if(1===u)return a=e[r],o=n?n(a):a,new Lr(o,a.node,Lr.BLACK,null,null);var s=parseInt(u/2,10)+r,l=t(r,s),c=t(s+1,i);return a=e[s],o=n?n(a):a,new Lr(o,a.node,Lr.BLACK,l,c)},a=function(t){for(var r=null,a=null,o=e.length,u=function(t,r){var a=o-t,u=o;o-=t;var l=i(a+1,u),c=e[a],d=n?n(c):c;s(new Lr(d,c.node,r,null,l))},s=function(e){r?(r.left=e,r=e):(a=e,r=e)},l=0;l<t.count;++l){var c=t.nextBitIsOne(),d=Math.pow(2,t.count-(l+1));c?u(d,Lr.BLACK):(u(d,Lr.BLACK),u(d,Lr.RED))}return a}(new Xr(e.length));return new Ur(r||t,a)},ei={},ti=function(){function e(t,n){_(this,e),this.indexes_=t,this.indexSet_=n}return w(e,[{key:"get",value:function(e){var t=fe(this.indexes_,e);if(!t)throw new Error("No index defined for "+e);return t instanceof Ur?t:null}},{key:"hasIndex",value:function(e){return de(this.indexSet_,e.toString())}},{key:"addIndex",value:function(t,n){M(t!==Ar,"KeyIndex always exists and isn't meant to be added to the IndexMap.");for(var r,i=[],a=!1,o=n.getIterator(Nr.Wrap),u=o.getNext();u;)a=a||t.isDefinedOn(u.node),i.push(u),u=o.getNext();r=a?Zr(i,t.getCompare()):ei;var s=t.toString(),l=Object.assign({},this.indexSet_);l[s]=t;var c=Object.assign({},this.indexes_);return c[s]=r,new e(c,l)}},{key:"addToIndexes",value:function(t,n){var r=this;return new e(pe(this.indexes_,(function(e,i){var a=fe(r.indexSet_,i);if(M(a,"Missing index implementation for "+i),e===ei){if(a.isDefinedOn(t.node)){for(var o=[],u=n.getIterator(Nr.Wrap),s=u.getNext();s;)s.name!==t.name&&o.push(s),s=u.getNext();return o.push(t),Zr(o,a.getCompare())}return ei}var l=n.get(t.name),c=e;return l&&(c=c.remove(new Nr(t.name,l))),c.insert(t,t.node)})),this.indexSet_)}},{key:"removeFromIndexes",value:function(t,n){return new e(pe(this.indexes_,(function(e){if(e===ei)return e;var r=n.get(t.name);return r?e.remove(new Nr(t.name,r)):e})),this.indexSet_)}}],[{key:"Default",get:function(){return M(ei&&Qr,"ChildrenNode.ts has not been loaded"),Kr=Kr||new e({".priority":ei},{".priority":Qr})}}]),e}(),ni=function(){function e(t,n,r){_(this,e),this.children_=t,this.priorityNode_=n,this.indexMap_=r,this.lazyHash_=null,this.priorityNode_&&Hr(this.priorityNode_),this.children_.isEmpty()&&M(!this.priorityNode_||this.priorityNode_.isEmpty(),"An empty node cannot have a priority")}return w(e,[{key:"isLeafNode",value:function(){return!1}},{key:"getPriority",value:function(){return this.priorityNode_||$r}},{key:"updatePriority",value:function(t){return this.children_.isEmpty()?this:new e(this.children_,t,this.indexMap_)}},{key:"getImmediateChild",value:function(e){if(".priority"===e)return this.getPriority();var t=this.children_.get(e);return null===t?$r:t}},{key:"getChild",value:function(e){var t=dr(e);return null===t?this:this.getImmediateChild(t).getChild(hr(e))}},{key:"hasChild",value:function(e){return null!==this.children_.get(e)}},{key:"updateImmediateChild",value:function(t,n){if(M(n,"We should always be passing snapshot nodes"),".priority"===t)return this.updatePriority(n);var r,i,a=new Nr(t,n);n.isEmpty()?(r=this.children_.remove(t),i=this.indexMap_.removeFromIndexes(a,this.children_)):(r=this.children_.insert(t,n),i=this.indexMap_.addToIndexes(a,this.children_));var o=r.isEmpty()?$r:this.priorityNode_;return new e(r,o,i)}},{key:"updateChild",value:function(e,t){var n=dr(e);if(null===n)return t;M(".priority"!==dr(e)||1===fr(e),".priority must be the last token in a path");var r=this.getImmediateChild(n).updateChild(hr(e),t);return this.updateImmediateChild(n,r)}},{key:"isEmpty",value:function(){return this.children_.isEmpty()}},{key:"numChildren",value:function(){return this.children_.count()}},{key:"val",value:function(t){if(this.isEmpty())return null;var n={},r=0,i=0,a=!0;if(this.forEachChild(Qr,(function(o,u){n[o]=u.val(t),r++,a&&e.INTEGER_REGEXP_.test(o)?i=Math.max(i,Number(o)):a=!1})),!t&&a&&i<2*r){var o=[];for(var u in n)o[u]=n[u];return o}return t&&!this.getPriority().isEmpty()&&(n[".priority"]=this.getPriority().val()),n}},{key:"hash",value:function(){if(null===this.lazyHash_){var e="";this.getPriority().isEmpty()||(e+="priority:"+Vr(this.getPriority().val())+":"),this.forEachChild(Qr,(function(t,n){var r=n.hash();""!==r&&(e+=":"+t+":"+r)})),this.lazyHash_=""===e?"":fn(e)}return this.lazyHash_}},{key:"getPredecessorChildName",value:function(e,t,n){var r=this.resolveIndex_(n);if(r){var i=r.getPredecessorKey(new Nr(e,t));return i?i.name:null}return this.children_.getPredecessorKey(e)}},{key:"getFirstChildName",value:function(e){var t=this.resolveIndex_(e);if(t){var n=t.minKey();return n&&n.name}return this.children_.minKey()}},{key:"getFirstChild",value:function(e){var t=this.getFirstChildName(e);return t?new Nr(t,this.children_.get(t)):null}},{key:"getLastChildName",value:function(e){var t=this.resolveIndex_(e);if(t){var n=t.maxKey();return n&&n.name}return this.children_.maxKey()}},{key:"getLastChild",value:function(e){var t=this.getLastChildName(e);return t?new Nr(t,this.children_.get(t)):null}},{key:"forEachChild",value:function(e,t){var n=this.resolveIndex_(e);return n?n.inorderTraversal((function(e){return t(e.name,e.node)})):this.children_.inorderTraversal(t)}},{key:"getIterator",value:function(e){return this.getIteratorFrom(e.minPost(),e)}},{key:"getIteratorFrom",value:function(e,t){var n=this.resolveIndex_(t);if(n)return n.getIteratorFrom(e,(function(e){return e}));for(var r=this.children_.getIteratorFrom(e.name,Nr.Wrap),i=r.peek();null!=i&&t.compare(i,e)<0;)r.getNext(),i=r.peek();return r}},{key:"getReverseIterator",value:function(e){return this.getReverseIteratorFrom(e.maxPost(),e)}},{key:"getReverseIteratorFrom",value:function(e,t){var n=this.resolveIndex_(t);if(n)return n.getReverseIteratorFrom(e,(function(e){return e}));for(var r=this.children_.getReverseIteratorFrom(e.name,Nr.Wrap),i=r.peek();null!=i&&t.compare(i,e)>0;)r.getNext(),i=r.peek();return r}},{key:"compareTo",value:function(e){return this.isEmpty()?e.isEmpty()?0:-1:e.isLeafNode()||e.isEmpty()?1:e===ri?-1:0}},{key:"withIndex",value:function(t){if(t===Ar||this.indexMap_.hasIndex(t))return this;var n=this.indexMap_.addIndex(t,this.children_);return new e(this.children_,this.priorityNode_,n)}},{key:"isIndexed",value:function(e){return e===Ar||this.indexMap_.hasIndex(e)}},{key:"equals",value:function(e){if(e===this)return!0;if(e.isLeafNode())return!1;var t=e;if(this.getPriority().equals(t.getPriority())){if(this.children_.count()===t.children_.count()){for(var n=this.getIterator(Qr),r=t.getIterator(Qr),i=n.getNext(),a=r.getNext();i&&a;){if(i.name!==a.name||!i.node.equals(a.node))return!1;i=n.getNext(),a=r.getNext()}return null===i&&null===a}return!1}return!1}},{key:"resolveIndex_",value:function(e){return e===Ar?null:this.indexMap_.get(e.toString())}}],[{key:"EMPTY_NODE",get:function(){return $r||($r=new e(new Ur(Br),null,ti.Default))}}]),e}();ni.INTEGER_REGEXP_=/^(0|[1-9]\d*)$/;var ri=new(function(e){S(n,e);var t=N(n);function n(){return _(this,n),t.call(this,new Ur(Br),ni.EMPTY_NODE,ti.Default)}return w(n,[{key:"compareTo",value:function(e){return e===this?0:1}},{key:"equals",value:function(e){return e===this}},{key:"getPriority",value:function(){return this}},{key:"getImmediateChild",value:function(e){return ni.EMPTY_NODE}},{key:"isEmpty",value:function(){return!1}}]),n}(ni));Object.defineProperties(Nr,{MIN:{value:new Nr(xn,ni.EMPTY_NODE)},MAX:{value:new Nr(In,ri)}}),Dr.__EMPTY_NODE=ni.EMPTY_NODE,Gr.__childrenNodeConstructor=ni,Mr=ri,function(e){qr=e}(ri);function ii(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;if(null===e)return ni.EMPTY_NODE;if("object"===typeof e&&".priority"in e&&(t=e[".priority"]),M(null===t||"string"===typeof t||"number"===typeof t||"object"===typeof t&&".sv"in t,"Invalid priority type found: "+typeof t),"object"===typeof e&&".value"in e&&null!==e[".value"]&&(e=e[".value"]),"object"!==typeof e||".sv"in e){var n=e;return new Gr(n,ii(t))}if(e instanceof Array){var r=ni.EMPTY_NODE;return Nn(e,(function(t,n){if(de(e,t)&&"."!==t.substring(0,1)){var i=ii(n);!i.isLeafNode()&&i.isEmpty()||(r=r.updateImmediateChild(t,i))}})),r.updatePriority(ii(t))}var i=[],a=!1,o=e;if(Nn(o,(function(e,t){if("."!==e.substring(0,1)){var n=ii(t);n.isEmpty()||(a=a||!n.getPriority().isEmpty(),i.push(new Nr(e,n)))}})),0===i.length)return ni.EMPTY_NODE;var u=Zr(i,jr,(function(e){return e.name}),Br);if(a){var s=Zr(i,Qr.getCompare());return new ni(u,ii(t),new ti({".priority":s},{".priority":Qr}))}return new ni(u,ii(t),ti.Default)}!function(e){Wr=e}(ii);var ai=function(e){S(n,e);var t=N(n);function n(e){var r;return _(this,n),(r=t.call(this)).indexPath_=e,M(!yr(e)&&".priority"!==dr(e),"Can't create PathIndex with empty path or .priority key"),r}return w(n,[{key:"extractChild",value:function(e){return e.getChild(this.indexPath_)}},{key:"isDefinedOn",value:function(e){return!e.getChild(this.indexPath_).isEmpty()}},{key:"compare",value:function(e,t){var n=this.extractChild(e.node),r=this.extractChild(t.node),i=n.compareTo(r);return 0===i?En(e.name,t.name):i}},{key:"makePost",value:function(e,t){var n=ii(e),r=ni.EMPTY_NODE.updateChild(this.indexPath_,n);return new Nr(t,r)}},{key:"maxPost",value:function(){var e=ni.EMPTY_NODE.updateChild(this.indexPath_,ri);return new Nr(In,e)}},{key:"toString",value:function(){return vr(this.indexPath_,0).join("/")}}]),n}(Rr),oi=function(e){S(n,e);var t=N(n);function n(){return _(this,n),t.apply(this,arguments)}return w(n,[{key:"compare",value:function(e,t){var n=e.node.compareTo(t.node);return 0===n?En(e.name,t.name):n}},{key:"isDefinedOn",value:function(e){return!0}},{key:"indexedValueChanged",value:function(e,t){return!e.equals(t)}},{key:"minPost",value:function(){return Nr.MIN}},{key:"maxPost",value:function(){return Nr.MAX}},{key:"makePost",value:function(e,t){var n=ii(e);return new Nr(t,n)}},{key:"toString",value:function(){return".value"}}]),n}(Rr),ui=new oi,si="-0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ_abcdefghijklmnopqrstuvwxyz",li=function(){var e=0,t=[];return function(n){var r,i=n===e;e=n;var a=new Array(8);for(r=7;r>=0;r--)a[r]=si.charAt(n%64),n=Math.floor(n/64);M(0===n,"Cannot push at time == 0");var o=a.join("");if(i){for(r=11;r>=0&&63===t[r];r--)t[r]=0;t[r]++}else for(r=0;r<12;r++)t[r]=Math.floor(64*Math.random());for(r=0;r<12;r++)o+=si.charAt(t[r]);return M(20===o.length,"nextPushId: Length should be 20."),o}}();function ci(e){return{type:"value",snapshotNode:e}}function di(e,t){return{type:"child_added",snapshotNode:t,childName:e}}function fi(e,t){return{type:"child_removed",snapshotNode:t,childName:e}}function hi(e,t,n){return{type:"child_changed",snapshotNode:t,childName:e,oldSnap:n}}var pi=function(){function e(t){_(this,e),this.index_=t}return w(e,[{key:"updateChild",value:function(e,t,n,r,i,a){M(e.isIndexed(this.index_),"A node must be indexed if only a child is updated");var o=e.getImmediateChild(t);return o.getChild(r).equals(n.getChild(r))&&o.isEmpty()===n.isEmpty()?e:(null!=a&&(n.isEmpty()?e.hasChild(t)?a.trackChildChange(fi(t,o)):M(e.isLeafNode(),"A child remove without an old child only makes sense on a leaf node"):o.isEmpty()?a.trackChildChange(di(t,n)):a.trackChildChange(hi(t,n,o))),e.isLeafNode()&&n.isEmpty()?e:e.updateImmediateChild(t,n).withIndex(this.index_))}},{key:"updateFullNode",value:function(e,t,n){return null!=n&&(e.isLeafNode()||e.forEachChild(Qr,(function(e,r){t.hasChild(e)||n.trackChildChange(fi(e,r))})),t.isLeafNode()||t.forEachChild(Qr,(function(t,r){if(e.hasChild(t)){var i=e.getImmediateChild(t);i.equals(r)||n.trackChildChange(hi(t,r,i))}else n.trackChildChange(di(t,r))}))),t.withIndex(this.index_)}},{key:"updatePriority",value:function(e,t){return e.isEmpty()?ni.EMPTY_NODE:e.updatePriority(t)}},{key:"filtersNodes",value:function(){return!1}},{key:"getIndexedFilter",value:function(){return this}},{key:"getIndex",value:function(){return this.index_}}]),e}(),vi=function(){function e(t){_(this,e),this.indexedFilter_=new pi(t.getIndex()),this.index_=t.getIndex(),this.startPost_=e.getStartPost_(t),this.endPost_=e.getEndPost_(t)}return w(e,[{key:"getStartPost",value:function(){return this.startPost_}},{key:"getEndPost",value:function(){return this.endPost_}},{key:"matches",value:function(e){return this.index_.compare(this.getStartPost(),e)<=0&&this.index_.compare(e,this.getEndPost())<=0}},{key:"updateChild",value:function(e,t,n,r,i,a){return this.matches(new Nr(t,n))||(n=ni.EMPTY_NODE),this.indexedFilter_.updateChild(e,t,n,r,i,a)}},{key:"updateFullNode",value:function(e,t,n){t.isLeafNode()&&(t=ni.EMPTY_NODE);var r=t.withIndex(this.index_);r=r.updatePriority(ni.EMPTY_NODE);var i=this;return t.forEachChild(Qr,(function(e,t){i.matches(new Nr(e,t))||(r=r.updateImmediateChild(e,ni.EMPTY_NODE))})),this.indexedFilter_.updateFullNode(e,r,n)}},{key:"updatePriority",value:function(e,t){return e}},{key:"filtersNodes",value:function(){return!0}},{key:"getIndexedFilter",value:function(){return this.indexedFilter_}},{key:"getIndex",value:function(){return this.index_}}],[{key:"getStartPost_",value:function(e){if(e.hasStart()){var t=e.getIndexStartName();return e.getIndex().makePost(e.getIndexStartValue(),t)}return e.getIndex().minPost()}},{key:"getEndPost_",value:function(e){if(e.hasEnd()){var t=e.getIndexEndName();return e.getIndex().makePost(e.getIndexEndValue(),t)}return e.getIndex().maxPost()}}]),e}(),mi=function(){function e(t){_(this,e),this.rangedFilter_=new vi(t),this.index_=t.getIndex(),this.limit_=t.getLimit(),this.reverse_=!t.isViewFromLeft()}return w(e,[{key:"updateChild",value:function(e,t,n,r,i,a){return this.rangedFilter_.matches(new Nr(t,n))||(n=ni.EMPTY_NODE),e.getImmediateChild(t).equals(n)?e:e.numChildren()<this.limit_?this.rangedFilter_.getIndexedFilter().updateChild(e,t,n,r,i,a):this.fullLimitUpdateChild_(e,t,n,i,a)}},{key:"updateFullNode",value:function(e,t,n){var r;if(t.isLeafNode()||t.isEmpty())r=ni.EMPTY_NODE.withIndex(this.index_);else if(2*this.limit_<t.numChildren()&&t.isIndexed(this.index_)){var i;r=ni.EMPTY_NODE.withIndex(this.index_),i=this.reverse_?t.getReverseIteratorFrom(this.rangedFilter_.getEndPost(),this.index_):t.getIteratorFrom(this.rangedFilter_.getStartPost(),this.index_);for(var a=0;i.hasNext()&&a<this.limit_;){var o=i.getNext();if(!(this.reverse_?this.index_.compare(this.rangedFilter_.getStartPost(),o)<=0:this.index_.compare(o,this.rangedFilter_.getEndPost())<=0))break;r=r.updateImmediateChild(o.name,o.node),a++}}else{var u,s,l,c;if(r=(r=t.withIndex(this.index_)).updatePriority(ni.EMPTY_NODE),this.reverse_){c=r.getReverseIterator(this.index_),u=this.rangedFilter_.getEndPost(),s=this.rangedFilter_.getStartPost();var d=this.index_.getCompare();l=function(e,t){return d(t,e)}}else c=r.getIterator(this.index_),u=this.rangedFilter_.getStartPost(),s=this.rangedFilter_.getEndPost(),l=this.index_.getCompare();for(var f=0,h=!1;c.hasNext();){var p=c.getNext();!h&&l(u,p)<=0&&(h=!0),h&&f<this.limit_&&l(p,s)<=0?f++:r=r.updateImmediateChild(p.name,ni.EMPTY_NODE)}}return this.rangedFilter_.getIndexedFilter().updateFullNode(e,r,n)}},{key:"updatePriority",value:function(e,t){return e}},{key:"filtersNodes",value:function(){return!0}},{key:"getIndexedFilter",value:function(){return this.rangedFilter_.getIndexedFilter()}},{key:"getIndex",value:function(){return this.index_}},{key:"fullLimitUpdateChild_",value:function(e,t,n,r,i){var a;if(this.reverse_){var o=this.index_.getCompare();a=function(e,t){return o(t,e)}}else a=this.index_.getCompare();var u=e;M(u.numChildren()===this.limit_,"");var s=new Nr(t,n),l=this.reverse_?u.getFirstChild(this.index_):u.getLastChild(this.index_),c=this.rangedFilter_.matches(s);if(u.hasChild(t)){for(var d=u.getImmediateChild(t),f=r.getChildAfterChild(this.index_,l,this.reverse_);null!=f&&(f.name===t||u.hasChild(f.name));)f=r.getChildAfterChild(this.index_,f,this.reverse_);var h=null==f?1:a(f,s);if(c&&!n.isEmpty()&&h>=0)return null!=i&&i.trackChildChange(hi(t,n,d)),u.updateImmediateChild(t,n);null!=i&&i.trackChildChange(fi(t,d));var p=u.updateImmediateChild(t,ni.EMPTY_NODE);return null!=f&&this.rangedFilter_.matches(f)?(null!=i&&i.trackChildChange(di(f.name,f.node)),p.updateImmediateChild(f.name,f.node)):p}return n.isEmpty()?e:c&&a(l,s)>=0?(null!=i&&(i.trackChildChange(fi(l.name,l.node)),i.trackChildChange(di(t,n))),u.updateImmediateChild(t,n).updateImmediateChild(l.name,ni.EMPTY_NODE)):e}}]),e}(),gi=function(){function e(){_(this,e),this.limitSet_=!1,this.startSet_=!1,this.startNameSet_=!1,this.startAfterSet_=!1,this.endSet_=!1,this.endNameSet_=!1,this.endBeforeSet_=!1,this.limit_=0,this.viewFrom_="",this.indexStartValue_=null,this.indexStartName_="",this.indexEndValue_=null,this.indexEndName_="",this.index_=Qr}return w(e,[{key:"hasStart",value:function(){return this.startSet_}},{key:"hasStartAfter",value:function(){return this.startAfterSet_}},{key:"hasEndBefore",value:function(){return this.endBeforeSet_}},{key:"isViewFromLeft",value:function(){return""===this.viewFrom_?this.startSet_:"l"===this.viewFrom_}},{key:"getIndexStartValue",value:function(){return M(this.startSet_,"Only valid if start has been set"),this.indexStartValue_}},{key:"getIndexStartName",value:function(){return M(this.startSet_,"Only valid if start has been set"),this.startNameSet_?this.indexStartName_:xn}},{key:"hasEnd",value:function(){return this.endSet_}},{key:"getIndexEndValue",value:function(){return M(this.endSet_,"Only valid if end has been set"),this.indexEndValue_}},{key:"getIndexEndName",value:function(){return M(this.endSet_,"Only valid if end has been set"),this.endNameSet_?this.indexEndName_:In}},{key:"hasLimit",value:function(){return this.limitSet_}},{key:"hasAnchoredLimit",value:function(){return this.limitSet_&&""!==this.viewFrom_}},{key:"getLimit",value:function(){return M(this.limitSet_,"Only valid if limit has been set"),this.limit_}},{key:"getIndex",value:function(){return this.index_}},{key:"loadsAllData",value:function(){return!(this.startSet_||this.endSet_||this.limitSet_)}},{key:"isDefault",value:function(){return this.loadsAllData()&&this.index_===Qr}},{key:"copy",value:function(){var t=new e;return t.limitSet_=this.limitSet_,t.limit_=this.limit_,t.startSet_=this.startSet_,t.indexStartValue_=this.indexStartValue_,t.startNameSet_=this.startNameSet_,t.indexStartName_=this.indexStartName_,t.endSet_=this.endSet_,t.indexEndValue_=this.indexEndValue_,t.endNameSet_=this.endNameSet_,t.indexEndName_=this.indexEndName_,t.index_=this.index_,t.viewFrom_=this.viewFrom_,t}}]),e}();function yi(e){var t,n={};return e.isDefault()||(e.index_===Qr?t="$priority":e.index_===ui?t="$value":e.index_===Ar?t="$key":(M(e.index_ instanceof ai,"Unrecognized index type!"),t=e.index_.toString()),n.orderBy=le(t),e.startSet_&&(n.startAt=le(e.indexStartValue_),e.startNameSet_&&(n.startAt+=","+le(e.indexStartName_))),e.endSet_&&(n.endAt=le(e.indexEndValue_),e.endNameSet_&&(n.endAt+=","+le(e.indexEndName_))),e.limitSet_&&(e.isViewFromLeft()?n.limitToFirst=e.limit_:n.limitToLast=e.limit_)),n}function bi(e){var t={};if(e.startSet_&&(t.sp=e.indexStartValue_,e.startNameSet_&&(t.sn=e.indexStartName_)),e.endSet_&&(t.ep=e.indexEndValue_,e.endNameSet_&&(t.en=e.indexEndName_)),e.limitSet_){t.l=e.limit_;var n=e.viewFrom_;""===n&&(n=e.isViewFromLeft()?"l":"r"),t.vf=n}return e.index_!==Qr&&(t.i=e.index_.toString()),t}var _i=function(e){S(n,e);var t=N(n);function n(e,r,i,a){var o;return _(this,n),(o=t.call(this)).repoInfo_=e,o.onDataUpdate_=r,o.authTokenProvider_=i,o.appCheckTokenProvider_=a,o.log_=yn("p:rest:"),o.listens_={},o}return w(n,[{key:"reportStats",value:function(e){throw new Error("Method not implemented.")}},{key:"listen",value:function(e,t,r,i){var a=this,o=e._path.toString();this.log_("Listen called for "+o+" "+e._queryIdentifier);var u=n.getListenId_(e,r),s={};this.listens_[u]=s;var l=yi(e._queryParams);this.restRequest_(o+".json",l,(function(e,t){var n=t;(404===e&&(n=null,e=null),null===e&&a.onDataUpdate_(o,n,!1,r),fe(a.listens_,u)===s)&&i(e?401===e?"permission_denied":"rest_error:"+e:"ok",null)}))}},{key:"unlisten",value:function(e,t){var r=n.getListenId_(e,t);delete this.listens_[r]}},{key:"get",value:function(e){var t=this,n=yi(e._queryParams),r=e._path.toString(),i=new ne;return this.restRequest_(r+".json",n,(function(e,n){var a=n;404===e&&(a=null,e=null),null===e?(t.onDataUpdate_(r,a,!1,null),i.resolve(a)):i.reject(new Error(a))})),i.promise}},{key:"refreshAuthToken",value:function(e){}},{key:"restRequest_",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=arguments.length>2?arguments[2]:void 0;return n.format="export",Promise.all([this.authTokenProvider_.getToken(!1),this.appCheckTokenProvider_.getToken(!1)]).then((function(i){var a=l(i,2),o=a[0],u=a[1];o&&o.accessToken&&(n.auth=o.accessToken),u&&u.token&&(n.ac=u.token);var s=(t.repoInfo_.secure?"https://":"http://")+t.repoInfo_.host+e+"?ns="+t.repoInfo_.namespace+ge(n);t.log_("Sending REST request for "+s);var c=new XMLHttpRequest;c.onreadystatechange=function(){if(r&&4===c.readyState){t.log_("REST Response for "+s+" received. status:",c.status,"response:",c.responseText);var e=null;if(c.status>=200&&c.status<300){try{e=se(c.responseText)}catch(n){kn("Failed to parse JSON response for "+s+": "+c.responseText)}r(null,e)}else 401!==c.status&&404!==c.status&&kn("Got unsuccessful REST response for "+s+" Status: "+c.status),r(c.status);r=null}},c.open("GET",s,!0),c.send()}))}}],[{key:"getListenId_",value:function(e,t){return void 0!==t?"tag$"+t:(M(e._queryParams.isDefault(),"should have a tag if it's not a default query."),e._path.toString())}}]),n}(or),ki=function(){function e(){_(this,e),this.rootNode_=ni.EMPTY_NODE}return w(e,[{key:"getNode",value:function(e){return this.rootNode_.getChild(e)}},{key:"updateSnapshot",value:function(e,t){this.rootNode_=this.rootNode_.updateChild(e,t)}}]),e}();function wi(){return{value:null,children:new Map}}function xi(e,t,n){if(yr(t))e.value=n,e.children.clear();else if(null!==e.value)e.value=e.value.updateChild(t,n);else{var r=dr(t);e.children.has(r)||e.children.set(r,wi()),xi(e.children.get(r),t=hr(t),n)}}function Ii(e,t,n){null!==e.value?n(t,e.value):function(e,t){e.children.forEach((function(e,n){t(n,e)}))}(e,(function(e,r){Ii(r,new lr(t.toString()+"/"+e),n)}))}var Ei,Si=function(){function e(t){_(this,e),this.collection_=t,this.last_=null}return w(e,[{key:"get",value:function(){var e=this.collection_.get(),t=Object.assign({},e);return this.last_&&Nn(this.last_,(function(e,n){t[e]=t[e]-n})),this.last_=e,t}}]),e}(),Ci=function(){function e(t,n){_(this,e),this.server_=n,this.statsToReport_={},this.statsListener_=new Si(t);var r=1e4+2e4*Math.random();Fn(this.reportStats_.bind(this),Math.floor(r))}return w(e,[{key:"reportStats_",value:function(){var e=this,t=this.statsListener_.get(),n={},r=!1;Nn(t,(function(t,i){i>0&&de(e.statsToReport_,t)&&(n[t]=i,r=!0)})),r&&this.server_.reportStats(n),Fn(this.reportStats_.bind(this),Math.floor(2*Math.random()*3e5))}}]),e}();function Ti(e){return{fromUser:!1,fromServer:!0,queryId:e,tagged:!0}}!function(e){e[e.OVERWRITE=0]="OVERWRITE",e[e.MERGE=1]="MERGE",e[e.ACK_USER_WRITE=2]="ACK_USER_WRITE",e[e.LISTEN_COMPLETE=3]="LISTEN_COMPLETE"}(Ei||(Ei={}));var Pi,Ni=function(){function e(t,n,r){_(this,e),this.path=t,this.affectedTree=n,this.revert=r,this.type=Ei.ACK_USER_WRITE,this.source={fromUser:!0,fromServer:!1,queryId:null,tagged:!1}}return w(e,[{key:"operationForChild",value:function(t){if(yr(this.path)){if(null!=this.affectedTree.value)return M(this.affectedTree.children.isEmpty(),"affectedTree should not have overlapping affected paths."),this;var n=this.affectedTree.subtree(new lr(t));return new e(cr(),n,this.revert)}return M(dr(this.path)===t,"operationForChild called for unrelated child."),new e(hr(this.path),this.affectedTree,this.revert)}}]),e}(),Ri=function(){function e(t,n){_(this,e),this.source=t,this.path=n,this.type=Ei.LISTEN_COMPLETE}return w(e,[{key:"operationForChild",value:function(t){return yr(this.path)?new e(this.source,cr()):new e(this.source,hr(this.path))}}]),e}(),Di=function(){function e(t,n,r){_(this,e),this.source=t,this.path=n,this.snap=r,this.type=Ei.OVERWRITE}return w(e,[{key:"operationForChild",value:function(t){return yr(this.path)?new e(this.source,cr(),this.snap.getImmediateChild(t)):new e(this.source,hr(this.path),this.snap)}}]),e}(),Ai=function(){function e(t,n,r){_(this,e),this.source=t,this.path=n,this.children=r,this.type=Ei.MERGE}return w(e,[{key:"operationForChild",value:function(t){if(yr(this.path)){var n=this.children.subtree(new lr(t));return n.isEmpty()?null:n.value?new Di(this.source,cr(),n.value):new e(this.source,cr(),n)}return M(dr(this.path)===t,"Can't get a merge for a child not on the path of the operation"),new e(this.source,hr(this.path),this.children)}},{key:"toString",value:function(){return"Operation("+this.path+": "+this.source.toString()+" merge: "+this.children.toString()+")"}}]),e}(),Oi=function(){function e(t,n,r){_(this,e),this.node_=t,this.fullyInitialized_=n,this.filtered_=r}return w(e,[{key:"isFullyInitialized",value:function(){return this.fullyInitialized_}},{key:"isFiltered",value:function(){return this.filtered_}},{key:"isCompleteForPath",value:function(e){if(yr(e))return this.isFullyInitialized()&&!this.filtered_;var t=dr(e);return this.isCompleteForChild(t)}},{key:"isCompleteForChild",value:function(e){return this.isFullyInitialized()&&!this.filtered_||this.node_.hasChild(e)}},{key:"getNode",value:function(){return this.node_}}]),e}(),Li=w((function e(t){_(this,e),this.query_=t,this.index_=this.query_._queryParams.getIndex()}));function Mi(e,t,n,r,i,a){var o=r.filter((function(e){return e.type===n}));o.sort((function(t,n){return function(e,t,n){if(null==t.childName||null==n.childName)throw F("Should only compare child_ events.");var r=new Nr(t.childName,t.snapshotNode),i=new Nr(n.childName,n.snapshotNode);return e.index_.compare(r,i)}(e,t,n)})),o.forEach((function(n){var r=function(e,t,n){return"value"===t.type||"child_removed"===t.type||(t.prevName=n.getPredecessorChildName(t.childName,t.snapshotNode,e.index_)),t}(e,n,a);i.forEach((function(i){i.respondsTo(n.type)&&t.push(i.createEvent(r,e.query_))}))}))}function Fi(e,t){return{eventCache:e,serverCache:t}}function Ui(e,t,n,r){return Fi(new Oi(t,n,r),e.serverCache)}function ji(e,t,n,r){return Fi(e.eventCache,new Oi(t,n,r))}function Bi(e){return e.eventCache.isFullyInitialized()?e.eventCache.getNode():null}function zi(e){return e.serverCache.isFullyInitialized()?e.serverCache.getNode():null}var Wi=function(){return Pi||(Pi=new Ur(Sn)),Pi},qi=function(){function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Wi();_(this,e),this.value=t,this.children=n}return w(e,[{key:"isEmpty",value:function(){return null===this.value&&this.children.isEmpty()}},{key:"findRootMostMatchingPathAndValue",value:function(e,t){if(null!=this.value&&t(this.value))return{path:cr(),value:this.value};if(yr(e))return null;var n=dr(e),r=this.children.get(n);if(null!==r){var i=r.findRootMostMatchingPathAndValue(hr(e),t);return null!=i?{path:gr(new lr(n),i.path),value:i.value}:null}return null}},{key:"findRootMostValueAndPath",value:function(e){return this.findRootMostMatchingPathAndValue(e,(function(){return!0}))}},{key:"subtree",value:function(t){if(yr(t))return this;var n=dr(t),r=this.children.get(n);return null!==r?r.subtree(hr(t)):new e(null)}},{key:"set",value:function(t,n){if(yr(t))return new e(n,this.children);var r=dr(t),i=(this.children.get(r)||new e(null)).set(hr(t),n),a=this.children.insert(r,i);return new e(this.value,a)}},{key:"remove",value:function(t){if(yr(t))return this.children.isEmpty()?new e(null):new e(null,this.children);var n=dr(t),r=this.children.get(n);if(r){var i,a=r.remove(hr(t));return i=a.isEmpty()?this.children.remove(n):this.children.insert(n,a),null===this.value&&i.isEmpty()?new e(null):new e(this.value,i)}return this}},{key:"get",value:function(e){if(yr(e))return this.value;var t=dr(e),n=this.children.get(t);return n?n.get(hr(e)):null}},{key:"setTree",value:function(t,n){if(yr(t))return n;var r,i=dr(t),a=(this.children.get(i)||new e(null)).setTree(hr(t),n);return r=a.isEmpty()?this.children.remove(i):this.children.insert(i,a),new e(this.value,r)}},{key:"fold",value:function(e){return this.fold_(cr(),e)}},{key:"fold_",value:function(e,t){var n={};return this.children.inorderTraversal((function(r,i){n[r]=i.fold_(gr(e,r),t)})),t(e,this.value,n)}},{key:"findOnPath",value:function(e,t){return this.findOnPath_(e,cr(),t)}},{key:"findOnPath_",value:function(e,t,n){var r=!!this.value&&n(t,this.value);if(r)return r;if(yr(e))return null;var i=dr(e),a=this.children.get(i);return a?a.findOnPath_(hr(e),gr(t,i),n):null}},{key:"foreachOnPath",value:function(e,t){return this.foreachOnPath_(e,cr(),t)}},{key:"foreachOnPath_",value:function(t,n,r){if(yr(t))return this;this.value&&r(n,this.value);var i=dr(t),a=this.children.get(i);return a?a.foreachOnPath_(hr(t),gr(n,i),r):new e(null)}},{key:"foreach",value:function(e){this.foreach_(cr(),e)}},{key:"foreach_",value:function(e,t){this.children.inorderTraversal((function(n,r){r.foreach_(gr(e,n),t)})),this.value&&t(e,this.value)}},{key:"foreachChild",value:function(e){this.children.inorderTraversal((function(t,n){n.value&&e(t,n.value)}))}}],[{key:"fromObject",value:function(t){var n=new e(null);return Nn(t,(function(e,t){n=n.set(new lr(e),t)})),n}}]),e}(),Vi=function(){function e(t){_(this,e),this.writeTree_=t}return w(e,null,[{key:"empty",value:function(){return new e(new qi(null))}}]),e}();function Hi(e,t,n){if(yr(t))return new Vi(new qi(n));var r=e.writeTree_.findRootMostValueAndPath(t);if(null!=r){var i=r.path,a=r.value,o=br(i,t);return a=a.updateChild(o,n),new Vi(e.writeTree_.set(i,a))}var u=new qi(n),s=e.writeTree_.setTree(t,u);return new Vi(s)}function Gi(e,t,n){var r=e;return Nn(n,(function(e,n){r=Hi(r,gr(t,e),n)})),r}function Ki(e,t){if(yr(t))return Vi.empty();var n=e.writeTree_.setTree(t,new qi(null));return new Vi(n)}function $i(e,t){return null!=Yi(e,t)}function Yi(e,t){var n=e.writeTree_.findRootMostValueAndPath(t);return null!=n?e.writeTree_.get(n.path).getChild(br(n.path,t)):null}function Qi(e){var t=[],n=e.writeTree_.value;return null!=n?n.isLeafNode()||n.forEachChild(Qr,(function(e,n){t.push(new Nr(e,n))})):e.writeTree_.children.inorderTraversal((function(e,n){null!=n.value&&t.push(new Nr(e,n.value))})),t}function Ji(e,t){if(yr(t))return e;var n=Yi(e,t);return new Vi(null!=n?new qi(n):e.writeTree_.subtree(t))}function Xi(e){return e.writeTree_.isEmpty()}function Zi(e,t){return ea(cr(),e.writeTree_,t)}function ea(e,t,n){if(null!=t.value)return n.updateChild(e,t.value);var r=null;return t.children.inorderTraversal((function(t,i){".priority"===t?(M(null!==i.value,"Priority writes must always be leaf nodes"),r=i.value):n=ea(gr(e,t),i,n)})),n.getChild(e).isEmpty()||null===r||(n=n.updateChild(gr(e,".priority"),r)),n}function ta(e,t){return va(t,e)}function na(e,t){for(var n=0;n<e.allWrites.length;n++){var r=e.allWrites[n];if(r.writeId===t)return r}return null}function ra(e,t){var n=e.allWrites.findIndex((function(e){return e.writeId===t}));M(n>=0,"removeWrite called with nonexistent writeId.");var r=e.allWrites[n];e.allWrites.splice(n,1);for(var i=r.visible,a=!1,o=e.allWrites.length-1;i&&o>=0;){var u=e.allWrites[o];u.visible&&(o>=n&&ia(u,r.path)?i=!1:wr(r.path,u.path)&&(a=!0)),o--}if(i){if(a)return function(e){e.visibleWrites=oa(e.allWrites,aa,cr()),e.allWrites.length>0?e.lastWriteId=e.allWrites[e.allWrites.length-1].writeId:e.lastWriteId=-1}(e),!0;r.snap?e.visibleWrites=Ki(e.visibleWrites,r.path):Nn(r.children,(function(t){e.visibleWrites=Ki(e.visibleWrites,gr(r.path,t))}));return!0}return!1}function ia(e,t){if(e.snap)return wr(e.path,t);for(var n in e.children)if(e.children.hasOwnProperty(n)&&wr(gr(e.path,n),t))return!0;return!1}function aa(e){return e.visible}function oa(e,t,n){for(var r=Vi.empty(),i=0;i<e.length;++i){var a=e[i];if(t(a)){var o=a.path,u=void 0;if(a.snap)wr(n,o)?r=Hi(r,u=br(n,o),a.snap):wr(o,n)&&(u=br(o,n),r=Hi(r,cr(),a.snap.getChild(u)));else{if(!a.children)throw F("WriteRecord should have .snap or .children");if(wr(n,o))r=Gi(r,u=br(n,o),a.children);else if(wr(o,n))if(yr(u=br(o,n)))r=Gi(r,cr(),a.children);else{var s=fe(a.children,dr(u));if(s){var l=s.getChild(hr(u));r=Hi(r,cr(),l)}}}}}return r}function ua(e,t,n,r,i){if(r||i){var a=Ji(e.visibleWrites,t);if(!i&&Xi(a))return n;if(i||null!=n||$i(a,cr())){return Zi(oa(e.allWrites,(function(e){return(e.visible||i)&&(!r||!~r.indexOf(e.writeId))&&(wr(e.path,t)||wr(t,e.path))}),t),n||ni.EMPTY_NODE)}return null}var o=Yi(e.visibleWrites,t);if(null!=o)return o;var u=Ji(e.visibleWrites,t);return Xi(u)?n:null!=n||$i(u,cr())?Zi(u,n||ni.EMPTY_NODE):null}function sa(e,t,n,r){return ua(e.writeTree,e.treePath,t,n,r)}function la(e,t){return function(e,t,n){var r=ni.EMPTY_NODE,i=Yi(e.visibleWrites,t);if(i)return i.isLeafNode()||i.forEachChild(Qr,(function(e,t){r=r.updateImmediateChild(e,t)})),r;if(n){var a=Ji(e.visibleWrites,t);return n.forEachChild(Qr,(function(e,t){var n=Zi(Ji(a,new lr(e)),t);r=r.updateImmediateChild(e,n)})),Qi(a).forEach((function(e){r=r.updateImmediateChild(e.name,e.node)})),r}return Qi(Ji(e.visibleWrites,t)).forEach((function(e){r=r.updateImmediateChild(e.name,e.node)})),r}(e.writeTree,e.treePath,t)}function ca(e,t,n,r){return function(e,t,n,r,i){M(r||i,"Either existingEventSnap or existingServerSnap must exist");var a=gr(t,n);if($i(e.visibleWrites,a))return null;var o=Ji(e.visibleWrites,a);return Xi(o)?i.getChild(n):Zi(o,i.getChild(n))}(e.writeTree,e.treePath,t,n,r)}function da(e,t){return function(e,t){return Yi(e.visibleWrites,t)}(e.writeTree,gr(e.treePath,t))}function fa(e,t,n,r,i,a){return function(e,t,n,r,i,a,o){var u,s=Ji(e.visibleWrites,t),l=Yi(s,cr());if(null!=l)u=l;else{if(null==n)return[];u=Zi(s,n)}if((u=u.withIndex(o)).isEmpty()||u.isLeafNode())return[];for(var c=[],d=o.getCompare(),f=a?u.getReverseIteratorFrom(r,o):u.getIteratorFrom(r,o),h=f.getNext();h&&c.length<i;)0!==d(h,r)&&c.push(h),h=f.getNext();return c}(e.writeTree,e.treePath,t,n,r,i,a)}function ha(e,t,n){return function(e,t,n,r){var i=gr(t,n),a=Yi(e.visibleWrites,i);return null!=a?a:r.isCompleteForChild(n)?Zi(Ji(e.visibleWrites,i),r.getNode().getImmediateChild(n)):null}(e.writeTree,e.treePath,t,n)}function pa(e,t){return va(gr(e.treePath,t),e.writeTree)}function va(e,t){return{treePath:e,writeTree:t}}var ma=function(){function e(){_(this,e),this.changeMap=new Map}return w(e,[{key:"trackChildChange",value:function(e){var t=e.type,n=e.childName;M("child_added"===t||"child_changed"===t||"child_removed"===t,"Only child changes supported for tracking"),M(".priority"!==n,"Only non-priority child changes can be tracked.");var r=this.changeMap.get(n);if(r){var i=r.type;if("child_added"===t&&"child_removed"===i)this.changeMap.set(n,hi(n,e.snapshotNode,r.snapshotNode));else if("child_removed"===t&&"child_added"===i)this.changeMap.delete(n);else if("child_removed"===t&&"child_changed"===i)this.changeMap.set(n,fi(n,r.oldSnap));else if("child_changed"===t&&"child_added"===i)this.changeMap.set(n,di(n,e.snapshotNode));else{if("child_changed"!==t||"child_changed"!==i)throw F("Illegal combination of changes: "+e+" occurred after "+r);this.changeMap.set(n,hi(n,e.snapshotNode,r.oldSnap))}}else this.changeMap.set(n,e)}},{key:"getChanges",value:function(){return Array.from(this.changeMap.values())}}]),e}(),ga=new(function(){function e(){_(this,e)}return w(e,[{key:"getCompleteChild",value:function(e){return null}},{key:"getChildAfterChild",value:function(e,t,n){return null}}]),e}()),ya=function(){function e(t,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;_(this,e),this.writes_=t,this.viewCache_=n,this.optCompleteServerCache_=r}return w(e,[{key:"getCompleteChild",value:function(e){var t=this.viewCache_.eventCache;if(t.isCompleteForChild(e))return t.getNode().getImmediateChild(e);var n=null!=this.optCompleteServerCache_?new Oi(this.optCompleteServerCache_,!0,!1):this.viewCache_.serverCache;return ha(this.writes_,e,n)}},{key:"getChildAfterChild",value:function(e,t,n){var r=null!=this.optCompleteServerCache_?this.optCompleteServerCache_:zi(this.viewCache_),i=fa(this.writes_,r,t,1,n,e);return 0===i.length?null:i[0]}}]),e}();function ba(e,t,n,r,i){var a,o,u=new ma;if(n.type===Ei.OVERWRITE){var s=n;s.source.fromUser?a=wa(e,t,s.path,s.snap,r,i,u):(M(s.source.fromServer,"Unknown source."),o=s.source.tagged||t.serverCache.isFiltered()&&!yr(s.path),a=ka(e,t,s.path,s.snap,r,i,o,u))}else if(n.type===Ei.MERGE){var l=n;l.source.fromUser?a=function(e,t,n,r,i,a,o){var u=t;return r.foreach((function(r,s){var l=gr(n,r);xa(t,dr(l))&&(u=wa(e,u,l,s,i,a,o))})),r.foreach((function(r,s){var l=gr(n,r);xa(t,dr(l))||(u=wa(e,u,l,s,i,a,o))})),u}(e,t,l.path,l.children,r,i,u):(M(l.source.fromServer,"Unknown source."),o=l.source.tagged||t.serverCache.isFiltered(),a=Ea(e,t,l.path,l.children,r,i,o,u))}else if(n.type===Ei.ACK_USER_WRITE){var c=n;a=c.revert?function(e,t,n,r,i,a){var o;if(null!=da(r,n))return t;var u,s=new ya(r,t,i),l=t.eventCache.getNode();if(yr(n)||".priority"===dr(n)){var c;if(t.serverCache.isFullyInitialized())c=sa(r,zi(t));else{var d=t.serverCache.getNode();M(d instanceof ni,"serverChildren would be complete if leaf node"),c=la(r,d)}u=e.filter.updateFullNode(l,c,a)}else{var f=dr(n),h=ha(r,f,t.serverCache);null==h&&t.serverCache.isCompleteForChild(f)&&(h=l.getImmediateChild(f)),(u=null!=h?e.filter.updateChild(l,f,h,hr(n),s,a):t.eventCache.getNode().hasChild(f)?e.filter.updateChild(l,f,ni.EMPTY_NODE,hr(n),s,a):l).isEmpty()&&t.serverCache.isFullyInitialized()&&(o=sa(r,zi(t))).isLeafNode()&&(u=e.filter.updateFullNode(u,o,a))}return o=t.serverCache.isFullyInitialized()||null!=da(r,cr()),Ui(t,u,o,e.filter.filtersNodes())}(e,t,c.path,r,i,u):function(e,t,n,r,i,a,o){if(null!=da(i,n))return t;var u=t.serverCache.isFiltered(),s=t.serverCache;if(null!=r.value){if(yr(n)&&s.isFullyInitialized()||s.isCompleteForPath(n))return ka(e,t,n,s.getNode().getChild(n),i,a,u,o);if(yr(n)){var l=new qi(null);return s.getNode().forEachChild(Ar,(function(e,t){l=l.set(new lr(e),t)})),Ea(e,t,n,l,i,a,u,o)}return t}var c=new qi(null);return r.foreach((function(e,t){var r=gr(n,e);s.isCompleteForPath(r)&&(c=c.set(e,s.getNode().getChild(r)))})),Ea(e,t,n,c,i,a,u,o)}(e,t,c.path,c.affectedTree,r,i,u)}else{if(n.type!==Ei.LISTEN_COMPLETE)throw F("Unknown operation type: "+n.type);a=function(e,t,n,r,i){var a=t.serverCache,o=ji(t,a.getNode(),a.isFullyInitialized()||yr(n),a.isFiltered());return _a(e,o,n,r,ga,i)}(e,t,n.path,r,u)}var d=u.getChanges();return function(e,t,n){var r=t.eventCache;if(r.isFullyInitialized()){var i=r.getNode().isLeafNode()||r.getNode().isEmpty(),a=Bi(e);(n.length>0||!e.eventCache.isFullyInitialized()||i&&!r.getNode().equals(a)||!r.getNode().getPriority().equals(a.getPriority()))&&n.push(ci(Bi(t)))}}(t,a,d),{viewCache:a,changes:d}}function _a(e,t,n,r,i,a){var o,u,s=t.eventCache;if(null!=da(r,n))return t;if(yr(n))if(M(t.serverCache.isFullyInitialized(),"If change path is empty, we must have complete server data"),t.serverCache.isFiltered()){var l=zi(t),c=la(r,l instanceof ni?l:ni.EMPTY_NODE);o=e.filter.updateFullNode(t.eventCache.getNode(),c,a)}else{var d=sa(r,zi(t));o=e.filter.updateFullNode(t.eventCache.getNode(),d,a)}else{var f=dr(n);if(".priority"===f){M(1===fr(n),"Can't have a priority with additional path components");var h=s.getNode(),p=ca(r,n,h,u=t.serverCache.getNode());o=null!=p?e.filter.updatePriority(h,p):s.getNode()}else{var v,m=hr(n);if(s.isCompleteForChild(f)){u=t.serverCache.getNode();var g=ca(r,n,s.getNode(),u);v=null!=g?s.getNode().getImmediateChild(f).updateChild(m,g):s.getNode().getImmediateChild(f)}else v=ha(r,f,t.serverCache);o=null!=v?e.filter.updateChild(s.getNode(),f,v,m,i,a):s.getNode()}}return Ui(t,o,s.isFullyInitialized()||yr(n),e.filter.filtersNodes())}function ka(e,t,n,r,i,a,o,u){var s,l=t.serverCache,c=o?e.filter:e.filter.getIndexedFilter();if(yr(n))s=c.updateFullNode(l.getNode(),r,null);else if(c.filtersNodes()&&!l.isFiltered()){var d=l.getNode().updateChild(n,r);s=c.updateFullNode(l.getNode(),d,null)}else{var f=dr(n);if(!l.isCompleteForPath(n)&&fr(n)>1)return t;var h=hr(n),p=l.getNode().getImmediateChild(f).updateChild(h,r);s=".priority"===f?c.updatePriority(l.getNode(),p):c.updateChild(l.getNode(),f,p,h,ga,null)}var v=ji(t,s,l.isFullyInitialized()||yr(n),c.filtersNodes());return _a(e,v,n,i,new ya(i,v,a),u)}function wa(e,t,n,r,i,a,o){var u,s,l=t.eventCache,c=new ya(i,t,a);if(yr(n))s=e.filter.updateFullNode(t.eventCache.getNode(),r,o),u=Ui(t,s,!0,e.filter.filtersNodes());else{var d=dr(n);if(".priority"===d)s=e.filter.updatePriority(t.eventCache.getNode(),r),u=Ui(t,s,l.isFullyInitialized(),l.isFiltered());else{var f,h=hr(n),p=l.getNode().getImmediateChild(d);if(yr(h))f=r;else{var v=c.getCompleteChild(d);f=null!=v?".priority"===pr(h)&&v.getChild(mr(h)).isEmpty()?v:v.updateChild(h,r):ni.EMPTY_NODE}if(p.equals(f))u=t;else u=Ui(t,e.filter.updateChild(l.getNode(),d,f,h,c,o),l.isFullyInitialized(),e.filter.filtersNodes())}}return u}function xa(e,t){return e.eventCache.isCompleteForChild(t)}function Ia(e,t,n){return n.foreach((function(e,n){t=t.updateChild(e,n)})),t}function Ea(e,t,n,r,i,a,o,u){if(t.serverCache.getNode().isEmpty()&&!t.serverCache.isFullyInitialized())return t;var s,l=t;s=yr(n)?r:new qi(null).setTree(n,r);var c=t.serverCache.getNode();return s.children.inorderTraversal((function(n,r){if(c.hasChild(n)){var s=Ia(0,t.serverCache.getNode().getImmediateChild(n),r);l=ka(e,l,new lr(n),s,i,a,o,u)}})),s.children.inorderTraversal((function(n,r){var s=!t.serverCache.isCompleteForChild(n)&&null===r.value;if(!c.hasChild(n)&&!s){var d=Ia(0,t.serverCache.getNode().getImmediateChild(n),r);l=ka(e,l,new lr(n),d,i,a,o,u)}})),l}var Sa,Ca=function(){function e(t,n){_(this,e),this.query_=t,this.eventRegistrations_=[];var r,i=this.query_._queryParams,a=new pi(i.getIndex()),o=(r=i).loadsAllData()?new pi(r.getIndex()):r.hasLimit()?new mi(r):new vi(r);this.processor_=function(e){return{filter:e}}(o);var u=n.serverCache,s=n.eventCache,l=a.updateFullNode(ni.EMPTY_NODE,u.getNode(),null),c=o.updateFullNode(ni.EMPTY_NODE,s.getNode(),null),d=new Oi(l,u.isFullyInitialized(),a.filtersNodes()),f=new Oi(c,s.isFullyInitialized(),o.filtersNodes());this.viewCache_=Fi(f,d),this.eventGenerator_=new Li(this.query_)}return w(e,[{key:"query",get:function(){return this.query_}}]),e}();function Ta(e,t){var n=zi(e.viewCache_);return n&&(e.query._queryParams.loadsAllData()||!yr(t)&&!n.getImmediateChild(dr(t)).isEmpty())?n.getChild(t):null}function Pa(e){return 0===e.eventRegistrations_.length}function Na(e,t,n){var r=[];if(n){M(null==t,"A cancel should cancel all event registrations.");var i=e.query._path;e.eventRegistrations_.forEach((function(e){var t=e.createCancelEvent(n,i);t&&r.push(t)}))}if(t){for(var a=[],o=0;o<e.eventRegistrations_.length;++o){var u=e.eventRegistrations_[o];if(u.matches(t)){if(t.hasAnyCallback()){a=a.concat(e.eventRegistrations_.slice(o+1));break}}else a.push(u)}e.eventRegistrations_=a}else e.eventRegistrations_=[];return r}function Ra(e,t,n,r){t.type===Ei.MERGE&&null!==t.source.queryId&&(M(zi(e.viewCache_),"We should always have a full cache before handling merges"),M(Bi(e.viewCache_),"Missing event cache, even though we have a server cache"));var i,a,o=e.viewCache_,u=ba(e.processor_,o,t,n,r);return i=e.processor_,a=u.viewCache,M(a.eventCache.getNode().isIndexed(i.filter.getIndex()),"Event snap not indexed"),M(a.serverCache.getNode().isIndexed(i.filter.getIndex()),"Server snap not indexed"),M(u.viewCache.serverCache.isFullyInitialized()||!o.serverCache.isFullyInitialized(),"Once a server snap is complete, it should never go back"),e.viewCache_=u.viewCache,Da(e,u.changes,u.viewCache.eventCache.getNode(),null)}function Da(e,t,n,r){var i=r?[r]:e.eventRegistrations_;return function(e,t,n,r){var i=[],a=[];return t.forEach((function(t){var n;"child_changed"===t.type&&e.index_.indexedValueChanged(t.oldSnap,t.snapshotNode)&&a.push((n=t.childName,{type:"child_moved",snapshotNode:t.snapshotNode,childName:n}))})),Mi(e,i,"child_removed",t,r,n),Mi(e,i,"child_added",t,r,n),Mi(e,i,"child_moved",a,r,n),Mi(e,i,"child_changed",t,r,n),Mi(e,i,"value",t,r,n),i}(e.eventGenerator_,t,n,i)}var Aa,Oa=w((function e(){_(this,e),this.views=new Map}));function La(e){return 0===e.views.size}function Ma(e,t,n,r){var i=t.source.queryId;if(null!==i){var a=e.views.get(i);return M(null!=a,"SyncTree gave us an op for an invalid query."),Ra(a,t,n,r)}var o,u=[],s=x(e.views.values());try{for(s.s();!(o=s.n()).done;){var l=o.value;u=u.concat(Ra(l,t,n,r))}}catch(c){s.e(c)}finally{s.f()}return u}function Fa(e,t,n,r,i){var a=t._queryIdentifier,o=e.views.get(a);if(!o){var u=sa(n,i?r:null),s=!1;u?s=!0:r instanceof ni?(u=la(n,r),s=!1):(u=ni.EMPTY_NODE,s=!1);var l=Fi(new Oi(u,s,!1),new Oi(r,i,!1));return new Ca(t,l)}return o}function Ua(e,t,n,r,i,a){var o=Fa(e,t,r,i,a);return e.views.has(t._queryIdentifier)||e.views.set(t._queryIdentifier,o),function(e,t){e.eventRegistrations_.push(t)}(o,n),function(e,t){var n=e.viewCache_.eventCache,r=[];return n.getNode().isLeafNode()||n.getNode().forEachChild(Qr,(function(e,t){r.push(di(e,t))})),n.isFullyInitialized()&&r.push(ci(n.getNode())),Da(e,r,n.getNode(),t)}(o,n)}function ja(e,t,n,r){var i=t._queryIdentifier,a=[],o=[],u=Va(e);if("default"===i){var s,c=x(e.views.entries());try{for(c.s();!(s=c.n()).done;){var d=l(s.value,2),f=d[0],h=d[1];o=o.concat(Na(h,n,r)),Pa(h)&&(e.views.delete(f),h.query._queryParams.loadsAllData()||a.push(h.query))}}catch(v){c.e(v)}finally{c.f()}}else{var p=e.views.get(i);p&&(o=o.concat(Na(p,n,r)),Pa(p)&&(e.views.delete(i),p.query._queryParams.loadsAllData()||a.push(p.query)))}return u&&!Va(e)&&a.push(new(M(Sa,"Reference.ts has not been loaded"),Sa)(t._repo,t._path)),{removed:a,events:o}}function Ba(e){var t,n=[],r=x(e.views.values());try{for(r.s();!(t=r.n()).done;){var i=t.value;i.query._queryParams.loadsAllData()||n.push(i)}}catch(a){r.e(a)}finally{r.f()}return n}function za(e,t){var n,r=null,i=x(e.views.values());try{for(i.s();!(n=i.n()).done;){var a=n.value;r=r||Ta(a,t)}}catch(o){i.e(o)}finally{i.f()}return r}function Wa(e,t){if(t._queryParams.loadsAllData())return Ha(e);var n=t._queryIdentifier;return e.views.get(n)}function qa(e,t){return null!=Wa(e,t)}function Va(e){return null!=Ha(e)}function Ha(e){var t,n=x(e.views.values());try{for(n.s();!(t=n.n()).done;){var r=t.value;if(r.query._queryParams.loadsAllData())return r}}catch(i){n.e(i)}finally{n.f()}return null}var Ga=1,Ka=w((function e(t){_(this,e),this.listenProvider_=t,this.syncPointTree_=new qi(null),this.pendingWriteTree_={visibleWrites:Vi.empty(),allWrites:[],lastWriteId:-1},this.tagToQueryMap=new Map,this.queryToTagMap=new Map}));function $a(e,t,n,r,i){return function(e,t,n,r,i){M(r>e.lastWriteId,"Stacking an older write on top of newer ones"),void 0===i&&(i=!0),e.allWrites.push({path:t,snap:n,writeId:r,visible:i}),i&&(e.visibleWrites=Hi(e.visibleWrites,t,n)),e.lastWriteId=r}(e.pendingWriteTree_,t,n,r,i),i?no(e,new Di({fromUser:!0,fromServer:!1,queryId:null,tagged:!1},t,n)):[]}function Ya(e,t,n,r){!function(e,t,n,r){M(r>e.lastWriteId,"Stacking an older merge on top of newer ones"),e.allWrites.push({path:t,children:n,writeId:r,visible:!0}),e.visibleWrites=Gi(e.visibleWrites,t,n),e.lastWriteId=r}(e.pendingWriteTree_,t,n,r);var i=qi.fromObject(n);return no(e,new Ai({fromUser:!0,fromServer:!1,queryId:null,tagged:!1},t,i))}function Qa(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=na(e.pendingWriteTree_,t),i=ra(e.pendingWriteTree_,t);if(i){var a=new qi(null);return null!=r.snap?a=a.set(cr(),!0):Nn(r.children,(function(e){a=a.set(new lr(e),!0)})),no(e,new Ni(r.path,a,n))}return[]}function Ja(e,t,n){return no(e,new Di({fromUser:!1,fromServer:!0,queryId:null,tagged:!1},t,n))}function Xa(e,t,n,r){var i=arguments.length>4&&void 0!==arguments[4]&&arguments[4],a=t._path,o=e.syncPointTree_.get(a),u=[];if(o&&("default"===t._queryIdentifier||qa(o,t))){var s=ja(o,t,n,r);La(o)&&(e.syncPointTree_=e.syncPointTree_.remove(a));var l=s.removed;if(u=s.events,!i){var c=-1!==l.findIndex((function(e){return e._queryParams.loadsAllData()})),d=e.syncPointTree_.findOnPath(a,(function(e,t){return Va(t)}));if(c&&!d){var f=e.syncPointTree_.subtree(a);if(!f.isEmpty())for(var h=fo(f),p=0;p<h.length;++p){var v=h[p],m=v.query,g=ao(e,v);e.listenProvider_.startListening(ho(m),oo(e,m),g.hashFn,g.onComplete)}}if(!d&&l.length>0&&!r)if(c){var y=null;e.listenProvider_.stopListening(ho(t),y)}else l.forEach((function(t){var n=e.queryToTagMap.get(uo(t));e.listenProvider_.stopListening(ho(t),n)}))}po(e,l)}return u}function Za(e,t,n,r){var i=so(e,r);if(null!=i){var a=lo(i),o=a.path,u=a.queryId,s=br(o,t);return co(e,o,new Di(Ti(u),s,n))}return[]}function eo(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]&&arguments[3],i=t._path,a=null,o=!1;e.syncPointTree_.foreachOnPath(i,(function(e,t){var n=br(e,i);a=a||za(t,n),o=o||Va(t)}));var u,s=e.syncPointTree_.get(i);if(s?(o=o||Va(s),a=a||za(s,cr())):(s=new Oa,e.syncPointTree_=e.syncPointTree_.set(i,s)),null!=a)u=!0;else{u=!1,a=ni.EMPTY_NODE;var l=e.syncPointTree_.subtree(i);l.foreachChild((function(e,t){var n=za(t,cr());n&&(a=a.updateImmediateChild(e,n))}))}var c=qa(s,t);if(!c&&!t._queryParams.loadsAllData()){var d=uo(t);M(!e.queryToTagMap.has(d),"View does not exist, but we have a tag");var f=vo();e.queryToTagMap.set(d,f),e.tagToQueryMap.set(f,d)}var h=ta(e.pendingWriteTree_,i),p=Ua(s,t,n,h,a,u);if(!c&&!o&&!r){var v=Wa(s,t);p=p.concat(mo(e,t,v))}return p}function to(e,t,n){var r=e.pendingWriteTree_,i=e.syncPointTree_.findOnPath(t,(function(e,n){var r=za(n,br(e,t));if(r)return r}));return ua(r,t,i,n,!0)}function no(e,t){return ro(t,e.syncPointTree_,null,ta(e.pendingWriteTree_,cr()))}function ro(e,t,n,r){if(yr(e.path))return io(e,t,n,r);var i=t.get(cr());null==n&&null!=i&&(n=za(i,cr()));var a=[],o=dr(e.path),u=e.operationForChild(o),s=t.children.get(o);if(s&&u){var l=n?n.getImmediateChild(o):null,c=pa(r,o);a=a.concat(ro(u,s,l,c))}return i&&(a=a.concat(Ma(i,e,r,n))),a}function io(e,t,n,r){var i=t.get(cr());null==n&&null!=i&&(n=za(i,cr()));var a=[];return t.children.inorderTraversal((function(t,i){var o=n?n.getImmediateChild(t):null,u=pa(r,t),s=e.operationForChild(t);s&&(a=a.concat(io(s,i,o,u)))})),i&&(a=a.concat(Ma(i,e,r,n))),a}function ao(e,t){var n=t.query,r=oo(e,n);return{hashFn:function(){var e=function(e){return e.viewCache_.serverCache.getNode()}(t)||ni.EMPTY_NODE;return e.hash()},onComplete:function(t){if("ok"===t)return r?function(e,t,n){var r=so(e,n);if(r){var i=lo(r),a=i.path,o=i.queryId,u=br(a,t);return co(e,a,new Ri(Ti(o),u))}return[]}(e,n._path,r):function(e,t){return no(e,new Ri({fromUser:!1,fromServer:!0,queryId:null,tagged:!1},t))}(e,n._path);var i=function(e,t){var n="Unknown Error";"too_big"===e?n="The data requested exceeds the maximum size that can be accessed with a single request.":"permission_denied"===e?n="Client doesn't have permission to access the desired data.":"unavailable"===e&&(n="The service is unavailable");var r=new Error(e+" at "+t._path.toString()+": "+n);return r.code=e.toUpperCase(),r}(t,n);return Xa(e,n,null,i)}}}function oo(e,t){var n=uo(t);return e.queryToTagMap.get(n)}function uo(e){return e._path.toString()+"$"+e._queryIdentifier}function so(e,t){return e.tagToQueryMap.get(t)}function lo(e){var t=e.indexOf("$");return M(-1!==t&&t<e.length-1,"Bad queryKey."),{queryId:e.substr(t+1),path:new lr(e.substr(0,t))}}function co(e,t,n){var r=e.syncPointTree_.get(t);return M(r,"Missing sync point for query tag that we're tracking"),Ma(r,n,ta(e.pendingWriteTree_,t),null)}function fo(e){return e.fold((function(e,t,n){if(t&&Va(t))return[Ha(t)];var r=[];return t&&(r=Ba(t)),Nn(n,(function(e,t){r=r.concat(t)})),r}))}function ho(e){return e._queryParams.loadsAllData()&&!e._queryParams.isDefault()?new(M(Aa,"Reference.ts has not been loaded"),Aa)(e._repo,e._path):e}function po(e,t){for(var n=0;n<t.length;++n){var r=t[n];if(!r._queryParams.loadsAllData()){var i=uo(r),a=e.queryToTagMap.get(i);e.queryToTagMap.delete(i),e.tagToQueryMap.delete(a)}}}function vo(){return Ga++}function mo(e,t,n){var r=t._path,i=oo(e,t),a=ao(e,n),o=e.listenProvider_.startListening(ho(t),i,a.hashFn,a.onComplete),u=e.syncPointTree_.subtree(r);if(i)M(!Va(u.value),"If we're adding a query, it shouldn't be shadowed");else for(var s=u.fold((function(e,t,n){if(!yr(e)&&t&&Va(t))return[Ha(t).query];var r=[];return t&&(r=r.concat(Ba(t).map((function(e){return e.query})))),Nn(n,(function(e,t){r=r.concat(t)})),r})),l=0;l<s.length;++l){var c=s[l];e.listenProvider_.stopListening(ho(c),oo(e,c))}return o}var go=function(){function e(t){_(this,e),this.node_=t}return w(e,[{key:"getImmediateChild",value:function(t){return new e(this.node_.getImmediateChild(t))}},{key:"node",value:function(){return this.node_}}]),e}(),yo=function(){function e(t,n){_(this,e),this.syncTree_=t,this.path_=n}return w(e,[{key:"getImmediateChild",value:function(t){var n=gr(this.path_,t);return new e(this.syncTree_,n)}},{key:"node",value:function(){return to(this.syncTree_,this.path_)}}]),e}(),bo=function(e,t,n){return e&&"object"===typeof e?(M(".sv"in e,"Unexpected leaf node or priority contents"),"string"===typeof e[".sv"]?_o(e[".sv"],t,n):"object"===typeof e[".sv"]?ko(e[".sv"],t):void M(!1,"Unexpected server value: "+JSON.stringify(e,null,2))):e},_o=function(e,t,n){if("timestamp"===e)return n.timestamp;M(!1,"Unexpected server value: "+e)},ko=function(e,t,n){e.hasOwnProperty("increment")||M(!1,"Unexpected server value: "+JSON.stringify(e,null,2));var r=e.increment;"number"!==typeof r&&M(!1,"Unexpected increment value: "+r);var i=t.node();if(M(null!==i&&"undefined"!==typeof i,"Expected ChildrenNode.EMPTY_NODE for nulls"),!i.isLeafNode())return r;var a=i.getValue();return"number"!==typeof a?r:a+r},wo=function(e,t,n,r){return Io(t,new yo(n,e),r)},xo=function(e,t,n){return Io(e,new go(t),n)};function Io(e,t,n){var r,i=e.getPriority().val(),a=bo(i,t.getImmediateChild(".priority"),n);if(e.isLeafNode()){var o=e,u=bo(o.getValue(),t,n);return u!==o.getValue()||a!==o.getPriority().val()?new Gr(u,ii(a)):e}var s=e;return r=s,a!==s.getPriority().val()&&(r=r.updatePriority(new Gr(a))),s.forEachChild(Qr,(function(e,i){var a=Io(i,t.getImmediateChild(e),n);a!==i&&(r=r.updateImmediateChild(e,a))})),r}var Eo=w((function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{children:{},childCount:0};_(this,e),this.name=t,this.parent=n,this.node=r}));function So(e,t){for(var n=t instanceof lr?t:new lr(t),r=e,i=dr(n);null!==i;){var a=fe(r.node.children,i)||{children:{},childCount:0};r=new Eo(i,r,a),i=dr(n=hr(n))}return r}function Co(e){return e.node.value}function To(e,t){e.node.value=t,Ao(e)}function Po(e){return e.node.childCount>0}function No(e,t){Nn(e.node.children,(function(n,r){t(new Eo(n,e,r))}))}function Ro(e,t,n,r){n&&!r&&t(e),No(e,(function(e){Ro(e,t,!0,r)})),n&&r&&t(e)}function Do(e){return new lr(null===e.parent?e.name:Do(e.parent)+"/"+e.name)}function Ao(e){null!==e.parent&&function(e,t,n){var r=function(e){return void 0===Co(e)&&!Po(e)}(n),i=de(e.node.children,t);r&&i?(delete e.node.children[t],e.node.childCount--,Ao(e)):r||i||(e.node.children[t]=n.node,e.node.childCount++,Ao(e))}(e.parent,e.name,e)}var Oo=/[\[\].#$\/\u0000-\u001F\u007F]/,Lo=/[\[\].#$\u0000-\u001F\u007F]/,Mo=10485760,Fo=function(e){return"string"===typeof e&&0!==e.length&&!Oo.test(e)},Uo=function(e){return"string"===typeof e&&0!==e.length&&!Lo.test(e)},jo=function(e){return null===e||"string"===typeof e||"number"===typeof e&&!wn(e)||e&&"object"===typeof e&&de(e,".sv")},Bo=function(e,t,n,r){r&&void 0===t||zo(Ie(e,"value"),t,n)},zo=function e(t,n,r){var i=r instanceof lr?new xr(r,t):r;if(void 0===n)throw new Error(t+"contains undefined "+Er(i));if("function"===typeof n)throw new Error(t+"contains a function "+Er(i)+" with contents = "+n.toString());if(wn(n))throw new Error(t+"contains "+n.toString()+" "+Er(i));if("string"===typeof n&&n.length>Mo/3&&Ee(n)>Mo)throw new Error(t+"contains a string greater than "+"10485760 utf8 bytes "+Er(i)+" ('"+n.substring(0,50)+"...')");if(n&&"object"===typeof n){var a=!1,o=!1;if(Nn(n,(function(n,r){if(".value"===n)a=!0;else if(".priority"!==n&&".sv"!==n&&(o=!0,!Fo(n)))throw new Error(t+" contains an invalid key ("+n+") "+Er(i)+'.  Keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]"');var u,s;s=n,(u=i).parts_.length>0&&(u.byteLength_+=1),u.parts_.push(s),u.byteLength_+=Ee(s),Ir(u),e(t,r,i),function(e){var t=e.parts_.pop();e.byteLength_-=Ee(t),e.parts_.length>0&&(e.byteLength_-=1)}(i)})),a&&o)throw new Error(t+' contains ".value" child '+Er(i)+" in addition to actual children.")}},Wo=function(e,t,n,r){if(!r||void 0!==t){var i=Ie(e,"values");if(!t||"object"!==typeof t||Array.isArray(t))throw new Error(i+" must be an object containing the children to replace.");var a=[];Nn(t,(function(e,t){var r=new lr(e);if(zo(i,t,gr(n,r)),".priority"===pr(r)&&!jo(t))throw new Error(i+"contains an invalid value for '"+r.toString()+"', which must be a valid Firebase priority (a string, finite number, server value, or null).");a.push(r)})),function(e,t){var n,r;for(n=0;n<t.length;n++)for(var i=vr(r=t[n]),a=0;a<i.length;a++)if(".priority"===i[a]&&a===i.length-1);else if(!Fo(i[a]))throw new Error(e+"contains an invalid key ("+i[a]+") in path "+r.toString()+'. Keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]"');t.sort(_r);var o=null;for(n=0;n<t.length;n++){if(r=t[n],null!==o&&wr(o,r))throw new Error(e+"contains a path "+o.toString()+" that is ancestor of another path "+r.toString());o=r}}(i,a)}},qo=function(e,t,n,r){if((!r||void 0!==n)&&!Uo(n))throw new Error(Ie(e,t)+'was an invalid path = "'+n+'". Paths must be non-empty strings and can\'t contain ".", "#", "$", "[", or "]"')},Vo=function(e,t){if(".info"===dr(t))throw new Error(e+" failed = Can't modify data under /.info/")},Ho=function(e,t){var n=t.path.toString();if("string"!==typeof t.repoInfo.host||0===t.repoInfo.host.length||!Fo(t.repoInfo.namespace)&&"localhost"!==t.repoInfo.host.split(":")[0]||0!==n.length&&!function(e){return e&&(e=e.replace(/^\/*\.info(\/|$)/,"/")),Uo(e)}(n))throw new Error(Ie(e,"url")+'must be a valid firebase URL and the path can\'t contain ".", "#", "$", "[", or "]".')},Go=w((function e(){_(this,e),this.eventLists_=[],this.recursionDepth_=0}));function Ko(e,t){for(var n=null,r=0;r<t.length;r++){var i=t[r],a=i.getPath();null===n||kr(a,n.path)||(e.eventLists_.push(n),n=null),null===n&&(n={events:[],path:a}),n.events.push(i)}n&&e.eventLists_.push(n)}function $o(e,t,n){Ko(e,n),Qo(e,(function(e){return kr(e,t)}))}function Yo(e,t,n){Ko(e,n),Qo(e,(function(e){return wr(e,t)||wr(t,e)}))}function Qo(e,t){e.recursionDepth_++;for(var n=!0,r=0;r<e.eventLists_.length;r++){var i=e.eventLists_[r];if(i)t(i.path)?(Jo(e.eventLists_[r]),e.eventLists_[r]=null):n=!1}n&&(e.eventLists_=[]),e.recursionDepth_--}function Jo(e){for(var t=0;t<e.events.length;t++){var n=e.events[t];if(null!==n){e.events[t]=null;var r=n.getEventRunner();pn&&gn("event: "+n.toString()),Mn(r)}}}var Xo="repo_interrupt",Zo=function(){function e(t,n,r,i){_(this,e),this.repoInfo_=t,this.forceRestClient_=n,this.authTokenProvider_=r,this.appCheckProvider_=i,this.dataUpdateCount=0,this.statsListener_=null,this.eventQueue_=new Go,this.nextWriteId_=1,this.interceptServerDataCallback_=null,this.onDisconnect_=wi(),this.transactionQueueTree_=new Eo,this.persistentConnection_=null,this.key=this.repoInfo_.toURLString()}return w(e,[{key:"toString",value:function(){return(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host}}]),e}();function eu(e,t,n){if(e.stats_=Qn(e.repoInfo_),e.forceRestClient_||("object"===typeof window&&window.navigator&&window.navigator.userAgent||"").search(/googlebot|google webmaster tools|bingbot|yahoo! slurp|baiduspider|yandexbot|duckduckbot/i)>=0)e.server_=new _i(e.repoInfo_,(function(t,n,r,i){ru(e,t,n,r,i)}),e.authTokenProvider_,e.appCheckProvider_),setTimeout((function(){return iu(e,!0)}),0);else{if("undefined"!==typeof n&&null!==n){if("object"!==typeof n)throw new Error("Only objects are supported for option databaseAuthVariableOverride");try{le(n)}catch(r){throw new Error("Invalid authOverride provided: "+r)}}e.persistentConnection_=new Tr(e.repoInfo_,t,(function(t,n,r,i){ru(e,t,n,r,i)}),(function(t){iu(e,t)}),(function(t){!function(e,t){Nn(t,(function(t,n){au(e,t,n)}))}(e,t)}),e.authTokenProvider_,e.appCheckProvider_,n),e.server_=e.persistentConnection_}e.authTokenProvider_.addTokenChangeListener((function(t){e.server_.refreshAuthToken(t)})),e.appCheckProvider_.addTokenChangeListener((function(t){e.server_.refreshAppCheckToken(t.token)})),e.statsReporter_=function(e,t){var n=e.toString();return Yn[n]||(Yn[n]=t()),Yn[n]}(e.repoInfo_,(function(){return new Ci(e.stats_,e.server_)})),e.infoData_=new ki,e.infoSyncTree_=new Ka({startListening:function(t,n,r,i){var a=[],o=e.infoData_.getNode(t._path);return o.isEmpty()||(a=Ja(e.infoSyncTree_,t._path,o),setTimeout((function(){i("ok")}),0)),a},stopListening:function(){}}),au(e,"connected",!1),e.serverSyncTree_=new Ka({startListening:function(t,n,r,i){return e.server_.listen(t,r,n,(function(n,r){var a=i(n,r);Yo(e.eventQueue_,t._path,a)})),[]},stopListening:function(t,n){e.server_.unlisten(t,n)}})}function tu(e){var t=e.infoData_.getNode(new lr(".info/serverTimeOffset")).val()||0;return(new Date).getTime()+t}function nu(e){return(t=(t={timestamp:tu(e)})||{}).timestamp=t.timestamp||(new Date).getTime(),t;var t}function ru(e,t,n,r,i){e.dataUpdateCount++;var a=new lr(t);n=e.interceptServerDataCallback_?e.interceptServerDataCallback_(t,n):n;var o=[];if(i)if(r){var u=pe(n,(function(e){return ii(e)}));o=function(e,t,n,r){var i=so(e,r);if(i){var a=lo(i),o=a.path,u=a.queryId,s=br(o,t),l=qi.fromObject(n);return co(e,o,new Ai(Ti(u),s,l))}return[]}(e.serverSyncTree_,a,u,i)}else{var s=ii(n);o=Za(e.serverSyncTree_,a,s,i)}else if(r){var l=pe(n,(function(e){return ii(e)}));o=function(e,t,n){var r=qi.fromObject(n);return no(e,new Ai({fromUser:!1,fromServer:!0,queryId:null,tagged:!1},t,r))}(e.serverSyncTree_,a,l)}else{var c=ii(n);o=Ja(e.serverSyncTree_,a,c)}var d=a;o.length>0&&(d=vu(e,a)),Yo(e.eventQueue_,d,o)}function iu(e,t){au(e,"connected",t),!1===t&&function(e){cu(e,"onDisconnectEvents");var t=nu(e),n=wi();Ii(e.onDisconnect_,cr(),(function(r,i){var a=wo(r,i,e.serverSyncTree_,t);xi(n,r,a)}));var r=[];Ii(n,cr(),(function(t,n){r=r.concat(Ja(e.serverSyncTree_,t,n));var i=_u(e,t);vu(e,i)})),e.onDisconnect_=wi(),Yo(e.eventQueue_,cr(),r)}(e)}function au(e,t,n){var r=new lr("/.info/"+t),i=ii(n);e.infoData_.updateSnapshot(r,i);var a=Ja(e.infoSyncTree_,r,i);Yo(e.eventQueue_,r,a)}function ou(e){return e.nextWriteId_++}function uu(e,t,n,r,i){cu(e,"set",{path:t.toString(),value:n,priority:r});var a=nu(e),o=ii(n,r),u=to(e.serverSyncTree_,t),s=xo(o,u,a),l=ou(e),c=$a(e.serverSyncTree_,t,s,l,!0);Ko(e.eventQueue_,c),e.server_.put(t.toString(),o.val(!0),(function(n,r){var a="ok"===n;a||kn("set at "+t+" failed: "+n);var o=Qa(e.serverSyncTree_,l,!a);Yo(e.eventQueue_,t,o),du(e,i,n,r)}));var d=_u(e,t);vu(e,d),Yo(e.eventQueue_,d,[])}function su(e,t,n){var r;r=".info"===dr(t._path)?Xa(e.infoSyncTree_,t,n):Xa(e.serverSyncTree_,t,n),$o(e.eventQueue_,t._path,r)}function lu(e){e.persistentConnection_&&e.persistentConnection_.interrupt(Xo)}function cu(e){var t="";e.persistentConnection_&&(t=e.persistentConnection_.id+":");for(var n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];gn.apply(void 0,[t].concat(r))}function du(e,t,n,r){t&&Mn((function(){if("ok"===n)t(null);else{var e=(n||"error").toUpperCase(),i=e;r&&(i+=": "+r);var a=new Error(i);a.code=e,t(a)}}))}function fu(e,t,n){return to(e.serverSyncTree_,t,n)||ni.EMPTY_NODE}function hu(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:e.transactionQueueTree_;if(t||bu(e,t),Co(t)){var n=gu(e,t);M(n.length>0,"Sending zero length transaction queue");var r=n.every((function(e){return 0===e.status}));r&&pu(e,Do(t),n)}else Po(t)&&No(t,(function(t){hu(e,t)}))}function pu(e,t,n){for(var r=n.map((function(e){return e.currentWriteId})),i=fu(e,t,r),a=i,o=i.hash(),u=0;u<n.length;u++){var s=n[u];M(0===s.status,"tryToSendTransactionQueue_: items in queue should all be run."),s.status=1,s.retryCount++;var l=br(t,s.path);a=a.updateChild(l,s.currentOutputSnapshotRaw)}var c=a.val(!0),d=t;e.server_.put(d.toString(),c,(function(r){cu(e,"transaction put response",{path:d.toString(),status:r});var i=[];if("ok"===r){for(var a=[],o=function(t){n[t].status=2,i=i.concat(Qa(e.serverSyncTree_,n[t].currentWriteId)),n[t].onComplete&&a.push((function(){return n[t].onComplete(null,!0,n[t].currentOutputSnapshotResolved)})),n[t].unwatcher()},u=0;u<n.length;u++)o(u);bu(e,So(e.transactionQueueTree_,t)),hu(e,e.transactionQueueTree_),Yo(e.eventQueue_,t,i);for(var s=0;s<a.length;s++)Mn(a[s])}else{if("datastale"===r)for(var l=0;l<n.length;l++)3===n[l].status?n[l].status=4:n[l].status=0;else{kn("transaction at "+d.toString()+" failed: "+r);for(var c=0;c<n.length;c++)n[c].status=4,n[c].abortReason=r}vu(e,t)}}),o)}function vu(e,t){var n=mu(e,t),r=Do(n);return function(e,t,n){if(0===t.length)return;for(var r=[],i=[],a=t.filter((function(e){return 0===e.status})).map((function(e){return e.currentWriteId})),o=function(o){var u,s=t[o],l=br(n,s.path),c=!1,d=void 0;if(M(null!==l,"rerunTransactionsUnderNode_: relativePath should not be null."),4===s.status)c=!0,d=s.abortReason,i=i.concat(Qa(e.serverSyncTree_,s.currentWriteId,!0));else if(0===s.status)if(s.retryCount>=25)c=!0,d="maxretry",i=i.concat(Qa(e.serverSyncTree_,s.currentWriteId,!0));else{var f=fu(e,s.path,a);s.currentInputSnapshot=f;var h=t[o].update(f.val());if(void 0!==h){zo("transaction failed: Data returned ",h,s.path);var p=ii(h);"object"===typeof h&&null!=h&&de(h,".priority")||(p=p.updatePriority(f.getPriority()));var v=s.currentWriteId,m=nu(e),g=xo(p,f,m);s.currentOutputSnapshotRaw=p,s.currentOutputSnapshotResolved=g,s.currentWriteId=ou(e),a.splice(a.indexOf(v),1),i=(i=i.concat($a(e.serverSyncTree_,s.path,g,s.currentWriteId,s.applyLocally))).concat(Qa(e.serverSyncTree_,v,!0))}else c=!0,d="nodata",i=i.concat(Qa(e.serverSyncTree_,s.currentWriteId,!0))}Yo(e.eventQueue_,n,i),i=[],c&&(t[o].status=2,u=t[o].unwatcher,setTimeout(u,Math.floor(0)),t[o].onComplete&&("nodata"===d?r.push((function(){return t[o].onComplete(null,!1,t[o].currentInputSnapshot)})):r.push((function(){return t[o].onComplete(new Error(d),!1,null)}))))},u=0;u<t.length;u++)o(u);bu(e,e.transactionQueueTree_);for(var s=0;s<r.length;s++)Mn(r[s]);hu(e,e.transactionQueueTree_)}(e,gu(e,n),r),r}function mu(e,t){var n,r=e.transactionQueueTree_;for(n=dr(t);null!==n&&void 0===Co(r);)r=So(r,n),n=dr(t=hr(t));return r}function gu(e,t){var n=[];return yu(e,t,n),n.sort((function(e,t){return e.order-t.order})),n}function yu(e,t,n){var r=Co(t);if(r)for(var i=0;i<r.length;i++)n.push(r[i]);No(t,(function(t){yu(e,t,n)}))}function bu(e,t){var n=Co(t);if(n){for(var r=0,i=0;i<n.length;i++)2!==n[i].status&&(n[r]=n[i],r++);n.length=r,To(t,n.length>0?n:void 0)}No(t,(function(t){bu(e,t)}))}function _u(e,t){var n=Do(mu(e,t)),r=So(e.transactionQueueTree_,t);return function(e,t,n){for(var r=n?e:e.parent;null!==r;){if(t(r))return!0;r=r.parent}}(r,(function(t){ku(e,t)})),ku(e,r),Ro(r,(function(t){ku(e,t)})),n}function ku(e,t){var n=Co(t);if(n){for(var r=[],i=[],a=-1,o=0;o<n.length;o++)3===n[o].status||(1===n[o].status?(M(a===o-1,"All SENT items should be at beginning of queue."),a=o,n[o].status=3,n[o].abortReason="set"):(M(0===n[o].status,"Unexpected transaction status in abort"),n[o].unwatcher(),i=i.concat(Qa(e.serverSyncTree_,n[o].currentWriteId,!0)),n[o].onComplete&&r.push(n[o].onComplete.bind(null,new Error("set"),!1,null))));-1===a?To(t,void 0):n.length=a+1,Yo(e.eventQueue_,Do(t),i);for(var u=0;u<r.length;u++)Mn(r[u])}}var wu=function(e,t){var n=xu(e),r=n.namespace;"firebase.com"===n.domain&&_n(n.host+" is no longer supported. Please use <YOUR FIREBASE>.firebaseio.com instead"),r&&"undefined"!==r||"localhost"===n.domain||_n("Cannot parse Firebase url. Please use https://<YOUR FIREBASE>.firebaseio.com"),n.secure||"undefined"!==typeof window&&window.location&&window.location.protocol&&-1!==window.location.protocol.indexOf("https:")&&kn("Insecure Firebase access from a secure page. Please use https in calls to new Firebase().");var i="ws"===n.scheme||"wss"===n.scheme;return{repoInfo:new Hn(n.host,n.secure,r,i,t,"",r!==n.subdomain),path:new lr(n.pathString)}},xu=function(e){var t="",n="",r="",i="",a="",o=!0,u="https",s=443;if("string"===typeof e){var l=e.indexOf("//");l>=0&&(u=e.substring(0,l-1),e=e.substring(l+2));var c=e.indexOf("/");-1===c&&(c=e.length);var d=e.indexOf("?");-1===d&&(d=e.length),t=e.substring(0,Math.min(c,d)),c<d&&(i=function(e){for(var t="",n=e.split("/"),r=0;r<n.length;r++)if(n[r].length>0){var i=n[r];try{i=decodeURIComponent(i.replace(/\+/g," "))}catch(a){}t+="/"+i}return t}(e.substring(c,d)));var f=function(e){var t={};"?"===e.charAt(0)&&(e=e.substring(1));var n,r=x(e.split("&"));try{for(r.s();!(n=r.n()).done;){var i=n.value;if(0!==i.length){var a=i.split("=");2===a.length?t[decodeURIComponent(a[0])]=decodeURIComponent(a[1]):kn("Invalid query segment '".concat(i,"' in query '").concat(e,"'"))}}}catch(o){r.e(o)}finally{r.f()}return t}(e.substring(Math.min(e.length,d)));(l=t.indexOf(":"))>=0?(o="https"===u||"wss"===u,s=parseInt(t.substring(l+1),10)):l=t.length;var h=t.slice(0,l);if("localhost"===h.toLowerCase())n="localhost";else if(h.split(".").length<=2)n=h;else{var p=t.indexOf(".");r=t.substring(0,p).toLowerCase(),n=t.substring(p+1),a=r}"ns"in f&&(a=f.ns)}return{host:t,port:s,domain:n,subdomain:r,secure:o,scheme:u,pathString:i,namespace:a}},Iu=function(){function e(t,n,r,i){_(this,e),this.eventType=t,this.eventRegistration=n,this.snapshot=r,this.prevName=i}return w(e,[{key:"getPath",value:function(){var e=this.snapshot.ref;return"value"===this.eventType?e._path:e.parent._path}},{key:"getEventType",value:function(){return this.eventType}},{key:"getEventRunner",value:function(){return this.eventRegistration.getEventRunner(this)}},{key:"toString",value:function(){return this.getPath().toString()+":"+this.eventType+":"+le(this.snapshot.exportVal())}}]),e}(),Eu=function(){function e(t,n,r){_(this,e),this.eventRegistration=t,this.error=n,this.path=r}return w(e,[{key:"getPath",value:function(){return this.path}},{key:"getEventType",value:function(){return"cancel"}},{key:"getEventRunner",value:function(){return this.eventRegistration.getEventRunner(this)}},{key:"toString",value:function(){return this.path.toString()+":cancel"}}]),e}(),Su=function(){function e(t,n){_(this,e),this.snapshotCallback=t,this.cancelCallback=n}return w(e,[{key:"onValue",value:function(e,t){this.snapshotCallback.call(null,e,t)}},{key:"onCancel",value:function(e){return M(this.hasCancelCallback,"Raising a cancel event on a listener with no cancel callback"),this.cancelCallback.call(null,e)}},{key:"hasCancelCallback",get:function(){return!!this.cancelCallback}},{key:"matches",value:function(e){return this.snapshotCallback===e.snapshotCallback||void 0!==this.snapshotCallback.userCallback&&this.snapshotCallback.userCallback===e.snapshotCallback.userCallback&&this.snapshotCallback.context===e.snapshotCallback.context}}]),e}(),Cu=function(){function e(t,n,r,i){_(this,e),this._repo=t,this._path=n,this._queryParams=r,this._orderByCalled=i}return w(e,[{key:"key",get:function(){return yr(this._path)?null:pr(this._path)}},{key:"ref",get:function(){return new Tu(this._repo,this._path)}},{key:"_queryIdentifier",get:function(){var e=bi(this._queryParams),t=Tn(e);return"{}"===t?"default":t}},{key:"_queryObject",get:function(){return bi(this._queryParams)}},{key:"isEqual",value:function(t){if(!((t=Se(t))instanceof e))return!1;var n=this._repo===t._repo,r=kr(this._path,t._path),i=this._queryIdentifier===t._queryIdentifier;return n&&r&&i}},{key:"toJSON",value:function(){return this.toString()}},{key:"toString",value:function(){return this._repo.toString()+function(e){for(var t="",n=e.pieceNum_;n<e.pieces_.length;n++)""!==e.pieces_[n]&&(t+="/"+encodeURIComponent(String(e.pieces_[n])));return t||"/"}(this._path)}}]),e}();var Tu=function(e){S(n,e);var t=N(n);function n(e,r){return _(this,n),t.call(this,e,r,new gi,!1)}return w(n,[{key:"parent",get:function(){var e=mr(this._path);return null===e?null:new n(this._repo,e)}},{key:"root",get:function(){for(var e=this;null!==e.parent;)e=e.parent;return e}}]),n}(Cu),Pu=function(){function e(t,n,r){_(this,e),this._node=t,this.ref=n,this._index=r}return w(e,[{key:"priority",get:function(){return this._node.getPriority().val()}},{key:"key",get:function(){return this.ref.key}},{key:"size",get:function(){return this._node.numChildren()}},{key:"child",value:function(t){var n=new lr(t),r=Ru(this.ref,t);return new e(this._node.getChild(n),r,Qr)}},{key:"exists",value:function(){return!this._node.isEmpty()}},{key:"exportVal",value:function(){return this._node.val(!0)}},{key:"forEach",value:function(t){var n=this;return!this._node.isLeafNode()&&!!this._node.forEachChild(this._index,(function(r,i){return t(new e(i,Ru(n.ref,r),Qr))}))}},{key:"hasChild",value:function(e){var t=new lr(e);return!this._node.getChild(t).isEmpty()}},{key:"hasChildren",value:function(){return!this._node.isLeafNode()&&!this._node.isEmpty()}},{key:"toJSON",value:function(){return this.exportVal()}},{key:"val",value:function(){return this._node.val()}}]),e}();function Nu(e,t){return(e=Se(e))._checkNotDeleted("ref"),void 0!==t?Ru(e._root,t):e._root}function Ru(e,t){var n,r,i,a;return null===dr((e=Se(e))._path)?(n="child",r="path",a=!1,(i=t)&&(i=i.replace(/^\/*\.info(\/|$)/,"/")),qo(n,r,i,a)):qo("child","path",t,!1),new Tu(e._repo,gr(e._path,t))}function Du(e,t){e=Se(e),Vo("set",e._path),Bo("set",t,e._path,!1);var n=new ne;return uu(e._repo,e._path,t,null,n.wrapCallback((function(){}))),n.promise}function Au(e,t){Wo("update",t,e._path,!1);var n=new ne;return function(e,t,n,r){cu(e,"update",{path:t.toString(),value:n});var i=!0,a=nu(e),o={};if(Nn(n,(function(n,r){i=!1,o[n]=wo(gr(t,n),ii(r),e.serverSyncTree_,a)})),i)gn("update() called with empty data.  Don't do anything."),du(0,r,"ok",void 0);else{var u=ou(e),s=Ya(e.serverSyncTree_,t,o,u);Ko(e.eventQueue_,s),e.server_.merge(t.toString(),n,(function(n,i){var a="ok"===n;a||kn("update at "+t+" failed: "+n);var o=Qa(e.serverSyncTree_,u,!a),s=o.length>0?vu(e,t):t;Yo(e.eventQueue_,s,o),du(0,r,n,i)})),Nn(n,(function(n){var r=_u(e,gr(t,n));vu(e,r)})),Yo(e.eventQueue_,t,[])}}(e._repo,e._path,t,n.wrapCallback((function(){}))),n.promise}var Ou=function(){function e(t){_(this,e),this.callbackContext=t}return w(e,[{key:"respondsTo",value:function(e){return"value"===e}},{key:"createEvent",value:function(e,t){var n=t._queryParams.getIndex();return new Iu("value",this,new Pu(e.snapshotNode,new Tu(t._repo,t._path),n))}},{key:"getEventRunner",value:function(e){var t=this;return"cancel"===e.getEventType()?function(){return t.callbackContext.onCancel(e.error)}:function(){return t.callbackContext.onValue(e.snapshot,null)}}},{key:"createCancelEvent",value:function(e,t){return this.callbackContext.hasCancelCallback?new Eu(this,e,t):null}},{key:"matches",value:function(t){return t instanceof e&&(!t.callbackContext||!this.callbackContext||t.callbackContext.matches(this.callbackContext))}},{key:"hasAnyCallback",value:function(){return null!==this.callbackContext}}]),e}(),Lu=function(){function e(t,n){_(this,e),this.eventType=t,this.callbackContext=n}return w(e,[{key:"respondsTo",value:function(e){var t="children_added"===e?"child_added":e;return t="children_removed"===t?"child_removed":t,this.eventType===t}},{key:"createCancelEvent",value:function(e,t){return this.callbackContext.hasCancelCallback?new Eu(this,e,t):null}},{key:"createEvent",value:function(e,t){M(null!=e.childName,"Child events should have a childName.");var n=Ru(new Tu(t._repo,t._path),e.childName),r=t._queryParams.getIndex();return new Iu(e.type,this,new Pu(e.snapshotNode,n,r),e.prevName)}},{key:"getEventRunner",value:function(e){var t=this;return"cancel"===e.getEventType()?function(){return t.callbackContext.onCancel(e.error)}:function(){return t.callbackContext.onValue(e.snapshot,e.prevName)}}},{key:"matches",value:function(t){return t instanceof e&&(this.eventType===t.eventType&&(!this.callbackContext||!t.callbackContext||this.callbackContext.matches(t.callbackContext)))}},{key:"hasAnyCallback",value:function(){return!!this.callbackContext}}]),e}();function Mu(e,t,n,r,i){var a;if("object"===typeof r&&(a=void 0,i=r),"function"===typeof r&&(a=r),i&&i.onlyOnce){var o=n,u=function(t,n){su(e._repo,e,l),o(t,n)};u.userCallback=n.userCallback,u.context=n.context,n=u}var s=new Su(n,a||void 0),l="value"===t?new Ou(s):new Lu(t,s);return function(e,t,n){var r;r=".info"===dr(t._path)?eo(e.infoSyncTree_,t,n):eo(e.serverSyncTree_,t,n),$o(e.eventQueue_,t._path,r)}(e._repo,e,l),function(){return su(e._repo,e,l)}}function Fu(e,t,n,r){return Mu(e,"value",t,n,r)}!function(e){M(!Sa,"__referenceConstructor has already been defined"),Sa=e}(Tu),function(e){M(!Aa,"__referenceConstructor has already been defined"),Aa=e}(Tu);var Uu={},ju=!1;function Bu(e,t,n,r){e.repoInfo_=new Hn("".concat(t,":").concat(n),!1,e.repoInfo_.namespace,e.repoInfo_.webSocketOnly,e.repoInfo_.nodeAdmin,e.repoInfo_.persistenceKey,e.repoInfo_.includeNamespaceInQueryParams),r&&(e.authTokenProvider_=r)}function zu(e,t,n,r,i){var a=r||e.options.databaseURL;void 0===a&&(e.options.projectId||_n("Can't determine Firebase Database URL. Be sure to include  a Project ID when calling firebase.initializeApp()."),gn("Using default host for project ",e.options.projectId),a="".concat(e.options.projectId,"-default-rtdb.firebaseio.com"));var o,u=wu(a,i),s=u.repoInfo,l=void 0;"undefined"!==typeof process&&(l={NODE_ENV:"production",PUBLIC_URL:"/react-todo-list",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0,REACT_APP_FIREBASE_API_KEY:"AIzaSyAbQ2mHRl1ZJzpLnkPBulCBR1d23y7RzVA",REACT_APP_FIREBASE_APP_ID:"1:754082289786:web:7f8f281698c740573d03c3",REACT_APP_FIREBASE_AUTH_DOMAIN:"todo-app-1719e.firebaseapp.com",REACT_APP_FIREBASE_DATABASE_URL:"https://todo-app-1719e-default-rtdb.europe-west1.firebasedatabase.app",REACT_APP_FIREBASE_MESSAGING_SENDER_ID:"754082289786",REACT_APP_FIREBASE_PROJECT_ID:"todo-app-1719e",REACT_APP_FIREBASE_STORAGE_BUCKET:"todo-app-1719e.appspot.com"}.FIREBASE_DATABASE_EMULATOR_HOST),l?(o=!0,a="http://".concat(l,"?ns=").concat(s.namespace),s=(u=wu(a,i)).repoInfo):o=!u.repoInfo.secure;var c=i&&o?new Bn(Bn.OWNER):new jn(e.name,e.options,t);Ho("Invalid Firebase Database URL",u),yr(u.path)||_n("Database URL must point to the root of a Firebase Database (not including a child path).");var d=function(e,t,n,r){var i=Uu[t.name];i||(i={},Uu[t.name]=i);var a=i[e.toURLString()];a&&_n("Database initialized multiple times. Please make sure the format of the database URL matches with each database() call.");return a=new Zo(e,ju,n,r),i[e.toURLString()]=a,a}(s,e,c,new Un(e.name,n));return new Wu(d,e)}var Wu=function(){function e(t,n){_(this,e),this._repoInternal=t,this.app=n,this.type="database",this._instanceStarted=!1}return w(e,[{key:"_repo",get:function(){return this._instanceStarted||(eu(this._repoInternal,this.app.options.appId,this.app.options.databaseAuthVariableOverride),this._instanceStarted=!0),this._repoInternal}},{key:"_root",get:function(){return this._rootInternal||(this._rootInternal=new Tu(this._repo,cr())),this._rootInternal}},{key:"_delete",value:function(){return null!==this._rootInternal&&(!function(e,t){var n=Uu[t];n&&n[e.key]===e||_n("Database ".concat(t,"(").concat(e.repoInfo_,") has already been deleted.")),lu(e),delete n[e.key]}(this._repo,this.app.name),this._repoInternal=null,this._rootInternal=null),Promise.resolve()}},{key:"_checkNotDeleted",value:function(e){null===this._rootInternal&&_n("Cannot call "+e+" on a deleted database.")}}]),e}();function qu(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};(e=Se(e))._checkNotDeleted("useEmulator"),e._instanceStarted&&_n("Cannot call useEmulator() after instance has already been initialized.");var i=e._repoInternal,a=void 0;if(i.repoInfo_.nodeAdmin)r.mockUserToken&&_n('mockUserToken is not supported by the Admin SDK. For client access with mock users, please use the "firebase" package instead of "firebase-admin".'),a=new Bn(Bn.OWNER);else if(r.mockUserToken){var o="string"===typeof r.mockUserToken?r.mockUserToken:re(r.mockUserToken,e.app.options.projectId);a=new Bn(o)}Bu(i,t,n,a)}Tr.prototype.simpleListen=function(e,t){this.sendRequest("q",{p:e},t)},Tr.prototype.echo=function(e,t){this.sendRequest("echo",{d:e},t)};function Vu(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=C(e)););return e}function Hu(){return Hu="undefined"!==typeof Reflect&&Reflect.get?Reflect.get.bind():function(e,t,n){var r=Vu(e,t);if(r){var i=Object.getOwnPropertyDescriptor(r,t);return i.get?i.get.call(arguments.length<3?e:n):i.value}},Hu.apply(this,arguments)}!function(e){!function(e){rn=e}(It),gt(new Pe("database",(function(e,t){var n=t.instanceIdentifier;return zu(e.getProvider("app").getImmediate(),e.getProvider("auth-internal"),e.getProvider("app-check-internal"),n)}),"PUBLIC").setMultipleInstances(!0)),Nt(tn,nn,e),Nt(tn,nn,"esm2017")}();function Gu(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n}Object.create;var Ku;Object.create;var $u="facebook.com",Yu="github.com",Qu="google.com",Ju="password",Xu="twitter.com",Zu="EMAIL_SIGNIN",es="PASSWORD_RESET",ts="RECOVER_EMAIL",ns="REVERT_SECOND_FACTOR_ADDITION",rs="VERIFY_AND_CHANGE_EMAIL",is="VERIFY_EMAIL";function as(){return b({},"dependent-sdk-initialized-before-auth","Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK.")}var os=function(){var e;return b(e={},"admin-restricted-operation","This operation is restricted to administrators only."),b(e,"argument-error",""),b(e,"app-not-authorized","This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console."),b(e,"app-not-installed","The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device."),b(e,"captcha-check-failed","The reCAPTCHA response token provided is either invalid, expired, already used or the domain associated with it does not match the list of whitelisted domains."),b(e,"code-expired","The SMS code has expired. Please re-send the verification code to try again."),b(e,"cordova-not-ready","Cordova framework is not ready."),b(e,"cors-unsupported","This browser is not supported."),b(e,"credential-already-in-use","This credential is already associated with a different user account."),b(e,"custom-token-mismatch","The custom token corresponds to a different audience."),b(e,"requires-recent-login","This operation is sensitive and requires recent authentication. Log in again before retrying this request."),b(e,"dependent-sdk-initialized-before-auth","Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."),b(e,"dynamic-link-not-activated","Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions."),b(e,"email-change-needs-verification","Multi-factor users must always have a verified email."),b(e,"email-already-in-use","The email address is already in use by another account."),b(e,"emulator-config-failed",'Auth instance has already been used to make a network call. Auth can no longer be configured to use the emulator. Try calling "connectAuthEmulator()" sooner.'),b(e,"expired-action-code","The action code has expired."),b(e,"cancelled-popup-request","This operation has been cancelled due to another conflicting popup being opened."),b(e,"internal-error","An internal AuthError has occurred."),b(e,"invalid-app-credential","The phone verification request contains an invalid application verifier. The reCAPTCHA token response is either invalid or expired."),b(e,"invalid-app-id","The mobile app identifier is not registed for the current project."),b(e,"invalid-user-token","This user's credential isn't valid for this project. This can happen if the user's token has been tampered with, or if the user isn't for the project associated with this API key."),b(e,"invalid-auth-event","An internal AuthError has occurred."),b(e,"invalid-verification-code","The SMS verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure to use the verification code provided by the user."),b(e,"invalid-continue-uri","The continue URL provided in the request is invalid."),b(e,"invalid-cordova-configuration","The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme."),b(e,"invalid-custom-token","The custom token format is incorrect. Please check the documentation."),b(e,"invalid-dynamic-link-domain","The provided dynamic link domain is not configured or authorized for the current project."),b(e,"invalid-email","The email address is badly formatted."),b(e,"invalid-emulator-scheme","Emulator URL must start with a valid scheme (http:// or https://)."),b(e,"invalid-api-key","Your API key is invalid, please check you have copied it correctly."),b(e,"invalid-cert-hash","The SHA-1 certificate hash provided is invalid."),b(e,"invalid-credential","The supplied auth credential is malformed or has expired."),b(e,"invalid-message-payload","The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console."),b(e,"invalid-multi-factor-session","The request does not contain a valid proof of first factor successful sign-in."),b(e,"invalid-oauth-provider","EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers."),b(e,"invalid-oauth-client-id","The OAuth client ID provided is either invalid or does not match the specified API key."),b(e,"unauthorized-domain","This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console."),b(e,"invalid-action-code","The action code is invalid. This can happen if the code is malformed, expired, or has already been used."),b(e,"wrong-password","The password is invalid or the user does not have a password."),b(e,"invalid-persistence-type","The specified persistence type is invalid. It can only be local, session or none."),b(e,"invalid-phone-number","The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code]."),b(e,"invalid-provider-id","The specified provider ID is invalid."),b(e,"invalid-recipient-email","The email corresponding to this action failed to send as the provided recipient email address is invalid."),b(e,"invalid-sender","The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console."),b(e,"invalid-verification-id","The verification ID used to create the phone auth credential is invalid."),b(e,"invalid-tenant-id","The Auth instance's tenant ID is invalid."),b(e,"login-blocked","Login blocked by user-provided method: {$originalMessage}"),b(e,"missing-android-pkg-name","An Android Package Name must be provided if the Android App is required to be installed."),b(e,"auth-domain-config-required","Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console."),b(e,"missing-app-credential","The phone verification request is missing an application verifier assertion. A reCAPTCHA response token needs to be provided."),b(e,"missing-verification-code","The phone auth credential was created with an empty SMS verification code."),b(e,"missing-continue-uri","A continue URL must be provided in the request."),b(e,"missing-iframe-start","An internal AuthError has occurred."),b(e,"missing-ios-bundle-id","An iOS Bundle ID must be provided if an App Store ID is provided."),b(e,"missing-or-invalid-nonce","The request does not contain a valid nonce. This can occur if the SHA-256 hash of the provided raw nonce does not match the hashed nonce in the ID token payload."),b(e,"missing-multi-factor-info","No second factor identifier is provided."),b(e,"missing-multi-factor-session","The request is missing proof of first factor successful sign-in."),b(e,"missing-phone-number","To send verification codes, provide a phone number for the recipient."),b(e,"missing-verification-id","The phone auth credential was created with an empty verification ID."),b(e,"app-deleted","This instance of FirebaseApp has been deleted."),b(e,"multi-factor-info-not-found","The user does not have a second factor matching the identifier provided."),b(e,"multi-factor-auth-required","Proof of ownership of a second factor is required to complete sign-in."),b(e,"account-exists-with-different-credential","An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address."),b(e,"network-request-failed","A network AuthError (such as timeout, interrupted connection or unreachable host) has occurred."),b(e,"no-auth-event","An internal AuthError has occurred."),b(e,"no-such-provider","User was not linked to an account with the given provider."),b(e,"null-user","A null user object was provided as the argument for an operation which requires a non-null user object."),b(e,"operation-not-allowed","The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section."),b(e,"operation-not-supported-in-this-environment",'This operation is not supported in the environment this application is running on. "location.protocol" must be http, https or chrome-extension and web storage must be enabled.'),b(e,"popup-blocked","Unable to establish a connection with the popup. It may have been blocked by the browser."),b(e,"popup-closed-by-user","The popup has been closed by the user before finalizing the operation."),b(e,"provider-already-linked","User can only be linked to one identity for the given provider."),b(e,"quota-exceeded","The project's quota for this operation has been exceeded."),b(e,"redirect-cancelled-by-user","The redirect operation has been cancelled by the user before finalizing."),b(e,"redirect-operation-pending","A redirect sign-in operation is already pending."),b(e,"rejected-credential","The request contains malformed or mismatching credentials."),b(e,"second-factor-already-in-use","The second factor is already enrolled on this account."),b(e,"maximum-second-factor-count-exceeded","The maximum allowed number of second factors on a user has been exceeded."),b(e,"tenant-id-mismatch","The provided tenant ID does not match the Auth instance's tenant ID"),b(e,"timeout","The operation has timed out."),b(e,"user-token-expired","The user's credential is no longer valid. The user must sign in again."),b(e,"too-many-requests","We have blocked all requests from this device due to unusual activity. Try again later."),b(e,"unauthorized-continue-uri","The domain of the continue URL is not whitelisted.  Please whitelist the domain in the Firebase console."),b(e,"unsupported-first-factor","Enrolling a second factor or signing in with a multi-factor account requires sign-in with a supported first factor."),b(e,"unsupported-persistence-type","The current environment does not support the specified persistence type."),b(e,"unsupported-tenant-operation","This operation is not supported in a multi-tenant context."),b(e,"unverified-email","The operation requires a verified email."),b(e,"user-cancelled","The user did not grant your application the permissions it requested."),b(e,"user-not-found","There is no user record corresponding to this identifier. The user may have been deleted."),b(e,"user-disabled","The user account has been disabled by an administrator."),b(e,"user-mismatch","The supplied credentials do not correspond to the previously signed in user."),b(e,"user-signed-out",""),b(e,"weak-password","The password must be 6 characters long or more."),b(e,"web-storage-unsupported","This browser is not supported or 3rd party cookies and data may be disabled."),b(e,"already-initialized","initializeAuth() has already been called with different options. To avoid this error, call initializeAuth() with the same options as when it was originally called, or call getAuth() to return the already initialized instance."),e},us=as,ss=new ae("auth","Firebase",as()),ls=new Be("@firebase/auth");function cs(e){if(ls.logLevel<=Ae.ERROR){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];ls.error.apply(ls,["Auth (".concat(It,"): ").concat(e)].concat(n))}}function ds(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];throw vs.apply(void 0,[e].concat(n))}function fs(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return vs.apply(void 0,[e].concat(n))}function hs(e,t,n){var r=Object.assign(Object.assign({},us()),b({},t,n));return new ae("auth","Firebase",r).create(t,{appName:e.name})}function ps(e,t,n){if(!(t instanceof n))throw n.name!==t.constructor.name&&ds(e,"argument-error"),hs(e,"argument-error","Type of ".concat(t.constructor.name," does not match expected instance.")+"Did you pass a reference from a different Auth SDK?")}function vs(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];if("string"!==typeof e){var i,a=n[0],o=Te(n.slice(1));return o[0]&&(o[0].appName=e.name),(i=e._errorFactory).create.apply(i,[a].concat(Te(o)))}return ss.create.apply(ss,[e].concat(n))}function ms(e,t){if(!e){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];throw vs.apply(void 0,[t].concat(r))}}function gs(e){var t="INTERNAL ASSERTION FAILED: "+e;throw cs(t),new Error(t)}function ys(e,t){e||gs(t)}var bs=new Map;function _s(e){ys(e instanceof Function,"Expected a class definition");var t=bs.get(e);return t?(ys(t instanceof e,"Instance stored in cache mismatched with class"),t):(t=new e,bs.set(e,t),t)}function ks(){var e;return"undefined"!==typeof self&&(null===(e=self.location)||void 0===e?void 0:e.href)||""}function ws(){return"http:"===xs()||"https:"===xs()}function xs(){var e;return"undefined"!==typeof self&&(null===(e=self.location)||void 0===e?void 0:e.protocol)||null}var Is=function(){function e(t,n){_(this,e),this.shortDelay=t,this.longDelay=n,ys(n>t,"Short delay should be less than long delay!"),this.isMobile=H()||$()}return w(e,[{key:"get",value:function(){return"undefined"!==typeof navigator&&navigator&&"onLine"in navigator&&"boolean"===typeof navigator.onLine&&(ws()||K()||"connection"in navigator)&&!navigator.onLine?Math.min(5e3,this.shortDelay):this.isMobile?this.longDelay:this.shortDelay}}]),e}();function Es(e,t){ys(e.emulator,"Emulator should always be set here");var n=e.emulator.url;return t?"".concat(n).concat(t.startsWith("/")?t.slice(1):t):n}var Ss=function(){function e(){_(this,e)}return w(e,null,[{key:"initialize",value:function(e,t,n){this.fetchImpl=e,t&&(this.headersImpl=t),n&&(this.responseImpl=n)}},{key:"fetch",value:function(){return this.fetchImpl?this.fetchImpl:"undefined"!==typeof self&&"fetch"in self?self.fetch:void gs("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}},{key:"headers",value:function(){return this.headersImpl?this.headersImpl:"undefined"!==typeof self&&"Headers"in self?self.Headers:void gs("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}},{key:"response",value:function(){return this.responseImpl?this.responseImpl:"undefined"!==typeof self&&"Response"in self?self.Response:void gs("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}]),e}(),Cs=(b(Ku={},"CREDENTIAL_MISMATCH","custom-token-mismatch"),b(Ku,"MISSING_CUSTOM_TOKEN","internal-error"),b(Ku,"INVALID_IDENTIFIER","invalid-email"),b(Ku,"MISSING_CONTINUE_URI","internal-error"),b(Ku,"INVALID_PASSWORD","wrong-password"),b(Ku,"MISSING_PASSWORD","internal-error"),b(Ku,"EMAIL_EXISTS","email-already-in-use"),b(Ku,"PASSWORD_LOGIN_DISABLED","operation-not-allowed"),b(Ku,"INVALID_IDP_RESPONSE","invalid-credential"),b(Ku,"INVALID_PENDING_TOKEN","invalid-credential"),b(Ku,"FEDERATED_USER_ID_ALREADY_LINKED","credential-already-in-use"),b(Ku,"MISSING_REQ_TYPE","internal-error"),b(Ku,"EMAIL_NOT_FOUND","user-not-found"),b(Ku,"RESET_PASSWORD_EXCEED_LIMIT","too-many-requests"),b(Ku,"EXPIRED_OOB_CODE","expired-action-code"),b(Ku,"INVALID_OOB_CODE","invalid-action-code"),b(Ku,"MISSING_OOB_CODE","internal-error"),b(Ku,"CREDENTIAL_TOO_OLD_LOGIN_AGAIN","requires-recent-login"),b(Ku,"INVALID_ID_TOKEN","invalid-user-token"),b(Ku,"TOKEN_EXPIRED","user-token-expired"),b(Ku,"USER_NOT_FOUND","user-token-expired"),b(Ku,"TOO_MANY_ATTEMPTS_TRY_LATER","too-many-requests"),b(Ku,"INVALID_CODE","invalid-verification-code"),b(Ku,"INVALID_SESSION_INFO","invalid-verification-id"),b(Ku,"INVALID_TEMPORARY_PROOF","invalid-credential"),b(Ku,"MISSING_SESSION_INFO","missing-verification-id"),b(Ku,"SESSION_EXPIRED","code-expired"),b(Ku,"MISSING_ANDROID_PACKAGE_NAME","missing-android-pkg-name"),b(Ku,"UNAUTHORIZED_DOMAIN","unauthorized-continue-uri"),b(Ku,"INVALID_OAUTH_CLIENT_ID","invalid-oauth-client-id"),b(Ku,"ADMIN_ONLY_OPERATION","admin-restricted-operation"),b(Ku,"INVALID_MFA_PENDING_CREDENTIAL","invalid-multi-factor-session"),b(Ku,"MFA_ENROLLMENT_NOT_FOUND","multi-factor-info-not-found"),b(Ku,"MISSING_MFA_ENROLLMENT_ID","missing-multi-factor-info"),b(Ku,"MISSING_MFA_PENDING_CREDENTIAL","missing-multi-factor-session"),b(Ku,"SECOND_FACTOR_EXISTS","second-factor-already-in-use"),b(Ku,"SECOND_FACTOR_LIMIT_EXCEEDED","maximum-second-factor-count-exceeded"),b(Ku,"BLOCKING_FUNCTION_ERROR_RESPONSE","internal-error"),Ku),Ts=new Is(3e4,6e4);function Ps(e,t){return e.tenantId&&!t.tenantId?Object.assign(Object.assign({},t),{tenantId:e.tenantId}):t}function Ns(e,t,n,r){return Rs.apply(this,arguments)}function Rs(){return Rs=y(m().mark((function e(t,n,r,i){var a,o=arguments;return m().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=o.length>4&&void 0!==o[4]?o[4]:{},e.abrupt("return",Ds(t,a,y(m().mark((function e(){var a,o,u,s;return m().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a={},o={},i&&("GET"===n?o=i:a={body:JSON.stringify(i)}),u=ge(Object.assign({key:t.config.apiKey},o)).slice(1),e.next=6,t._getAdditionalHeaders();case 6:return(s=e.sent)["Content-Type"]="application/json",t.languageCode&&(s["X-Firebase-Locale"]=t.languageCode),e.abrupt("return",Ss.fetch()(Ms(t,t.config.apiHost,r,u),Object.assign({method:n,headers:s,referrerPolicy:"no-referrer"},a)));case 10:case"end":return e.stop()}}),e)})))));case 2:case"end":return e.stop()}}),e)}))),Rs.apply(this,arguments)}function Ds(e,t,n){return As.apply(this,arguments)}function As(){return As=y(m().mark((function e(t,n,r){var i,a,o,u,s,c,d,f,h,p;return m().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t._canInitEmulator=!1,i=Object.assign(Object.assign({},Cs),n),e.prev=2,a=new Fs(t),e.next=6,Promise.race([r(),a.promise]);case 6:return o=e.sent,a.clearNetworkTimeout(),e.next=10,o.json();case 10:if(!("needConfirmation"in(u=e.sent))){e.next=13;break}throw Us(t,"account-exists-with-different-credential",u);case 13:if(!o.ok||"errorMessage"in u){e.next=17;break}return e.abrupt("return",u);case 17:if(s=o.ok?u.errorMessage:u.error.message,c=s.split(" : "),d=l(c,2),f=d[0],h=d[1],"FEDERATED_USER_ID_ALREADY_LINKED"!==f){e.next=23;break}throw Us(t,"credential-already-in-use",u);case 23:if("EMAIL_EXISTS"!==f){e.next=27;break}throw Us(t,"email-already-in-use",u);case 27:if("USER_DISABLED"!==f){e.next=29;break}throw Us(t,"user-disabled",u);case 29:if(p=i[f]||f.toLowerCase().replace(/[_\s]+/g,"-"),!h){e.next=34;break}throw hs(t,p,h);case 34:ds(t,p);case 35:e.next=42;break;case 37:if(e.prev=37,e.t0=e.catch(2),!(e.t0 instanceof ie)){e.next=41;break}throw e.t0;case 41:ds(t,"network-request-failed");case 42:case"end":return e.stop()}}),e,null,[[2,37]])}))),As.apply(this,arguments)}function Os(e,t,n,r){return Ls.apply(this,arguments)}function Ls(){return Ls=y(m().mark((function e(t,n,r,i){var a,o,u=arguments;return m().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=u.length>4&&void 0!==u[4]?u[4]:{},e.next=3,Ns(t,n,r,i,a);case 3:return"mfaPendingCredential"in(o=e.sent)&&ds(t,"multi-factor-auth-required",{_serverResponse:o}),e.abrupt("return",o);case 6:case"end":return e.stop()}}),e)}))),Ls.apply(this,arguments)}function Ms(e,t,n,r){var i="".concat(t).concat(n,"?").concat(r);return e.config.emulator?Es(e.config,i):"".concat(e.config.apiScheme,"://").concat(i)}var Fs=function(){function e(t){var n=this;_(this,e),this.auth=t,this.timer=null,this.promise=new Promise((function(e,t){n.timer=setTimeout((function(){return t(fs(n.auth,"network-request-failed"))}),Ts.get())}))}return w(e,[{key:"clearNetworkTimeout",value:function(){clearTimeout(this.timer)}}]),e}();function Us(e,t,n){var r={appName:e.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);var i=fs(e,t,r);return i.customData._tokenResponse=n,i}function js(e,t){return Bs.apply(this,arguments)}function Bs(){return Bs=y(m().mark((function e(t,n){return m().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Ns(t,"POST","/v1/accounts:delete",n));case 1:case"end":return e.stop()}}),e)}))),Bs.apply(this,arguments)}function zs(e,t){return Ws.apply(this,arguments)}function Ws(){return Ws=y(m().mark((function e(t,n){return m().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Ns(t,"POST","/v1/accounts:update",n));case 1:case"end":return e.stop()}}),e)}))),Ws.apply(this,arguments)}function qs(e,t){return Vs.apply(this,arguments)}function Vs(){return Vs=y(m().mark((function e(t,n){return m().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Ns(t,"POST","/v1/accounts:lookup",n));case 1:case"end":return e.stop()}}),e)}))),Vs.apply(this,arguments)}function Hs(e){if(e)try{var t=new Date(Number(e));if(!isNaN(t.getTime()))return t.toUTCString()}catch(n){}}function Gs(){return Gs=y(m().mark((function e(t){var n,r,i,a,o,u,s=arguments;return m().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=s.length>1&&void 0!==s[1]&&s[1],r=Se(t),e.next=4,r.getIdToken(n);case 4:return i=e.sent,ms((a=$s(i))&&a.exp&&a.auth_time&&a.iat,r.auth,"internal-error"),o="object"===typeof a.firebase?a.firebase:void 0,u=null===o||void 0===o?void 0:o.sign_in_provider,e.abrupt("return",{claims:a,token:i,authTime:Hs(Ks(a.auth_time)),issuedAtTime:Hs(Ks(a.iat)),expirationTime:Hs(Ks(a.exp)),signInProvider:u||null,signInSecondFactor:(null===o||void 0===o?void 0:o.sign_in_second_factor)||null});case 10:case"end":return e.stop()}}),e)}))),Gs.apply(this,arguments)}function Ks(e){return 1e3*Number(e)}function $s(e){var t,n=l(e.split("."),3),r=n[0],i=n[1],a=n[2];if(void 0===r||void 0===i||void 0===a)return cs("JWT malformed, contained fewer than 3 sections"),null;try{var o=W(i);return o?JSON.parse(o):(cs("Failed to decode base64 JWT payload"),null)}catch(u){return cs("Caught error parsing JWT payload as JSON",null===(t=u)||void 0===t?void 0:t.toString()),null}}function Ys(e,t){return Qs.apply(this,arguments)}function Qs(){return Qs=y(m().mark((function e(t,n){var r=arguments;return m().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(r.length>2&&void 0!==r[2]&&r[2])){e.next=3;break}return e.abrupt("return",n);case 3:return e.prev=3,e.next=6,n;case 6:return e.abrupt("return",e.sent);case 9:if(e.prev=9,e.t0=e.catch(3),!(e.t0 instanceof ie&&Js(e.t0))){e.next=15;break}if(t.auth.currentUser!==t){e.next=15;break}return e.next=15,t.auth.signOut();case 15:throw e.t0;case 16:case"end":return e.stop()}}),e,null,[[3,9]])}))),Qs.apply(this,arguments)}function Js(e){var t=e.code;return t==="auth/".concat("user-disabled")||t==="auth/".concat("user-token-expired")}var Xs=function(){function e(t){_(this,e),this.user=t,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}return w(e,[{key:"_start",value:function(){this.isRunning||(this.isRunning=!0,this.schedule())}},{key:"_stop",value:function(){this.isRunning&&(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}},{key:"getInterval",value:function(e){var t;if(e){var n=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),n}this.errorBackoff=3e4;var r=(null!==(t=this.user.stsTokenManager.expirationTime)&&void 0!==t?t:0)-Date.now()-3e5;return Math.max(0,r)}},{key:"schedule",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(this.isRunning){var n=this.getInterval(t);this.timerId=setTimeout(y(m().mark((function t(){return m().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.iteration();case 2:case"end":return t.stop()}}),t)}))),n)}}},{key:"iteration",value:function(){var e=y(m().mark((function e(){var t;return m().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,this.user.getIdToken(!0);case 3:e.next=9;break;case 5:return e.prev=5,e.t0=e.catch(0),(null===(t=e.t0)||void 0===t?void 0:t.code)==="auth/".concat("network-request-failed")&&this.schedule(!0),e.abrupt("return");case 9:this.schedule();case 10:case"end":return e.stop()}}),e,this,[[0,5]])})));return function(){return e.apply(this,arguments)}}()}]),e}(),Zs=function(){function e(t,n){_(this,e),this.createdAt=t,this.lastLoginAt=n,this._initializeTime()}return w(e,[{key:"_initializeTime",value:function(){this.lastSignInTime=Hs(this.lastLoginAt),this.creationTime=Hs(this.createdAt)}},{key:"_copy",value:function(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}},{key:"toJSON",value:function(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}]),e}();function el(e){return tl.apply(this,arguments)}function tl(){return tl=y(m().mark((function e(t){var n,r,i,a,o,u,s,l,c,d,f;return m().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.auth,e.next=3,t.getIdToken();case 3:return i=e.sent,e.next=6,Ys(t,qs(r,{idToken:i}));case 6:ms(null===(a=e.sent)||void 0===a?void 0:a.users.length,r,"internal-error"),o=a.users[0],t._notifyReloadListener(o),u=(null===(n=o.providerUserInfo)||void 0===n?void 0:n.length)?il(o.providerUserInfo):[],s=rl(t.providerData,u),l=t.isAnonymous,c=!(t.email&&o.passwordHash)&&!(null===s||void 0===s?void 0:s.length),d=!!l&&c,f={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:s,metadata:new Zs(o.createdAt,o.lastLoginAt),isAnonymous:d},Object.assign(t,f);case 17:case"end":return e.stop()}}),e)}))),tl.apply(this,arguments)}function nl(){return(nl=y(m().mark((function e(t){var n;return m().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=Se(t),e.next=3,el(n);case 3:return e.next=5,n.auth._persistUserIfCurrent(n);case 5:n.auth._notifyListenersIfCurrent(n);case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function rl(e,t){var n=e.filter((function(e){return!t.some((function(t){return t.providerId===e.providerId}))}));return[].concat(Te(n),Te(t))}function il(e){return e.map((function(e){var t=e.providerId,n=Gu(e,["providerId"]);return{providerId:t,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}}))}function al(e,t){return ol.apply(this,arguments)}function ol(){return ol=y(m().mark((function e(t,n){var r;return m().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Ds(t,{},y(m().mark((function e(){var r,i,a,o,u,s;return m().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=ge({grant_type:"refresh_token",refresh_token:n}).slice(1),i=t.config,a=i.tokenApiHost,o=i.apiKey,u=Ms(t,a,"/v1/token","key=".concat(o)),e.next=5,t._getAdditionalHeaders();case 5:return(s=e.sent)["Content-Type"]="application/x-www-form-urlencoded",e.abrupt("return",Ss.fetch()(u,{method:"POST",headers:s,body:r}));case 8:case"end":return e.stop()}}),e)}))));case 2:return r=e.sent,e.abrupt("return",{accessToken:r.access_token,expiresIn:r.expires_in,refreshToken:r.refresh_token});case 4:case"end":return e.stop()}}),e)}))),ol.apply(this,arguments)}var ul=function(){function e(){_(this,e),this.refreshToken=null,this.accessToken=null,this.expirationTime=null}return w(e,[{key:"isExpired",get:function(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}},{key:"updateFromServerResponse",value:function(e){ms(e.idToken,"internal-error"),ms("undefined"!==typeof e.idToken,"internal-error"),ms("undefined"!==typeof e.refreshToken,"internal-error");var t="expiresIn"in e&&"undefined"!==typeof e.expiresIn?Number(e.expiresIn):function(e){var t=$s(e);return ms(t,"internal-error"),ms("undefined"!==typeof t.exp,"internal-error"),ms("undefined"!==typeof t.iat,"internal-error"),Number(t.exp)-Number(t.iat)}(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}},{key:"getToken",value:function(){var e=y(m().mark((function e(t){var n,r=arguments;return m().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=r.length>1&&void 0!==r[1]&&r[1],ms(!this.accessToken||this.refreshToken,t,"user-token-expired"),n||!this.accessToken||this.isExpired){e.next=4;break}return e.abrupt("return",this.accessToken);case 4:if(!this.refreshToken){e.next=8;break}return e.next=7,this.refresh(t,this.refreshToken);case 7:return e.abrupt("return",this.accessToken);case 8:return e.abrupt("return",null);case 9:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"clearRefreshToken",value:function(){this.refreshToken=null}},{key:"refresh",value:function(){var e=y(m().mark((function e(t,n){var r,i,a,o;return m().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,al(t,n);case 2:r=e.sent,i=r.accessToken,a=r.refreshToken,o=r.expiresIn,this.updateTokensAndExpiration(i,a,Number(o));case 7:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"updateTokensAndExpiration",value:function(e,t,n){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+1e3*n}},{key:"toJSON",value:function(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}},{key:"_assign",value:function(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}},{key:"_clone",value:function(){return Object.assign(new e,this.toJSON())}},{key:"_performRefresh",value:function(){return gs("not implemented")}}],[{key:"fromJSON",value:function(t,n){var r=n.refreshToken,i=n.accessToken,a=n.expirationTime,o=new e;return r&&(ms("string"===typeof r,"internal-error",{appName:t}),o.refreshToken=r),i&&(ms("string"===typeof i,"internal-error",{appName:t}),o.accessToken=i),a&&(ms("number"===typeof a,"internal-error",{appName:t}),o.expirationTime=a),o}}]),e}();function sl(e,t){ms("string"===typeof e||"undefined"===typeof e,"internal-error",{appName:t})}var ll=function(){function e(t){_(this,e);var n=t.uid,r=t.auth,i=t.stsTokenManager,a=Gu(t,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new Xs(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=r,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=a.displayName||null,this.email=a.email||null,this.emailVerified=a.emailVerified||!1,this.phoneNumber=a.phoneNumber||null,this.photoURL=a.photoURL||null,this.isAnonymous=a.isAnonymous||!1,this.tenantId=a.tenantId||null,this.providerData=a.providerData?Te(a.providerData):[],this.metadata=new Zs(a.createdAt||void 0,a.lastLoginAt||void 0)}return w(e,[{key:"getIdToken",value:function(){var e=y(m().mark((function e(t){var n;return m().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Ys(this,this.stsTokenManager.getToken(this.auth,t));case 2:if(ms(n=e.sent,this.auth,"internal-error"),this.accessToken===n){e.next=9;break}return this.accessToken=n,e.next=8,this.auth._persistUserIfCurrent(this);case 8:this.auth._notifyListenersIfCurrent(this);case 9:return e.abrupt("return",n);case 10:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"getIdTokenResult",value:function(e){return function(e){return Gs.apply(this,arguments)}(this,e)}},{key:"reload",value:function(){return function(e){return nl.apply(this,arguments)}(this)}},{key:"_assign",value:function(e){this!==e&&(ms(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map((function(e){return Object.assign({},e)})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}},{key:"_clone",value:function(t){return new e(Object.assign(Object.assign({},this),{auth:t,stsTokenManager:this.stsTokenManager._clone()}))}},{key:"_onReload",value:function(e){ms(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}},{key:"_notifyReloadListener",value:function(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}},{key:"_startProactiveRefresh",value:function(){this.proactiveRefresh._start()}},{key:"_stopProactiveRefresh",value:function(){this.proactiveRefresh._stop()}},{key:"_updateTokensIfNecessary",value:function(){var e=y(m().mark((function e(t){var n,r,i=arguments;return m().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=i.length>1&&void 0!==i[1]&&i[1],r=!1,t.idToken&&t.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(t),r=!0),!n){e.next=6;break}return e.next=6,el(this);case 6:return e.next=8,this.auth._persistUserIfCurrent(this);case 8:r&&this.auth._notifyListenersIfCurrent(this);case 9:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"delete",value:function(){var e=y(m().mark((function e(){var t;return m().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.getIdToken();case 2:return t=e.sent,e.next=5,Ys(this,js(this.auth,{idToken:t}));case 5:return this.stsTokenManager.clearRefreshToken(),e.abrupt("return",this.auth.signOut());case 7:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"toJSON",value:function(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map((function(e){return Object.assign({},e)})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}},{key:"refreshToken",get:function(){return this.stsTokenManager.refreshToken||""}}],[{key:"_fromJSON",value:function(t,n){var r,i,a,o,u,s,l,c,d=null!==(r=n.displayName)&&void 0!==r?r:void 0,f=null!==(i=n.email)&&void 0!==i?i:void 0,h=null!==(a=n.phoneNumber)&&void 0!==a?a:void 0,p=null!==(o=n.photoURL)&&void 0!==o?o:void 0,v=null!==(u=n.tenantId)&&void 0!==u?u:void 0,m=null!==(s=n._redirectEventId)&&void 0!==s?s:void 0,g=null!==(l=n.createdAt)&&void 0!==l?l:void 0,y=null!==(c=n.lastLoginAt)&&void 0!==c?c:void 0,b=n.uid,_=n.emailVerified,k=n.isAnonymous,w=n.providerData,x=n.stsTokenManager;ms(b&&x,t,"internal-error");var I=ul.fromJSON(this.name,x);ms("string"===typeof b,t,"internal-error"),sl(d,t.name),sl(f,t.name),ms("boolean"===typeof _,t,"internal-error"),ms("boolean"===typeof k,t,"internal-error"),sl(h,t.name),sl(p,t.name),sl(v,t.name),sl(m,t.name),sl(g,t.name),sl(y,t.name);var E=new e({uid:b,auth:t,email:f,emailVerified:_,displayName:d,isAnonymous:k,photoURL:p,phoneNumber:h,tenantId:v,stsTokenManager:I,createdAt:g,lastLoginAt:y});return w&&Array.isArray(w)&&(E.providerData=w.map((function(e){return Object.assign({},e)}))),m&&(E._redirectEventId=m),E}},{key:"_fromIdTokenResponse",value:function(){var t=y(m().mark((function t(n,r){var i,a,o,u=arguments;return m().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return i=u.length>2&&void 0!==u[2]&&u[2],(a=new ul).updateFromServerResponse(r),o=new e({uid:r.localId,auth:n,stsTokenManager:a,isAnonymous:i}),t.next=6,el(o);case 6:return t.abrupt("return",o);case 7:case"end":return t.stop()}}),t)})));return function(e,n){return t.apply(this,arguments)}}()}]),e}(),cl=function(){function e(){_(this,e),this.type="NONE",this.storage={}}return w(e,[{key:"_isAvailable",value:function(){var e=y(m().mark((function e(){return m().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",!0);case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()},{key:"_set",value:function(){var e=y(m().mark((function e(t,n){return m().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.storage[t]=n;case 1:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"_get",value:function(){var e=y(m().mark((function e(t){var n;return m().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=this.storage[t],e.abrupt("return",void 0===n?null:n);case 2:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_remove",value:function(){var e=y(m().mark((function e(t){return m().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:delete this.storage[t];case 1:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_addListener",value:function(e,t){}},{key:"_removeListener",value:function(e,t){}}]),e}();cl.type="NONE";var dl=cl;function fl(e,t,n){return"firebase".concat(":",e,":").concat(t,":").concat(n)}var hl=function(){function e(t,n,r){_(this,e),this.persistence=t,this.auth=n,this.userKey=r;var i=this.auth,a=i.config,o=i.name;this.fullUserKey=fl(this.userKey,a.apiKey,o),this.fullPersistenceKey=fl("persistence",a.apiKey,o),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}return w(e,[{key:"setCurrentUser",value:function(e){return this.persistence._set(this.fullUserKey,e.toJSON())}},{key:"getCurrentUser",value:function(){var e=y(m().mark((function e(){var t;return m().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.persistence._get(this.fullUserKey);case 2:return t=e.sent,e.abrupt("return",t?ll._fromJSON(this.auth,t):null);case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"removeCurrentUser",value:function(){return this.persistence._remove(this.fullUserKey)}},{key:"savePersistenceForRedirect",value:function(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}},{key:"setPersistence",value:function(){var e=y(m().mark((function e(t){var n;return m().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.persistence!==t){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,this.getCurrentUser();case 4:return n=e.sent,e.next=7,this.removeCurrentUser();case 7:if(this.persistence=t,!n){e.next=10;break}return e.abrupt("return",this.setCurrentUser(n));case 10:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"delete",value:function(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}}],[{key:"create",value:function(){var t=y(m().mark((function t(n,r){var i,a,o,u,s,l,c,d,f,h,p,v=arguments;return m().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(i=v.length>2&&void 0!==v[2]?v[2]:"authUser",r.length){t.next=3;break}return t.abrupt("return",new e(_s(dl),n,i));case 3:return t.next=5,Promise.all(r.map(function(){var e=y(m().mark((function e(t){return m().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t._isAvailable();case 2:if(!e.sent){e.next=4;break}return e.abrupt("return",t);case 4:return e.abrupt("return",void 0);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()));case 5:a=t.sent.filter((function(e){return e})),o=a[0]||_s(dl),u=fl(i,n.config.apiKey,n.name),s=null,l=x(r),t.prev=10,l.s();case 12:if((c=l.n()).done){t.next=29;break}return d=c.value,t.prev=14,t.next=17,d._get(u);case 17:if(!(f=t.sent)){t.next=23;break}return h=ll._fromJSON(n,f),d!==o&&(s=h),o=d,t.abrupt("break",29);case 23:t.next=27;break;case 25:t.prev=25,t.t0=t.catch(14);case 27:t.next=12;break;case 29:t.next=34;break;case 31:t.prev=31,t.t1=t.catch(10),l.e(t.t1);case 34:return t.prev=34,l.f(),t.finish(34);case 37:if(p=a.filter((function(e){return e._shouldAllowMigration})),o._shouldAllowMigration&&p.length){t.next=40;break}return t.abrupt("return",new e(o,n,i));case 40:if(o=p[0],!s){t.next=44;break}return t.next=44,o._set(u,s.toJSON());case 44:return t.next=46,Promise.all(r.map(function(){var e=y(m().mark((function e(t){return m().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t===o){e.next=8;break}return e.prev=1,e.next=4,t._remove(u);case 4:e.next=8;break;case 6:e.prev=6,e.t0=e.catch(1);case 8:case"end":return e.stop()}}),e,null,[[1,6]])})));return function(t){return e.apply(this,arguments)}}()));case 46:return t.abrupt("return",new e(o,n,i));case 47:case"end":return t.stop()}}),t,null,[[10,31,34,37],[14,25]])})));return function(e,n){return t.apply(this,arguments)}}()}]),e}();function pl(e){var t=e.toLowerCase();if(t.includes("opera/")||t.includes("opr/")||t.includes("opios/"))return"Opera";if(yl(t))return"IEMobile";if(t.includes("msie")||t.includes("trident/"))return"IE";if(t.includes("edge/"))return"Edge";if(vl(t))return"Firefox";if(t.includes("silk/"))return"Silk";if(_l(t))return"Blackberry";if(kl(t))return"Webos";if(ml(t))return"Safari";if((t.includes("chrome/")||gl(t))&&!t.includes("edge/"))return"Chrome";if(bl(t))return"Android";var n=e.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/);return 2===(null===n||void 0===n?void 0:n.length)?n[1]:"Other"}function vl(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:V();return/firefox\//i.test(e)}function ml(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:V(),t=e.toLowerCase();return t.includes("safari/")&&!t.includes("chrome/")&&!t.includes("crios/")&&!t.includes("android")}function gl(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:V();return/crios\//i.test(e)}function yl(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:V();return/iemobile/i.test(e)}function bl(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:V();return/android/i.test(e)}function _l(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:V();return/blackberry/i.test(e)}function kl(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:V();return/webos/i.test(e)}function wl(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:V();return/iphone|ipad|ipod/i.test(e)||/macintosh/i.test(e)&&/mobile/i.test(e)}function xl(){var e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:V();return wl(t)&&!!(null===(e=window.navigator)||void 0===e?void 0:e.standalone)}function Il(){return Y()&&10===document.documentMode}function El(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:V();return wl(e)||bl(e)||kl(e)||_l(e)||/windows phone/i.test(e)||yl(e)}function Sl(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];switch(e){case"Browser":t=pl(V());break;case"Worker":t="".concat(pl(V()),"-").concat(e);break;default:t=e}var r=n.length?n.join(","):"FirebaseCore-web";return"".concat(t,"/","JsCore","/").concat(It,"/").concat(r)}var Cl=function(){function e(t){_(this,e),this.auth=t,this.queue=[]}return w(e,[{key:"pushCallback",value:function(e,t){var n=this,r=function(t){return new Promise((function(n,r){try{n(e(t))}catch(i){r(i)}}))};r.onAbort=t,this.queue.push(r);var i=this.queue.length-1;return function(){n.queue[i]=function(){return Promise.resolve()}}}},{key:"runMiddleware",value:function(){var e=y(m().mark((function e(t){var n,r,i,a,o,u,s,l;return m().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.auth.currentUser!==t){e.next=2;break}return e.abrupt("return");case 2:r=[],e.prev=3,i=x(this.queue),e.prev=5,i.s();case 7:if((a=i.n()).done){e.next=14;break}return o=a.value,e.next=11,o(t);case 11:o.onAbort&&r.push(o.onAbort);case 12:e.next=7;break;case 14:e.next=19;break;case 16:e.prev=16,e.t0=e.catch(5),i.e(e.t0);case 19:return e.prev=19,i.f(),e.finish(19);case 22:e.next=30;break;case 24:e.prev=24,e.t1=e.catch(3),r.reverse(),u=x(r);try{for(u.s();!(s=u.n()).done;){l=s.value;try{l()}catch(c){}}}catch(d){u.e(d)}finally{u.f()}throw this.auth._errorFactory.create("login-blocked",{originalMessage:null===(n=e.t1)||void 0===n?void 0:n.message});case 30:case"end":return e.stop()}}),e,this,[[3,24],[5,16,19,22]])})));return function(t){return e.apply(this,arguments)}}()}]),e}(),Tl=function(){function e(t,n,r){_(this,e),this.app=t,this.heartbeatServiceProvider=n,this.config=r,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Nl(this),this.idTokenSubscription=new Nl(this),this.beforeStateQueue=new Cl(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=ss,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=t.name,this.clientVersion=r.sdkClientVersion}return w(e,[{key:"_initializeWithPersistence",value:function(e,t){var n=this;return t&&(this._popupRedirectResolver=_s(t)),this._initializationPromise=this.queue(y(m().mark((function r(){var i,a;return m().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(!n._deleted){r.next=2;break}return r.abrupt("return");case 2:return r.next=4,hl.create(n,e);case 4:if(n.persistenceManager=r.sent,!n._deleted){r.next=7;break}return r.abrupt("return");case 7:if(!(null===(i=n._popupRedirectResolver)||void 0===i?void 0:i._shouldInitProactively)){r.next=15;break}return r.prev=8,r.next=11,n._popupRedirectResolver._initialize(n);case 11:r.next=15;break;case 13:r.prev=13,r.t0=r.catch(8);case 15:return r.next=17,n.initializeCurrentUser(t);case 17:if(n.lastNotifiedUid=(null===(a=n.currentUser)||void 0===a?void 0:a.uid)||null,!n._deleted){r.next=20;break}return r.abrupt("return");case 20:n._isInitialized=!0;case 21:case"end":return r.stop()}}),r,null,[[8,13]])})))),this._initializationPromise}},{key:"_onStorageEvent",value:function(){var e=y(m().mark((function e(){var t;return m().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this._deleted){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,this.assertedPersistence.getCurrentUser();case 4:if(t=e.sent,this.currentUser||t){e.next=7;break}return e.abrupt("return");case 7:if(!this.currentUser||!t||this.currentUser.uid!==t.uid){e.next=12;break}return this._currentUser._assign(t),e.next=11,this.currentUser.getIdToken();case 11:return e.abrupt("return");case 12:return e.next=14,this._updateCurrentUser(t,!0);case 14:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"initializeCurrentUser",value:function(){var e=y(m().mark((function e(t){var n,r,i,a,o,u,s;return m().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.assertedPersistence.getCurrentUser();case 2:if(r=e.sent,i=r,a=!1,!t||!this.config.authDomain){e.next=14;break}return e.next=8,this.getOrInitRedirectPersistenceManager();case 8:return o=null===(n=this.redirectUser)||void 0===n?void 0:n._redirectEventId,u=null===i||void 0===i?void 0:i._redirectEventId,e.next=12,this.tryRedirectSignIn(t);case 12:s=e.sent,o&&o!==u||!(null===s||void 0===s?void 0:s.user)||(i=s.user,a=!0);case 14:if(i){e.next=16;break}return e.abrupt("return",this.directlySetCurrentUser(null));case 16:if(i._redirectEventId){e.next=32;break}if(!a){e.next=27;break}return e.prev=18,e.next=21,this.beforeStateQueue.runMiddleware(i);case 21:e.next=27;break;case 23:e.prev=23,e.t0=e.catch(18),i=r,this._popupRedirectResolver._overrideRedirectResult(this,(function(){return Promise.reject(e.t0)}));case 27:if(!i){e.next=31;break}return e.abrupt("return",this.reloadAndSetCurrentUserOrClear(i));case 31:return e.abrupt("return",this.directlySetCurrentUser(null));case 32:return ms(this._popupRedirectResolver,this,"argument-error"),e.next=35,this.getOrInitRedirectPersistenceManager();case 35:if(!this.redirectUser||this.redirectUser._redirectEventId!==i._redirectEventId){e.next=37;break}return e.abrupt("return",this.directlySetCurrentUser(i));case 37:return e.abrupt("return",this.reloadAndSetCurrentUserOrClear(i));case 38:case"end":return e.stop()}}),e,this,[[18,23]])})));return function(t){return e.apply(this,arguments)}}()},{key:"tryRedirectSignIn",value:function(){var e=y(m().mark((function e(t){var n;return m().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=null,e.prev=1,e.next=4,this._popupRedirectResolver._completeRedirectFn(this,t,!0);case 4:n=e.sent,e.next=11;break;case 7:return e.prev=7,e.t0=e.catch(1),e.next=11,this._setRedirectUser(null);case 11:return e.abrupt("return",n);case 12:case"end":return e.stop()}}),e,this,[[1,7]])})));return function(t){return e.apply(this,arguments)}}()},{key:"reloadAndSetCurrentUserOrClear",value:function(){var e=y(m().mark((function e(t){var n;return m().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,el(t);case 3:e.next=9;break;case 5:if(e.prev=5,e.t0=e.catch(0),(null===(n=e.t0)||void 0===n?void 0:n.code)==="auth/".concat("network-request-failed")){e.next=9;break}return e.abrupt("return",this.directlySetCurrentUser(null));case 9:return e.abrupt("return",this.directlySetCurrentUser(t));case 10:case"end":return e.stop()}}),e,this,[[0,5]])})));return function(t){return e.apply(this,arguments)}}()},{key:"useDeviceLanguage",value:function(){this.languageCode=function(){if("undefined"===typeof navigator)return null;var e=navigator;return e.languages&&e.languages[0]||e.language||null}()}},{key:"_delete",value:function(){var e=y(m().mark((function e(){return m().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this._deleted=!0;case 1:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"updateCurrentUser",value:function(){var e=y(m().mark((function e(t){var n;return m().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(n=t?Se(t):null)&&ms(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),e.abrupt("return",this._updateCurrentUser(n&&n._clone(this)));case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_updateCurrentUser",value:function(){var e=y(m().mark((function e(t){var n,r=this,i=arguments;return m().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=i.length>1&&void 0!==i[1]&&i[1],!this._deleted){e.next=3;break}return e.abrupt("return");case 3:if(t&&ms(this.tenantId===t.tenantId,this,"tenant-id-mismatch"),n){e.next=7;break}return e.next=7,this.beforeStateQueue.runMiddleware(t);case 7:return e.abrupt("return",this.queue(y(m().mark((function e(){return m().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,r.directlySetCurrentUser(t);case 2:r.notifyAuthListeners();case 3:case"end":return e.stop()}}),e)})))));case 8:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"signOut",value:function(){var e=y(m().mark((function e(){return m().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.beforeStateQueue.runMiddleware(null);case 2:if(!this.redirectPersistenceManager&&!this._popupRedirectResolver){e.next=5;break}return e.next=5,this._setRedirectUser(null);case 5:return e.abrupt("return",this._updateCurrentUser(null,!0));case 6:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"setPersistence",value:function(e){var t=this;return this.queue(y(m().mark((function n(){return m().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,t.assertedPersistence.setPersistence(_s(e));case 2:case"end":return n.stop()}}),n)}))))}},{key:"_getPersistence",value:function(){return this.assertedPersistence.persistence.type}},{key:"_updateErrorMap",value:function(e){this._errorFactory=new ae("auth","Firebase",e())}},{key:"onAuthStateChanged",value:function(e,t,n){return this.registerStateListener(this.authStateSubscription,e,t,n)}},{key:"beforeAuthStateChanged",value:function(e,t){return this.beforeStateQueue.pushCallback(e,t)}},{key:"onIdTokenChanged",value:function(e,t,n){return this.registerStateListener(this.idTokenSubscription,e,t,n)}},{key:"toJSON",value:function(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(e=this._currentUser)||void 0===e?void 0:e.toJSON()}}},{key:"_setRedirectUser",value:function(){var e=y(m().mark((function e(t,n){var r;return m().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.getOrInitRedirectPersistenceManager(n);case 2:return r=e.sent,e.abrupt("return",null===t?r.removeCurrentUser():r.setCurrentUser(t));case 4:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"getOrInitRedirectPersistenceManager",value:function(){var e=y(m().mark((function e(t){var n;return m().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.redirectPersistenceManager){e.next=9;break}return ms(n=t&&_s(t)||this._popupRedirectResolver,this,"argument-error"),e.next=5,hl.create(this,[_s(n._redirectPersistence)],"redirectUser");case 5:return this.redirectPersistenceManager=e.sent,e.next=8,this.redirectPersistenceManager.getCurrentUser();case 8:this.redirectUser=e.sent;case 9:return e.abrupt("return",this.redirectPersistenceManager);case 10:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_redirectUserForId",value:function(){var e=y(m().mark((function e(t){var n,r;return m().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this._isInitialized){e.next=3;break}return e.next=3,this.queue(y(m().mark((function e(){return m().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)}))));case 3:if((null===(n=this._currentUser)||void 0===n?void 0:n._redirectEventId)!==t){e.next=5;break}return e.abrupt("return",this._currentUser);case 5:if((null===(r=this.redirectUser)||void 0===r?void 0:r._redirectEventId)!==t){e.next=7;break}return e.abrupt("return",this.redirectUser);case 7:return e.abrupt("return",null);case 8:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_persistUserIfCurrent",value:function(){var e=y(m().mark((function e(t){var n=this;return m().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t!==this.currentUser){e.next=2;break}return e.abrupt("return",this.queue(y(m().mark((function e(){return m().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",n.directlySetCurrentUser(t));case 1:case"end":return e.stop()}}),e)})))));case 2:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_notifyListenersIfCurrent",value:function(e){e===this.currentUser&&this.notifyAuthListeners()}},{key:"_key",value:function(){return"".concat(this.config.authDomain,":").concat(this.config.apiKey,":").concat(this.name)}},{key:"_startProactiveRefresh",value:function(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}},{key:"_stopProactiveRefresh",value:function(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}},{key:"_currentUser",get:function(){return this.currentUser}},{key:"notifyAuthListeners",value:function(){var e,t;if(this._isInitialized){this.idTokenSubscription.next(this.currentUser);var n=null!==(t=null===(e=this.currentUser)||void 0===e?void 0:e.uid)&&void 0!==t?t:null;this.lastNotifiedUid!==n&&(this.lastNotifiedUid=n,this.authStateSubscription.next(this.currentUser))}}},{key:"registerStateListener",value:function(e,t,n,r){var i=this;if(this._deleted)return function(){};var a="function"===typeof t?t:t.next.bind(t),o=this._isInitialized?Promise.resolve():this._initializationPromise;return ms(o,this,"internal-error"),o.then((function(){return a(i.currentUser)})),"function"===typeof t?e.addObserver(t,n,r):e.addObserver(t)}},{key:"directlySetCurrentUser",value:function(){var e=y(m().mark((function e(t){return m().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.currentUser&&this.currentUser!==t&&this._currentUser._stopProactiveRefresh(),t&&this.isProactiveRefreshEnabled&&t._startProactiveRefresh(),this.currentUser=t,!t){e.next=8;break}return e.next=6,this.assertedPersistence.setCurrentUser(t);case 6:e.next=10;break;case 8:return e.next=10,this.assertedPersistence.removeCurrentUser();case 10:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"queue",value:function(e){return this.operations=this.operations.then(e,e),this.operations}},{key:"assertedPersistence",get:function(){return ms(this.persistenceManager,this,"internal-error"),this.persistenceManager}},{key:"_logFramework",value:function(e){e&&!this.frameworks.includes(e)&&(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=Sl(this.config.clientPlatform,this._getFrameworks()))}},{key:"_getFrameworks",value:function(){return this.frameworks}},{key:"_getAdditionalHeaders",value:function(){var e=y(m().mark((function e(){var t,n,r;return m().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=b({},"X-Client-Version",this.clientVersion),this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId),e.next=4,null===(t=this.heartbeatServiceProvider.getImmediate({optional:!0}))||void 0===t?void 0:t.getHeartbeatsHeader();case 4:return(r=e.sent)&&(n["X-Firebase-Client"]=r),e.abrupt("return",n);case 7:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),e}();function Pl(e){return Se(e)}var Nl=function(){function e(t){var n=this;_(this,e),this.auth=t,this.observer=null,this.addObserver=ke((function(e){return n.observer=e}))}return w(e,[{key:"next",get:function(){return ms(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}]),e}();function Rl(e,t,n){var r=Pl(e);ms(r._canInitEmulator,r,"emulator-config-failed"),ms(/^https?:\/\//.test(t),r,"invalid-emulator-scheme");var i=!!(null===n||void 0===n?void 0:n.disableWarnings),a=Dl(t),o=function(e){var t=Dl(e),n=/(\/\/)?([^?#/]+)/.exec(e.substr(t.length));if(!n)return{host:"",port:null};var r=n[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){var a=i[1];return{host:a,port:Al(r.substr(a.length+1))}}var o=l(r.split(":"),2);return{host:o[0],port:Al(o[1])}}(t),u=o.host,s=o.port,c=null===s?"":":".concat(s);r.config.emulator={url:"".concat(a,"//").concat(u).concat(c,"/")},r.settings.appVerificationDisabledForTesting=!0,r.emulatorConfig=Object.freeze({host:u,port:s,protocol:a.replace(":",""),options:Object.freeze({disableWarnings:i})}),i||function(){function e(){var e=document.createElement("p"),t=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",t.position="fixed",t.width="100%",t.backgroundColor="#ffffff",t.border=".1em solid #000000",t.color="#b50000",t.bottom="0px",t.left="0px",t.margin="0px",t.zIndex="10000",t.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}"undefined"!==typeof console&&"function"===typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials.");"undefined"!==typeof window&&"undefined"!==typeof document&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",e):e())}()}function Dl(e){var t=e.indexOf(":");return t<0?"":e.substr(0,t+1)}function Al(e){if(!e)return null;var t=Number(e);return isNaN(t)?null:t}var Ol=function(){function e(t,n){_(this,e),this.providerId=t,this.signInMethod=n}return w(e,[{key:"toJSON",value:function(){return gs("not implemented")}},{key:"_getIdTokenResponse",value:function(e){return gs("not implemented")}},{key:"_linkToIdToken",value:function(e,t){return gs("not implemented")}},{key:"_getReauthenticationResolver",value:function(e){return gs("not implemented")}}]),e}();function Ll(e,t){return Ml.apply(this,arguments)}function Ml(){return Ml=y(m().mark((function e(t,n){return m().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Ns(t,"POST","/v1/accounts:resetPassword",Ps(t,n)));case 1:case"end":return e.stop()}}),e)}))),Ml.apply(this,arguments)}function Fl(e,t){return Ul.apply(this,arguments)}function Ul(){return Ul=y(m().mark((function e(t,n){return m().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Ns(t,"POST","/v1/accounts:update",n));case 1:case"end":return e.stop()}}),e)}))),Ul.apply(this,arguments)}function jl(e,t){return Bl.apply(this,arguments)}function Bl(){return Bl=y(m().mark((function e(t,n){return m().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Ns(t,"POST","/v1/accounts:update",Ps(t,n)));case 1:case"end":return e.stop()}}),e)}))),Bl.apply(this,arguments)}function zl(e,t){return Wl.apply(this,arguments)}function Wl(){return Wl=y(m().mark((function e(t,n){return m().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Os(t,"POST","/v1/accounts:signInWithPassword",Ps(t,n)));case 1:case"end":return e.stop()}}),e)}))),Wl.apply(this,arguments)}function ql(e,t){return Vl.apply(this,arguments)}function Vl(){return Vl=y(m().mark((function e(t,n){return m().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Ns(t,"POST","/v1/accounts:sendOobCode",Ps(t,n)));case 1:case"end":return e.stop()}}),e)}))),Vl.apply(this,arguments)}function Hl(e,t){return Gl.apply(this,arguments)}function Gl(){return Gl=y(m().mark((function e(t,n){return m().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",ql(t,n));case 1:case"end":return e.stop()}}),e)}))),Gl.apply(this,arguments)}function Kl(e,t){return $l.apply(this,arguments)}function $l(){return $l=y(m().mark((function e(t,n){return m().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",ql(t,n));case 1:case"end":return e.stop()}}),e)}))),$l.apply(this,arguments)}function Yl(e,t){return Ql.apply(this,arguments)}function Ql(){return Ql=y(m().mark((function e(t,n){return m().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",ql(t,n));case 1:case"end":return e.stop()}}),e)}))),Ql.apply(this,arguments)}function Jl(e,t){return Xl.apply(this,arguments)}function Xl(){return Xl=y(m().mark((function e(t,n){return m().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",ql(t,n));case 1:case"end":return e.stop()}}),e)}))),Xl.apply(this,arguments)}function Zl(e,t){return ec.apply(this,arguments)}function ec(){return ec=y(m().mark((function e(t,n){return m().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Os(t,"POST","/v1/accounts:signInWithEmailLink",Ps(t,n)));case 1:case"end":return e.stop()}}),e)}))),ec.apply(this,arguments)}function tc(e,t){return nc.apply(this,arguments)}function nc(){return nc=y(m().mark((function e(t,n){return m().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Os(t,"POST","/v1/accounts:signInWithEmailLink",Ps(t,n)));case 1:case"end":return e.stop()}}),e)}))),nc.apply(this,arguments)}var rc=function(e){S(n,e);var t=N(n);function n(e,r,i){var a,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;return _(this,n),(a=t.call(this,"password",i))._email=e,a._password=r,a._tenantId=o,a}return w(n,[{key:"toJSON",value:function(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}},{key:"_getIdTokenResponse",value:function(){var e=y(m().mark((function e(t){return m().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:e.t0=this.signInMethod,e.next="password"===e.t0?3:"emailLink"===e.t0?4:5;break;case 3:return e.abrupt("return",zl(t,{returnSecureToken:!0,email:this._email,password:this._password}));case 4:return e.abrupt("return",Zl(t,{email:this._email,oobCode:this._password}));case 5:ds(t,"internal-error");case 6:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_linkToIdToken",value:function(){var e=y(m().mark((function e(t,n){return m().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:e.t0=this.signInMethod,e.next="password"===e.t0?3:"emailLink"===e.t0?4:5;break;case 3:return e.abrupt("return",Fl(t,{idToken:n,returnSecureToken:!0,email:this._email,password:this._password}));case 4:return e.abrupt("return",tc(t,{idToken:n,email:this._email,oobCode:this._password}));case 5:ds(t,"internal-error");case 6:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"_getReauthenticationResolver",value:function(e){return this._getIdTokenResponse(e)}}],[{key:"_fromEmailAndPassword",value:function(e,t){return new n(e,t,"password")}},{key:"_fromEmailAndCode",value:function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;return new n(e,t,"emailLink",r)}},{key:"fromJSON",value:function(e){var t="string"===typeof e?JSON.parse(e):e;if((null===t||void 0===t?void 0:t.email)&&(null===t||void 0===t?void 0:t.password)){if("password"===t.signInMethod)return this._fromEmailAndPassword(t.email,t.password);if("emailLink"===t.signInMethod)return this._fromEmailAndCode(t.email,t.password,t.tenantId)}return null}}]),n}(Ol);function ic(e,t){return ac.apply(this,arguments)}function ac(){return ac=y(m().mark((function e(t,n){return m().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Os(t,"POST","/v1/accounts:signInWithIdp",Ps(t,n)));case 1:case"end":return e.stop()}}),e)}))),ac.apply(this,arguments)}var oc=function(e){S(n,e);var t=N(n);function n(){var e;return _(this,n),(e=t.apply(this,arguments)).pendingToken=null,e}return w(n,[{key:"toJSON",value:function(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}},{key:"_getIdTokenResponse",value:function(e){return ic(e,this.buildRequest())}},{key:"_linkToIdToken",value:function(e,t){var n=this.buildRequest();return n.idToken=t,ic(e,n)}},{key:"_getReauthenticationResolver",value:function(e){var t=this.buildRequest();return t.autoCreate=!1,ic(e,t)}},{key:"buildRequest",value:function(){var e={requestUri:"http://localhost",returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{var t={};this.idToken&&(t.id_token=this.idToken),this.accessToken&&(t.access_token=this.accessToken),this.secret&&(t.oauth_token_secret=this.secret),t.providerId=this.providerId,this.nonce&&!this.pendingToken&&(t.nonce=this.nonce),e.postBody=ge(t)}return e}}],[{key:"_fromParams",value:function(e){var t=new n(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(t.idToken=e.idToken),e.accessToken&&(t.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(t.nonce=e.nonce),e.pendingToken&&(t.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(t.accessToken=e.oauthToken,t.secret=e.oauthTokenSecret):ds("argument-error"),t}},{key:"fromJSON",value:function(e){var t="string"===typeof e?JSON.parse(e):e,r=t.providerId,i=t.signInMethod,a=Gu(t,["providerId","signInMethod"]);if(!r||!i)return null;var o=new n(r,i);return o.idToken=a.idToken||void 0,o.accessToken=a.accessToken||void 0,o.secret=a.secret,o.nonce=a.nonce,o.pendingToken=a.pendingToken||null,o}}]),n}(Ol);function uc(e,t){return sc.apply(this,arguments)}function sc(){return sc=y(m().mark((function e(t,n){return m().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Ns(t,"POST","/v1/accounts:sendVerificationCode",Ps(t,n)));case 1:case"end":return e.stop()}}),e)}))),sc.apply(this,arguments)}function lc(){return lc=y(m().mark((function e(t,n){return m().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Os(t,"POST","/v1/accounts:signInWithPhoneNumber",Ps(t,n)));case 1:case"end":return e.stop()}}),e)}))),lc.apply(this,arguments)}function cc(){return cc=y(m().mark((function e(t,n){var r;return m().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Os(t,"POST","/v1/accounts:signInWithPhoneNumber",Ps(t,n));case 2:if(!(r=e.sent).temporaryProof){e.next=5;break}throw Us(t,"account-exists-with-different-credential",r);case 5:return e.abrupt("return",r);case 6:case"end":return e.stop()}}),e)}))),cc.apply(this,arguments)}var dc=b({},"USER_NOT_FOUND","user-not-found");function fc(){return fc=y(m().mark((function e(t,n){var r;return m().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Object.assign(Object.assign({},n),{operation:"REAUTH"}),e.abrupt("return",Os(t,"POST","/v1/accounts:signInWithPhoneNumber",Ps(t,r),dc));case 2:case"end":return e.stop()}}),e)}))),fc.apply(this,arguments)}var hc=function(e){S(n,e);var t=N(n);function n(e){var r;return _(this,n),(r=t.call(this,"phone","phone")).params=e,r}return w(n,[{key:"_getIdTokenResponse",value:function(e){return function(e,t){return lc.apply(this,arguments)}(e,this._makeVerificationRequest())}},{key:"_linkToIdToken",value:function(e,t){return function(e,t){return cc.apply(this,arguments)}(e,Object.assign({idToken:t},this._makeVerificationRequest()))}},{key:"_getReauthenticationResolver",value:function(e){return function(e,t){return fc.apply(this,arguments)}(e,this._makeVerificationRequest())}},{key:"_makeVerificationRequest",value:function(){var e=this.params,t=e.temporaryProof,n=e.phoneNumber,r=e.verificationId,i=e.verificationCode;return t&&n?{temporaryProof:t,phoneNumber:n}:{sessionInfo:r,code:i}}},{key:"toJSON",value:function(){var e={providerId:this.providerId};return this.params.phoneNumber&&(e.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(e.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(e.verificationCode=this.params.verificationCode),this.params.verificationId&&(e.verificationId=this.params.verificationId),e}}],[{key:"_fromVerification",value:function(e,t){return new n({verificationId:e,verificationCode:t})}},{key:"_fromTokenResponse",value:function(e,t){return new n({phoneNumber:e,temporaryProof:t})}},{key:"fromJSON",value:function(e){"string"===typeof e&&(e=JSON.parse(e));var t=e,r=t.verificationId,i=t.verificationCode,a=t.phoneNumber,o=t.temporaryProof;return i||r||a||o?new n({verificationId:r,verificationCode:i,phoneNumber:a,temporaryProof:o}):null}}]),n}(Ol);var pc=function(){function e(t){var n,r,i,a,o,u;_(this,e);var s=ye(be(t)),l=null!==(n=s.apiKey)&&void 0!==n?n:null,c=null!==(r=s.oobCode)&&void 0!==r?r:null,d=function(e){switch(e){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==(i=s.mode)&&void 0!==i?i:null);ms(l&&c&&d,"argument-error"),this.apiKey=l,this.operation=d,this.code=c,this.continueUrl=null!==(a=s.continueUrl)&&void 0!==a?a:null,this.languageCode=null!==(o=s.languageCode)&&void 0!==o?o:null,this.tenantId=null!==(u=s.tenantId)&&void 0!==u?u:null}return w(e,null,[{key:"parseLink",value:function(t){var n=function(e){var t=ye(be(e)).link,n=t?ye(be(t)).deep_link_id:null,r=ye(be(e)).deep_link_id;return(r?ye(be(r)).link:null)||r||n||t||e}(t);try{return new e(n)}catch(r){return null}}}]),e}();var vc=function(){function e(){_(this,e),this.providerId=e.PROVIDER_ID}return w(e,null,[{key:"credential",value:function(e,t){return rc._fromEmailAndPassword(e,t)}},{key:"credentialWithLink",value:function(e,t){var n=pc.parseLink(t);return ms(n,"argument-error"),rc._fromEmailAndCode(e,n.code,n.tenantId)}}]),e}();vc.PROVIDER_ID="password",vc.EMAIL_PASSWORD_SIGN_IN_METHOD="password",vc.EMAIL_LINK_SIGN_IN_METHOD="emailLink";var mc=function(){function e(t){_(this,e),this.providerId=t,this.defaultLanguageCode=null,this.customParameters={}}return w(e,[{key:"setDefaultLanguage",value:function(e){this.defaultLanguageCode=e}},{key:"setCustomParameters",value:function(e){return this.customParameters=e,this}},{key:"getCustomParameters",value:function(){return this.customParameters}}]),e}(),gc=function(e){S(n,e);var t=N(n);function n(){var e;return _(this,n),(e=t.apply(this,arguments)).scopes=[],e}return w(n,[{key:"addScope",value:function(e){return this.scopes.includes(e)||this.scopes.push(e),this}},{key:"getScopes",value:function(){return Te(this.scopes)}}]),n}(mc),yc=function(e){S(n,e);var t=N(n);function n(){return _(this,n),t.apply(this,arguments)}return w(n,[{key:"credential",value:function(e){return this._credential(Object.assign(Object.assign({},e),{nonce:e.rawNonce}))}},{key:"_credential",value:function(e){return ms(e.idToken||e.accessToken,"argument-error"),oc._fromParams(Object.assign(Object.assign({},e),{providerId:this.providerId,signInMethod:this.providerId}))}}],[{key:"credentialFromJSON",value:function(e){var t="string"===typeof e?JSON.parse(e):e;return ms("providerId"in t&&"signInMethod"in t,"argument-error"),oc._fromParams(t)}},{key:"credentialFromResult",value:function(e){return n.oauthCredentialFromTaggedObject(e)}},{key:"credentialFromError",value:function(e){return n.oauthCredentialFromTaggedObject(e.customData||{})}},{key:"oauthCredentialFromTaggedObject",value:function(e){var t=e._tokenResponse;if(!t)return null;var r=t.oauthIdToken,i=t.oauthAccessToken,a=t.oauthTokenSecret,o=t.pendingToken,u=t.nonce,s=t.providerId;if(!i&&!a&&!r&&!o)return null;if(!s)return null;try{return new n(s)._credential({idToken:r,accessToken:i,nonce:u,pendingToken:o})}catch(l){return null}}}]),n}(gc),bc=function(e){S(n,e);var t=N(n);function n(){return _(this,n),t.call(this,"facebook.com")}return w(n,null,[{key:"credential",value:function(e){return oc._fromParams({providerId:n.PROVIDER_ID,signInMethod:n.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}},{key:"credentialFromResult",value:function(e){return n.credentialFromTaggedObject(e)}},{key:"credentialFromError",value:function(e){return n.credentialFromTaggedObject(e.customData||{})}},{key:"credentialFromTaggedObject",value:function(e){var t=e._tokenResponse;if(!t||!("oauthAccessToken"in t))return null;if(!t.oauthAccessToken)return null;try{return n.credential(t.oauthAccessToken)}catch(r){return null}}}]),n}(gc);bc.FACEBOOK_SIGN_IN_METHOD="facebook.com",bc.PROVIDER_ID="facebook.com";var _c=function(e){S(n,e);var t=N(n);function n(){var e;return _(this,n),(e=t.call(this,"google.com")).addScope("profile"),e}return w(n,null,[{key:"credential",value:function(e,t){return oc._fromParams({providerId:n.PROVIDER_ID,signInMethod:n.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:t})}},{key:"credentialFromResult",value:function(e){return n.credentialFromTaggedObject(e)}},{key:"credentialFromError",value:function(e){return n.credentialFromTaggedObject(e.customData||{})}},{key:"credentialFromTaggedObject",value:function(e){var t=e._tokenResponse;if(!t)return null;var r=t.oauthIdToken,i=t.oauthAccessToken;if(!r&&!i)return null;try{return n.credential(r,i)}catch(a){return null}}}]),n}(gc);_c.GOOGLE_SIGN_IN_METHOD="google.com",_c.PROVIDER_ID="google.com";var kc=function(e){S(n,e);var t=N(n);function n(){return _(this,n),t.call(this,"github.com")}return w(n,null,[{key:"credential",value:function(e){return oc._fromParams({providerId:n.PROVIDER_ID,signInMethod:n.GITHUB_SIGN_IN_METHOD,accessToken:e})}},{key:"credentialFromResult",value:function(e){return n.credentialFromTaggedObject(e)}},{key:"credentialFromError",value:function(e){return n.credentialFromTaggedObject(e.customData||{})}},{key:"credentialFromTaggedObject",value:function(e){var t=e._tokenResponse;if(!t||!("oauthAccessToken"in t))return null;if(!t.oauthAccessToken)return null;try{return n.credential(t.oauthAccessToken)}catch(r){return null}}}]),n}(gc);kc.GITHUB_SIGN_IN_METHOD="github.com",kc.PROVIDER_ID="github.com";var wc=function(e){S(n,e);var t=N(n);function n(e,r){var i;return _(this,n),(i=t.call(this,e,e)).pendingToken=r,i}return w(n,[{key:"_getIdTokenResponse",value:function(e){return ic(e,this.buildRequest())}},{key:"_linkToIdToken",value:function(e,t){var n=this.buildRequest();return n.idToken=t,ic(e,n)}},{key:"_getReauthenticationResolver",value:function(e){var t=this.buildRequest();return t.autoCreate=!1,ic(e,t)}},{key:"toJSON",value:function(){return{signInMethod:this.signInMethod,providerId:this.providerId,pendingToken:this.pendingToken}}},{key:"buildRequest",value:function(){return{requestUri:"http://localhost",returnSecureToken:!0,pendingToken:this.pendingToken}}}],[{key:"fromJSON",value:function(e){var t="string"===typeof e?JSON.parse(e):e,r=t.providerId,i=t.signInMethod,a=t.pendingToken;return r&&i&&a&&r===i?new n(r,a):null}},{key:"_create",value:function(e,t){return new n(e,t)}}]),n}(Ol),xc=function(e){S(n,e);var t=N(n);function n(e){return _(this,n),ms(e.startsWith("saml."),"argument-error"),t.call(this,e)}return w(n,null,[{key:"credentialFromResult",value:function(e){return n.samlCredentialFromTaggedObject(e)}},{key:"credentialFromError",value:function(e){return n.samlCredentialFromTaggedObject(e.customData||{})}},{key:"credentialFromJSON",value:function(e){var t=wc.fromJSON(e);return ms(t,"argument-error"),t}},{key:"samlCredentialFromTaggedObject",value:function(e){var t=e._tokenResponse;if(!t)return null;var n=t.pendingToken,r=t.providerId;if(!n||!r)return null;try{return wc._create(r,n)}catch(i){return null}}}]),n}(mc),Ic=function(e){S(n,e);var t=N(n);function n(){return _(this,n),t.call(this,"twitter.com")}return w(n,null,[{key:"credential",value:function(e,t){return oc._fromParams({providerId:n.PROVIDER_ID,signInMethod:n.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:t})}},{key:"credentialFromResult",value:function(e){return n.credentialFromTaggedObject(e)}},{key:"credentialFromError",value:function(e){return n.credentialFromTaggedObject(e.customData||{})}},{key:"credentialFromTaggedObject",value:function(e){var t=e._tokenResponse;if(!t)return null;var r=t.oauthAccessToken,i=t.oauthTokenSecret;if(!r||!i)return null;try{return n.credential(r,i)}catch(a){return null}}}]),n}(gc);function Ec(e,t){return Sc.apply(this,arguments)}function Sc(){return Sc=y(m().mark((function e(t,n){return m().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Os(t,"POST","/v1/accounts:signUp",Ps(t,n)));case 1:case"end":return e.stop()}}),e)}))),Sc.apply(this,arguments)}Ic.TWITTER_SIGN_IN_METHOD="twitter.com",Ic.PROVIDER_ID="twitter.com";var Cc=function(){function e(t){_(this,e),this.user=t.user,this.providerId=t.providerId,this._tokenResponse=t._tokenResponse,this.operationType=t.operationType}return w(e,null,[{key:"_fromIdTokenResponse",value:function(){var t=y(m().mark((function t(n,r,i){var a,o,u,s,l=arguments;return m().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a=l.length>3&&void 0!==l[3]&&l[3],t.next=3,ll._fromIdTokenResponse(n,i,a);case 3:return o=t.sent,u=Tc(i),s=new e({user:o,providerId:u,_tokenResponse:i,operationType:r}),t.abrupt("return",s);case 7:case"end":return t.stop()}}),t)})));return function(e,n,r){return t.apply(this,arguments)}}()},{key:"_forOperation",value:function(){var t=y(m().mark((function t(n,r,i){var a;return m().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,n._updateTokensIfNecessary(i,!0);case 2:return a=Tc(i),t.abrupt("return",new e({user:n,providerId:a,_tokenResponse:i,operationType:r}));case 4:case"end":return t.stop()}}),t)})));return function(e,n,r){return t.apply(this,arguments)}}()}]),e}();function Tc(e){return e.providerId?e.providerId:"phoneNumber"in e?"phone":null}function Pc(){return Pc=y(m().mark((function e(t){var n,r,i,a;return m().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Pl(t),e.next=3,r._initializationPromise;case 3:if(!(null===(n=r.currentUser)||void 0===n?void 0:n.isAnonymous)){e.next=5;break}return e.abrupt("return",new Cc({user:r.currentUser,providerId:null,operationType:"signIn"}));case 5:return e.next=7,Ec(r,{returnSecureToken:!0});case 7:return i=e.sent,e.next=10,Cc._fromIdTokenResponse(r,"signIn",i,!0);case 10:return a=e.sent,e.next=13,r._updateCurrentUser(a.user);case 13:return e.abrupt("return",a);case 14:case"end":return e.stop()}}),e)}))),Pc.apply(this,arguments)}var Nc=function(e){S(n,e);var t=N(n);function n(e,r,i,a){var o,u;return _(this,n),(o=t.call(this,r.code,r.message)).operationType=i,o.user=a,Object.setPrototypeOf(I(o),n.prototype),o.customData={appName:e.name,tenantId:null!==(u=e.tenantId)&&void 0!==u?u:void 0,_serverResponse:r.customData._serverResponse,operationType:i},o}return w(n,null,[{key:"_fromErrorAndOperation",value:function(e,t,r,i){return new n(e,t,r,i)}}]),n}(ie);function Rc(e,t,n,r){return("reauthenticate"===t?n._getReauthenticationResolver(e):n._getIdTokenResponse(e)).catch((function(n){if(n.code==="auth/".concat("multi-factor-auth-required"))throw Nc._fromErrorAndOperation(e,n,t,r);throw n}))}function Dc(e){return new Set(e.map((function(e){return e.providerId})).filter((function(e){return!!e})))}function Ac(e,t){return Oc.apply(this,arguments)}function Oc(){return(Oc=y(m().mark((function e(t,n){var r,i,a,o;return m().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Se(t),e.next=3,Fc(!0,r,n);case 3:return e.t0=zs,e.t1=r.auth,e.next=7,r.getIdToken();case 7:return e.t2=e.sent,e.t3=[n],e.t4={idToken:e.t2,deleteProvider:e.t3},e.next=12,(0,e.t0)(e.t1,e.t4);case 12:return i=e.sent,a=i.providerUserInfo,o=Dc(a||[]),r.providerData=r.providerData.filter((function(e){return o.has(e.providerId)})),o.has("phone")||(r.phoneNumber=null),e.next=19,r.auth._persistUserIfCurrent(r);case 19:return e.abrupt("return",r);case 20:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Lc(e,t){return Mc.apply(this,arguments)}function Mc(){return Mc=y(m().mark((function e(t,n){var r,i,a=arguments;return m().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=a.length>2&&void 0!==a[2]&&a[2],e.t0=Ys,e.t1=t,e.t2=n,e.t3=t.auth,e.next=7,t.getIdToken();case 7:return e.t4=e.sent,e.t5=e.t2._linkToIdToken.call(e.t2,e.t3,e.t4),e.t6=r,e.next=12,(0,e.t0)(e.t1,e.t5,e.t6);case 12:return i=e.sent,e.abrupt("return",Cc._forOperation(t,"link",i));case 14:case"end":return e.stop()}}),e)}))),Mc.apply(this,arguments)}function Fc(e,t,n){return Uc.apply(this,arguments)}function Uc(){return(Uc=y(m().mark((function e(t,n,r){var i,a;return m().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,el(n);case 2:i=Dc(n.providerData),a=!1===t?"provider-already-linked":"no-such-provider",ms(i.has(r)===t,n.auth,a);case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function jc(e,t){return Bc.apply(this,arguments)}function Bc(){return Bc=y(m().mark((function e(t,n){var r,i,a,o,u,s,l,c=arguments;return m().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=c.length>2&&void 0!==c[2]&&c[2],a=t.auth,o="reauthenticate",e.prev=3,e.next=6,Ys(t,Rc(a,o,n,t),r);case 6:return ms((u=e.sent).idToken,a,"internal-error"),ms(s=$s(u.idToken),a,"internal-error"),l=s.sub,ms(t.uid===l,a,"user-mismatch"),e.abrupt("return",Cc._forOperation(t,o,u));case 15:throw e.prev=15,e.t0=e.catch(3),(null===(i=e.t0)||void 0===i?void 0:i.code)==="auth/".concat("user-not-found")&&ds(a,"user-mismatch"),e.t0;case 19:case"end":return e.stop()}}),e,null,[[3,15]])}))),Bc.apply(this,arguments)}function zc(e,t){return Wc.apply(this,arguments)}function Wc(){return Wc=y(m().mark((function e(t,n){var r,i,a,o,u=arguments;return m().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=u.length>2&&void 0!==u[2]&&u[2],i="signIn",e.next=4,Rc(t,i,n);case 4:return a=e.sent,e.next=7,Cc._fromIdTokenResponse(t,i,a);case 7:if(o=e.sent,r){e.next=11;break}return e.next=11,t._updateCurrentUser(o.user);case 11:return e.abrupt("return",o);case 12:case"end":return e.stop()}}),e)}))),Wc.apply(this,arguments)}function qc(e,t){return Vc.apply(this,arguments)}function Vc(){return Vc=y(m().mark((function e(t,n){return m().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",zc(Pl(t),n));case 1:case"end":return e.stop()}}),e)}))),Vc.apply(this,arguments)}function Hc(e,t){return Gc.apply(this,arguments)}function Gc(){return(Gc=y(m().mark((function e(t,n){var r;return m().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Se(t),e.next=3,Fc(!1,r,n.providerId);case 3:return e.abrupt("return",Lc(r,n));case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Kc(e,t){return $c.apply(this,arguments)}function $c(){return($c=y(m().mark((function e(t,n){return m().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",jc(Se(t),n));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Yc(e,t){return Qc.apply(this,arguments)}function Qc(){return Qc=y(m().mark((function e(t,n){return m().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Os(t,"POST","/v1/accounts:signInWithCustomToken",Ps(t,n)));case 1:case"end":return e.stop()}}),e)}))),Qc.apply(this,arguments)}function Jc(){return Jc=y(m().mark((function e(t,n){var r,i,a;return m().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Pl(t),e.next=3,Yc(r,{token:n,returnSecureToken:!0});case 3:return i=e.sent,e.next=6,Cc._fromIdTokenResponse(r,"signIn",i);case 6:return a=e.sent,e.next=9,r._updateCurrentUser(a.user);case 9:return e.abrupt("return",a);case 10:case"end":return e.stop()}}),e)}))),Jc.apply(this,arguments)}var Xc=function(){function e(t,n){_(this,e),this.factorId=t,this.uid=n.mfaEnrollmentId,this.enrollmentTime=new Date(n.enrolledAt).toUTCString(),this.displayName=n.displayName}return w(e,null,[{key:"_fromServerResponse",value:function(e,t){return"phoneInfo"in t?Zc._fromServerResponse(e,t):ds(e,"internal-error")}}]),e}(),Zc=function(e){S(n,e);var t=N(n);function n(e){var r;return _(this,n),(r=t.call(this,"phone",e)).phoneNumber=e.phoneInfo,r}return w(n,null,[{key:"_fromServerResponse",value:function(e,t){return new n(t)}}]),n}(Xc);function ed(e,t,n){var r;ms((null===(r=n.url)||void 0===r?void 0:r.length)>0,e,"invalid-continue-uri"),ms("undefined"===typeof n.dynamicLinkDomain||n.dynamicLinkDomain.length>0,e,"invalid-dynamic-link-domain"),t.continueUrl=n.url,t.dynamicLinkDomain=n.dynamicLinkDomain,t.canHandleCodeInApp=n.handleCodeInApp,n.iOS&&(ms(n.iOS.bundleId.length>0,e,"missing-ios-bundle-id"),t.iOSBundleId=n.iOS.bundleId),n.android&&(ms(n.android.packageName.length>0,e,"missing-android-pkg-name"),t.androidInstallApp=n.android.installApp,t.androidMinimumVersionCode=n.android.minimumVersion,t.androidPackageName=n.android.packageName)}function td(){return td=y(m().mark((function e(t,n,r){var i,a;return m().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=Se(t),a={requestType:"PASSWORD_RESET",email:n},r&&ed(i,a,r),e.next=5,Kl(i,a);case 5:case"end":return e.stop()}}),e)}))),td.apply(this,arguments)}function nd(){return nd=y(m().mark((function e(t,n,r){return m().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Ll(Se(t),{oobCode:n,newPassword:r});case 2:case"end":return e.stop()}}),e)}))),nd.apply(this,arguments)}function rd(){return rd=y(m().mark((function e(t,n){return m().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,jl(Se(t),{oobCode:n});case 2:case"end":return e.stop()}}),e)}))),rd.apply(this,arguments)}function id(e,t){return ad.apply(this,arguments)}function ad(){return ad=y(m().mark((function e(t,n){var r,i,a,o;return m().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Se(t),e.next=3,Ll(r,{oobCode:n});case 3:i=e.sent,ms(a=i.requestType,r,"internal-error"),e.t0=a,e.next="EMAIL_SIGNIN"===e.t0?9:"VERIFY_AND_CHANGE_EMAIL"===e.t0?10:"REVERT_SECOND_FACTOR_ADDITION"===e.t0?12:13;break;case 9:return e.abrupt("break",14);case 10:return ms(i.newEmail,r,"internal-error"),e.abrupt("break",14);case 12:ms(i.mfaInfo,r,"internal-error");case 13:ms(i.email,r,"internal-error");case 14:return o=null,i.mfaInfo&&(o=Xc._fromServerResponse(Pl(r),i.mfaInfo)),e.abrupt("return",{data:{email:("VERIFY_AND_CHANGE_EMAIL"===i.requestType?i.newEmail:i.email)||null,previousEmail:("VERIFY_AND_CHANGE_EMAIL"===i.requestType?i.email:i.newEmail)||null,multiFactorInfo:o},operation:a});case 17:case"end":return e.stop()}}),e)}))),ad.apply(this,arguments)}function od(){return od=y(m().mark((function e(t,n){var r,i;return m().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,id(Se(t),n);case 2:return r=e.sent,i=r.data,e.abrupt("return",i.email);case 5:case"end":return e.stop()}}),e)}))),od.apply(this,arguments)}function ud(e,t,n){return sd.apply(this,arguments)}function sd(){return sd=y(m().mark((function e(t,n,r){var i,a,o;return m().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=Pl(t),e.next=3,Ec(i,{returnSecureToken:!0,email:n,password:r});case 3:return a=e.sent,e.next=6,Cc._fromIdTokenResponse(i,"signIn",a);case 6:return o=e.sent,e.next=9,i._updateCurrentUser(o.user);case 9:return e.abrupt("return",o);case 10:case"end":return e.stop()}}),e)}))),sd.apply(this,arguments)}function ld(){return ld=y(m().mark((function e(t,n,r){var i,a;return m().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=Se(t),a={requestType:"EMAIL_SIGNIN",email:n},ms(r.handleCodeInApp,i,"argument-error"),r&&ed(i,a,r),e.next=6,Yl(i,a);case 6:case"end":return e.stop()}}),e)}))),ld.apply(this,arguments)}function cd(){return cd=y(m().mark((function e(t,n,r){var i,a;return m().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=Se(t),ms((a=vc.credentialWithLink(n,r||ks()))._tenantId===(i.tenantId||null),i,"tenant-id-mismatch"),e.abrupt("return",qc(i,a));case 4:case"end":return e.stop()}}),e)}))),cd.apply(this,arguments)}function dd(e,t){return fd.apply(this,arguments)}function fd(){return fd=y(m().mark((function e(t,n){return m().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Ns(t,"POST","/v1/accounts:createAuthUri",Ps(t,n)));case 1:case"end":return e.stop()}}),e)}))),fd.apply(this,arguments)}function hd(){return hd=y(m().mark((function e(t,n){var r,i,a,o;return m().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=ws()?ks():"http://localhost",i={identifier:n,continueUri:r},e.next=4,dd(Se(t),i);case 4:return a=e.sent,o=a.signinMethods,e.abrupt("return",o||[]);case 7:case"end":return e.stop()}}),e)}))),hd.apply(this,arguments)}function pd(){return(pd=y(m().mark((function e(t,n){var r,i,a,o;return m().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Se(t),e.next=3,t.getIdToken();case 3:return i=e.sent,a={requestType:"VERIFY_EMAIL",idToken:i},n&&ed(r.auth,a,n),e.next=8,Hl(r.auth,a);case 8:if(o=e.sent,o.email===t.email){e.next=13;break}return e.next=13,t.reload();case 13:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function vd(){return(vd=y(m().mark((function e(t,n,r){var i,a,o,u;return m().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=Se(t),e.next=3,t.getIdToken();case 3:return a=e.sent,o={requestType:"VERIFY_AND_CHANGE_EMAIL",idToken:a,newEmail:n},r&&ed(i.auth,o,r),e.next=8,Jl(i.auth,o);case 8:if(u=e.sent,u.email===t.email){e.next=13;break}return e.next=13,t.reload();case 13:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function md(e,t){return gd.apply(this,arguments)}function gd(){return gd=y(m().mark((function e(t,n){return m().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Ns(t,"POST","/v1/accounts:update",n));case 1:case"end":return e.stop()}}),e)}))),gd.apply(this,arguments)}function yd(){return(yd=y(m().mark((function e(t,n){var r,i,a,o,u,s,l;return m().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=n.displayName,i=n.photoURL,void 0!==r||void 0!==i){e.next=3;break}return e.abrupt("return");case 3:return a=Se(t),e.next=6,a.getIdToken();case 6:return o=e.sent,u={idToken:o,displayName:r,photoUrl:i,returnSecureToken:!0},e.next=10,Ys(a,md(a.auth,u));case 10:return s=e.sent,a.displayName=s.displayName||null,a.photoURL=s.photoUrl||null,(l=a.providerData.find((function(e){return"password"===e.providerId})))&&(l.displayName=a.displayName,l.photoURL=a.photoURL),e.next=17,a._updateTokensIfNecessary(s);case 17:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function bd(e,t,n){return _d.apply(this,arguments)}function _d(){return _d=y(m().mark((function e(t,n,r){var i,a,o,u;return m().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=t.auth,e.next=3,t.getIdToken();case 3:return a=e.sent,o={idToken:a,returnSecureToken:!0},n&&(o.email=n),r&&(o.password=r),e.next=9,Ys(t,Fl(i,o));case 9:return u=e.sent,e.next=12,t._updateTokensIfNecessary(u,!0);case 12:case"end":return e.stop()}}),e)}))),_d.apply(this,arguments)}var kd=w((function e(t,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};_(this,e),this.isNewUser=t,this.providerId=n,this.profile=r})),wd=function(e){S(n,e);var t=N(n);function n(e,r,i,a){var o;return _(this,n),(o=t.call(this,e,r,i)).username=a,o}return w(n)}(kd),xd=function(e){S(n,e);var t=N(n);function n(e,r){return _(this,n),t.call(this,e,"facebook.com",r)}return w(n)}(kd),Id=function(e){S(n,e);var t=N(n);function n(e,r){return _(this,n),t.call(this,e,"github.com",r,"string"===typeof(null===r||void 0===r?void 0:r.login)?null===r||void 0===r?void 0:r.login:null)}return w(n)}(wd),Ed=function(e){S(n,e);var t=N(n);function n(e,r){return _(this,n),t.call(this,e,"google.com",r)}return w(n)}(kd),Sd=function(e){S(n,e);var t=N(n);function n(e,r,i){return _(this,n),t.call(this,e,"twitter.com",r,i)}return w(n)}(wd);function Cd(e){var t=e.user,n=e._tokenResponse;return t.isAnonymous&&!n?{providerId:null,isNewUser:!1,profile:null}:function(e){var t,n;if(!e)return null;var r=e.providerId,i=e.rawUserInfo?JSON.parse(e.rawUserInfo):{},a=e.isNewUser||"identitytoolkit#SignupNewUserResponse"===e.kind;if(!r&&(null===e||void 0===e?void 0:e.idToken)){var o=null===(n=null===(t=$s(e.idToken))||void 0===t?void 0:t.firebase)||void 0===n?void 0:n.sign_in_provider;if(o)return new kd(a,"anonymous"!==o&&"custom"!==o?o:null)}if(!r)return null;switch(r){case"facebook.com":return new xd(a,i);case"github.com":return new Id(a,i);case"google.com":return new Ed(a,i);case"twitter.com":return new Sd(a,i,e.screenName||null);case"custom":case"anonymous":return new kd(a,null);default:return new kd(a,r,i)}}(n)}var Td=function(){function e(t,n,r){_(this,e),this.type=t,this.credential=n,this.auth=r}return w(e,[{key:"toJSON",value:function(){return{multiFactorSession:b({},"enroll"===this.type?"idToken":"pendingCredential",this.credential)}}}],[{key:"_fromIdtoken",value:function(t,n){return new e("enroll",t,n)}},{key:"_fromMfaPendingCredential",value:function(t){return new e("signin",t)}},{key:"fromJSON",value:function(t){var n,r;if(null===t||void 0===t?void 0:t.multiFactorSession){if(null===(n=t.multiFactorSession)||void 0===n?void 0:n.pendingCredential)return e._fromMfaPendingCredential(t.multiFactorSession.pendingCredential);if(null===(r=t.multiFactorSession)||void 0===r?void 0:r.idToken)return e._fromIdtoken(t.multiFactorSession.idToken)}return null}}]),e}(),Pd=function(){function e(t,n,r){_(this,e),this.session=t,this.hints=n,this.signInResolver=r}return w(e,[{key:"resolveSignIn",value:function(){var e=y(m().mark((function e(t){var n;return m().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t,e.abrupt("return",this.signInResolver(n));case 2:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()}],[{key:"_fromError",value:function(t,n){var r=Pl(t),i=n.customData._serverResponse,a=(i.mfaInfo||[]).map((function(e){return Xc._fromServerResponse(r,e)}));ms(i.mfaPendingCredential,r,"internal-error");var o=Td._fromMfaPendingCredential(i.mfaPendingCredential);return new e(o,a,function(){var e=y(m().mark((function e(t){var a,u,s;return m().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t._process(r,o);case 2:a=e.sent,delete i.mfaInfo,delete i.mfaPendingCredential,u=Object.assign(Object.assign({},i),{idToken:a.idToken,refreshToken:a.refreshToken}),e.t0=n.operationType,e.next="signIn"===e.t0?9:"reauthenticate"===e.t0?15:17;break;case 9:return e.next=11,Cc._fromIdTokenResponse(r,n.operationType,u);case 11:return s=e.sent,e.next=14,r._updateCurrentUser(s.user);case 14:return e.abrupt("return",s);case 15:return ms(n.user,r,"internal-error"),e.abrupt("return",Cc._forOperation(n.user,n.operationType,u));case 17:ds(r,"internal-error");case 18:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())}}]),e}();function Nd(e,t){return Ns(e,"POST","/v2/accounts/mfaEnrollment:start",Ps(e,t))}function Rd(e,t){return Ns(e,"POST","/v2/accounts/mfaEnrollment:withdraw",Ps(e,t))}var Dd=function(){function e(t){var n=this;_(this,e),this.user=t,this.enrolledFactors=[],t._onReload((function(e){e.mfaInfo&&(n.enrolledFactors=e.mfaInfo.map((function(e){return Xc._fromServerResponse(t.auth,e)})))}))}return w(e,[{key:"getSession",value:function(){var e=y(m().mark((function e(){return m().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.t0=Td,e.next=3,this.user.getIdToken();case 3:return e.t1=e.sent,e.t2=this.user.auth,e.abrupt("return",e.t0._fromIdtoken.call(e.t0,e.t1,e.t2));case 6:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"enroll",value:function(){var e=y(m().mark((function e(t,n){var r,i,a;return m().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t,e.next=3,this.getSession();case 3:return i=e.sent,e.next=6,Ys(this.user,r._process(this.user.auth,i,n));case 6:return a=e.sent,e.next=9,this.user._updateTokensIfNecessary(a);case 9:return e.abrupt("return",this.user.reload());case 10:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"unenroll",value:function(){var e=y(m().mark((function e(t){var n,r,i,a;return m().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r="string"===typeof t?t:t.uid,e.next=3,this.user.getIdToken();case 3:return i=e.sent,e.next=6,Ys(this.user,Rd(this.user.auth,{idToken:i,mfaEnrollmentId:r}));case 6:return a=e.sent,this.enrolledFactors=this.enrolledFactors.filter((function(e){return e.uid!==r})),e.next=10,this.user._updateTokensIfNecessary(a);case 10:return e.prev=10,e.next=13,this.user.reload();case 13:e.next=19;break;case 15:if(e.prev=15,e.t0=e.catch(10),(null===(n=e.t0)||void 0===n?void 0:n.code)==="auth/".concat("user-token-expired")){e.next=19;break}throw e.t0;case 19:case"end":return e.stop()}}),e,this,[[10,15]])})));return function(t){return e.apply(this,arguments)}}()}],[{key:"_fromUser",value:function(t){return new e(t)}}]),e}(),Ad=new WeakMap;var Od="__sak",Ld=function(){function e(t,n){_(this,e),this.storageRetriever=t,this.type=n}return w(e,[{key:"_isAvailable",value:function(){try{return this.storage?(this.storage.setItem(Od,"1"),this.storage.removeItem(Od),Promise.resolve(!0)):Promise.resolve(!1)}catch(e){return Promise.resolve(!1)}}},{key:"_set",value:function(e,t){return this.storage.setItem(e,JSON.stringify(t)),Promise.resolve()}},{key:"_get",value:function(e){var t=this.storage.getItem(e);return Promise.resolve(t?JSON.parse(t):null)}},{key:"_remove",value:function(e){return this.storage.removeItem(e),Promise.resolve()}},{key:"storage",get:function(){return this.storageRetriever()}}]),e}();var Md=function(e){S(n,e);var t=N(n);function n(){var e;return _(this,n),(e=t.call(this,(function(){return window.localStorage}),"LOCAL")).boundEventHandler=function(t,n){return e.onStorageEvent(t,n)},e.listeners={},e.localCache={},e.pollTimer=null,e.safariLocalStorageNotSynced=function(){var e=V();return ml(e)||wl(e)}()&&function(){try{return!(!window||window===window.top)}catch(e){return!1}}(),e.fallbackToPolling=El(),e._shouldAllowMigration=!0,e}return w(n,[{key:"forAllChangedKeys",value:function(e){for(var t=0,n=Object.keys(this.listeners);t<n.length;t++){var r=n[t],i=this.storage.getItem(r),a=this.localCache[r];i!==a&&e(r,a,i)}}},{key:"onStorageEvent",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(e.key){var r=e.key;if(n?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){var i=this.storage.getItem(r);if(e.newValue!==i)null!==e.newValue?this.storage.setItem(r,e.newValue):this.storage.removeItem(r);else if(this.localCache[r]===e.newValue&&!n)return}var a=function(){var e=t.storage.getItem(r);(n||t.localCache[r]!==e)&&t.notifyListeners(r,e)},o=this.storage.getItem(r);Il()&&o!==e.newValue&&e.newValue!==e.oldValue?setTimeout(a,10):a()}else this.forAllChangedKeys((function(e,n,r){t.notifyListeners(e,r)}))}},{key:"notifyListeners",value:function(e,t){this.localCache[e]=t;var n=this.listeners[e];if(n)for(var r=0,i=Array.from(n);r<i.length;r++){(0,i[r])(t?JSON.parse(t):t)}}},{key:"startPolling",value:function(){var e=this;this.stopPolling(),this.pollTimer=setInterval((function(){e.forAllChangedKeys((function(t,n,r){e.onStorageEvent(new StorageEvent("storage",{key:t,oldValue:n,newValue:r}),!0)}))}),1e3)}},{key:"stopPolling",value:function(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}},{key:"attachListener",value:function(){window.addEventListener("storage",this.boundEventHandler)}},{key:"detachListener",value:function(){window.removeEventListener("storage",this.boundEventHandler)}},{key:"_addListener",value:function(e,t){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(t)}},{key:"_removeListener",value:function(e,t){this.listeners[e]&&(this.listeners[e].delete(t),0===this.listeners[e].size&&delete this.listeners[e]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}},{key:"_set",value:function(){var e=y(m().mark((function e(t,r){return m().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Hu(C(n.prototype),"_set",this).call(this,t,r);case 2:this.localCache[t]=JSON.stringify(r);case 3:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"_get",value:function(){var e=y(m().mark((function e(t){var r;return m().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Hu(C(n.prototype),"_get",this).call(this,t);case 2:return r=e.sent,this.localCache[t]=JSON.stringify(r),e.abrupt("return",r);case 5:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_remove",value:function(){var e=y(m().mark((function e(t){return m().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Hu(C(n.prototype),"_remove",this).call(this,t);case 2:delete this.localCache[t];case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()}]),n}(Ld);Md.type="LOCAL";var Fd=Md,Ud=function(e){S(n,e);var t=N(n);function n(){return _(this,n),t.call(this,(function(){return window.sessionStorage}),"SESSION")}return w(n,[{key:"_addListener",value:function(e,t){}},{key:"_removeListener",value:function(e,t){}}]),n}(Ld);Ud.type="SESSION";var jd=Ud;function Bd(e){return Promise.all(e.map(function(){var e=y(m().mark((function e(t){var n;return m().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,t;case 3:return n=e.sent,e.abrupt("return",{fulfilled:!0,value:n});case 7:return e.prev=7,e.t0=e.catch(0),e.abrupt("return",{fulfilled:!1,reason:e.t0});case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}()))}var zd=function(){function e(t){_(this,e),this.eventTarget=t,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}return w(e,[{key:"isListeningto",value:function(e){return this.eventTarget===e}},{key:"handleEvent",value:function(){var e=y(m().mark((function e(t){var n,r,i,a,o,u,s,l;return m().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=(n=t).data,i=r.eventId,a=r.eventType,o=r.data,null===(u=this.handlersMap[a])||void 0===u?void 0:u.size){e.next=5;break}return e.abrupt("return");case 5:return n.ports[0].postMessage({status:"ack",eventId:i,eventType:a}),s=Array.from(u).map(function(){var e=y(m().mark((function e(t){return m().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",t(n.origin,o));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),e.next=9,Bd(s);case 9:l=e.sent,n.ports[0].postMessage({status:"done",eventId:i,eventType:a,response:l});case 11:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_subscribe",value:function(e,t){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(t)}},{key:"_unsubscribe",value:function(e,t){this.handlersMap[e]&&t&&this.handlersMap[e].delete(t),t&&0!==this.handlersMap[e].size||delete this.handlersMap[e],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}],[{key:"_getInstance",value:function(t){var n=this.receivers.find((function(e){return e.isListeningto(t)}));if(n)return n;var r=new e(t);return this.receivers.push(r),r}}]),e}();function Wd(){for(var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:10,n="",r=0;r<t;r++)n+=Math.floor(10*Math.random());return e+n}zd.receivers=[];var qd=function(){function e(t){_(this,e),this.target=t,this.handlers=new Set}return w(e,[{key:"removeMessageHandler",value:function(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}},{key:"_send",value:function(){var e=y(m().mark((function e(t,n){var r,i,a,o,u=this,s=arguments;return m().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=s.length>2&&void 0!==s[2]?s[2]:50,i="undefined"!==typeof MessageChannel?new MessageChannel:null){e.next=4;break}throw new Error("connection_unavailable");case 4:return e.abrupt("return",new Promise((function(e,s){var l=Wd("",20);i.port1.start();var c=setTimeout((function(){s(new Error("unsupported_event"))}),r);o={messageChannel:i,onMessage:function(t){var n=t;if(n.data.eventId===l)switch(n.data.status){case"ack":clearTimeout(c),a=setTimeout((function(){s(new Error("timeout"))}),3e3);break;case"done":clearTimeout(a),e(n.data.response);break;default:clearTimeout(c),clearTimeout(a),s(new Error("invalid_response"))}}},u.handlers.add(o),i.port1.addEventListener("message",o.onMessage),u.target.postMessage({eventType:t,eventId:l,data:n},[i.port2])})).finally((function(){o&&u.removeMessageHandler(o)})));case 5:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()}]),e}();function Vd(){return window}function Hd(){return"undefined"!==typeof Vd().WorkerGlobalScope&&"function"===typeof Vd().importScripts}function Gd(){return Kd.apply(this,arguments)}function Kd(){return(Kd=y(m().mark((function e(){var t;return m().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(null===navigator||void 0===navigator?void 0:navigator.serviceWorker){e.next=2;break}return e.abrupt("return",null);case 2:return e.prev=2,e.next=5,navigator.serviceWorker.ready;case 5:return t=e.sent,e.abrupt("return",t.active);case 9:return e.prev=9,e.t0=e.catch(2),e.abrupt("return",null);case 12:case"end":return e.stop()}}),e,null,[[2,9]])})))).apply(this,arguments)}function $d(){var e;return(null===(e=null===navigator||void 0===navigator?void 0:navigator.serviceWorker)||void 0===e?void 0:e.controller)||null}var Yd="firebaseLocalStorageDb",Qd="firebaseLocalStorage",Jd="fbase_key",Xd=function(){function e(t){_(this,e),this.request=t}return w(e,[{key:"toPromise",value:function(){var e=this;return new Promise((function(t,n){e.request.addEventListener("success",(function(){t(e.request.result)})),e.request.addEventListener("error",(function(){n(e.request.error)}))}))}}]),e}();function Zd(e,t){return e.transaction([Qd],t?"readwrite":"readonly").objectStore(Qd)}function ef(){var e=indexedDB.deleteDatabase(Yd);return new Xd(e).toPromise()}function tf(){var e=indexedDB.open(Yd,1);return new Promise((function(t,n){e.addEventListener("error",(function(){n(e.error)})),e.addEventListener("upgradeneeded",(function(){var t=e.result;try{t.createObjectStore(Qd,{keyPath:Jd})}catch(r){n(r)}})),e.addEventListener("success",y(m().mark((function n(){var r;return m().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if((r=e.result).objectStoreNames.contains(Qd)){n.next=12;break}return r.close(),n.next=5,ef();case 5:return n.t0=t,n.next=8,tf();case 8:n.t1=n.sent,(0,n.t0)(n.t1),n.next=13;break;case 12:t(r);case 13:case"end":return n.stop()}}),n)}))))}))}function nf(e,t,n){return rf.apply(this,arguments)}function rf(){return(rf=y(m().mark((function e(t,n,r){var i,a;return m().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=Zd(t,!0).put((b(i={},Jd,n),b(i,"value",r),i)),e.abrupt("return",new Xd(a).toPromise());case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function af(e,t){return of.apply(this,arguments)}function of(){return(of=y(m().mark((function e(t,n){var r,i;return m().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Zd(t,!1).get(n),e.next=3,new Xd(r).toPromise();case 3:return i=e.sent,e.abrupt("return",void 0===i?null:i.value);case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function uf(e,t){var n=Zd(e,!0).delete(t);return new Xd(n).toPromise()}var sf=function(){function e(){_(this,e),this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then((function(){}),(function(){}))}return w(e,[{key:"_openDb",value:function(){var e=y(m().mark((function e(){return m().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.db){e.next=2;break}return e.abrupt("return",this.db);case 2:return e.next=4,tf();case 4:return this.db=e.sent,e.abrupt("return",this.db);case 6:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"_withRetries",value:function(){var e=y(m().mark((function e(t){var n,r;return m().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=0;case 1:return e.prev=2,e.next=5,this._openDb();case 5:return r=e.sent,e.next=8,t(r);case 8:return e.abrupt("return",e.sent);case 11:if(e.prev=11,e.t0=e.catch(2),!(n++>3)){e.next=15;break}throw e.t0;case 15:this.db&&(this.db.close(),this.db=void 0);case 16:e.next=1;break;case 18:case"end":return e.stop()}}),e,this,[[2,11]])})));return function(t){return e.apply(this,arguments)}}()},{key:"initializeServiceWorkerMessaging",value:function(){var e=y(m().mark((function e(){return m().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Hd()?this.initializeReceiver():this.initializeSender());case 1:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"initializeReceiver",value:function(){var e=y(m().mark((function e(){var t=this;return m().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.receiver=zd._getInstance(Hd()?self:null),this.receiver._subscribe("keyChanged",function(){var e=y(m().mark((function e(n,r){var i;return m().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t._poll();case 2:return i=e.sent,e.abrupt("return",{keyProcessed:i.includes(r.key)});case 4:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()),this.receiver._subscribe("ping",function(){var e=y(m().mark((function e(t,n){return m().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",["keyChanged"]);case 1:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}());case 3:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"initializeSender",value:function(){var e=y(m().mark((function e(){var t,n,r;return m().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Gd();case 2:if(this.activeServiceWorker=e.sent,this.activeServiceWorker){e.next=5;break}return e.abrupt("return");case 5:return this.sender=new qd(this.activeServiceWorker),e.next=8,this.sender._send("ping",{},800);case 8:if(r=e.sent){e.next=11;break}return e.abrupt("return");case 11:(null===(t=r[0])||void 0===t?void 0:t.fulfilled)&&(null===(n=r[0])||void 0===n?void 0:n.value.includes("keyChanged"))&&(this.serviceWorkerReceiverAvailable=!0);case 12:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"notifyServiceWorker",value:function(){var e=y(m().mark((function e(t){return m().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.sender&&this.activeServiceWorker&&$d()===this.activeServiceWorker){e.next=2;break}return e.abrupt("return");case 2:return e.prev=2,e.next=5,this.sender._send("keyChanged",{key:t},this.serviceWorkerReceiverAvailable?800:50);case 5:e.next=9;break;case 7:e.prev=7,e.t0=e.catch(2);case 9:case"end":return e.stop()}}),e,this,[[2,7]])})));return function(t){return e.apply(this,arguments)}}()},{key:"_isAvailable",value:function(){var e=y(m().mark((function e(){var t;return m().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,indexedDB){e.next=3;break}return e.abrupt("return",!1);case 3:return e.next=5,tf();case 5:return t=e.sent,e.next=8,nf(t,Od,"1");case 8:return e.next=10,uf(t,Od);case 10:return e.abrupt("return",!0);case 13:e.prev=13,e.t0=e.catch(0);case 15:return e.abrupt("return",!1);case 16:case"end":return e.stop()}}),e,null,[[0,13]])})));return function(){return e.apply(this,arguments)}}()},{key:"_withPendingWrite",value:function(){var e=y(m().mark((function e(t){return m().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.pendingWrites++,e.prev=1,e.next=4,t();case 4:return e.prev=4,this.pendingWrites--,e.finish(4);case 7:case"end":return e.stop()}}),e,this,[[1,,4,7]])})));return function(t){return e.apply(this,arguments)}}()},{key:"_set",value:function(){var e=y(m().mark((function e(t,n){var r=this;return m().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this._withPendingWrite(y(m().mark((function e(){return m().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,r._withRetries((function(e){return nf(e,t,n)}));case 2:return r.localCache[t]=n,e.abrupt("return",r.notifyServiceWorker(t));case 4:case"end":return e.stop()}}),e)})))));case 1:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"_get",value:function(){var e=y(m().mark((function e(t){var n;return m().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._withRetries((function(e){return af(e,t)}));case 2:return n=e.sent,this.localCache[t]=n,e.abrupt("return",n);case 5:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_remove",value:function(){var e=y(m().mark((function e(t){var n=this;return m().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this._withPendingWrite(y(m().mark((function e(){return m().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n._withRetries((function(e){return uf(e,t)}));case 2:return delete n.localCache[t],e.abrupt("return",n.notifyServiceWorker(t));case 4:case"end":return e.stop()}}),e)})))));case 1:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_poll",value:function(){var e=y(m().mark((function e(){var t,n,r,i,a,o,u,s,l,c,d;return m().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._withRetries((function(e){var t=Zd(e,!1).getAll();return new Xd(t).toPromise()}));case 2:if(t=e.sent){e.next=5;break}return e.abrupt("return",[]);case 5:if(0===this.pendingWrites){e.next=7;break}return e.abrupt("return",[]);case 7:n=[],r=new Set,i=x(t);try{for(i.s();!(a=i.n()).done;)o=a.value,u=o.fbase_key,s=o.value,r.add(u),JSON.stringify(this.localCache[u])!==JSON.stringify(s)&&(this.notifyListeners(u,s),n.push(u))}catch(f){i.e(f)}finally{i.f()}for(l=0,c=Object.keys(this.localCache);l<c.length;l++)d=c[l],this.localCache[d]&&!r.has(d)&&(this.notifyListeners(d,null),n.push(d));return e.abrupt("return",n);case 13:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"notifyListeners",value:function(e,t){this.localCache[e]=t;var n=this.listeners[e];if(n)for(var r=0,i=Array.from(n);r<i.length;r++){(0,i[r])(t)}}},{key:"startPolling",value:function(){var e=this;this.stopPolling(),this.pollTimer=setInterval(y(m().mark((function t(){return m().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",e._poll());case 1:case"end":return t.stop()}}),t)}))),800)}},{key:"stopPolling",value:function(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}},{key:"_addListener",value:function(e,t){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(t)}},{key:"_removeListener",value:function(e,t){this.listeners[e]&&(this.listeners[e].delete(t),0===this.listeners[e].size&&delete this.listeners[e]),0===Object.keys(this.listeners).length&&this.stopPolling()}}]),e}();sf.type="LOCAL";var lf=sf;function cf(e,t){return Ns(e,"POST","/v2/accounts/mfaSignIn:start",Ps(e,t))}function df(e){return ff.apply(this,arguments)}function ff(){return ff=y(m().mark((function e(t){return m().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Ns(t,"GET","/v1/recaptchaParams");case 2:if(e.t0=e.sent.recaptchaSiteKey,e.t0){e.next=5;break}e.t0="";case 5:return e.abrupt("return",e.t0);case 6:case"end":return e.stop()}}),e)}))),ff.apply(this,arguments)}function hf(e){return new Promise((function(t,n){var r=document.createElement("script");r.setAttribute("src",e),r.onload=t,r.onerror=function(e){var t=fs("internal-error");t.customData=e,n(t)},r.type="text/javascript",r.charset="UTF-8",function(){var e,t;return null!==(t=null===(e=document.getElementsByTagName("head"))||void 0===e?void 0:e[0])&&void 0!==t?t:document}().appendChild(r)}))}function pf(e){return"__".concat(e).concat(Math.floor(1e6*Math.random()))}var vf=1e12,mf=function(){function e(t){_(this,e),this.auth=t,this.counter=vf,this._widgets=new Map}return w(e,[{key:"render",value:function(e,t){var n=this.counter;return this._widgets.set(n,new gf(e,this.auth.name,t||{})),this.counter++,n}},{key:"reset",value:function(e){var t,n=e||vf;null===(t=this._widgets.get(n))||void 0===t||t.delete(),this._widgets.delete(n)}},{key:"getResponse",value:function(e){var t,n=e||vf;return(null===(t=this._widgets.get(n))||void 0===t?void 0:t.getResponse())||""}},{key:"execute",value:function(){var e=y(m().mark((function e(t){var n,r;return m().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t||vf,null===(n=this._widgets.get(r))||void 0===n||n.execute(),e.abrupt("return","");case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()}]),e}(),gf=function(){function e(t,n,r){var i=this;_(this,e),this.params=r,this.timerId=null,this.deleted=!1,this.responseToken=null,this.clickHandler=function(){i.execute()};var a="string"===typeof t?document.getElementById(t):t;ms(a,"argument-error",{appName:n}),this.container=a,this.isVisible="invisible"!==this.params.size,this.isVisible?this.execute():this.container.addEventListener("click",this.clickHandler)}return w(e,[{key:"getResponse",value:function(){return this.checkIfDeleted(),this.responseToken}},{key:"delete",value:function(){this.checkIfDeleted(),this.deleted=!0,this.timerId&&(clearTimeout(this.timerId),this.timerId=null),this.container.removeEventListener("click",this.clickHandler)}},{key:"execute",value:function(){var e=this;this.checkIfDeleted(),this.timerId||(this.timerId=window.setTimeout((function(){e.responseToken=function(e){for(var t=[],n="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ",r=0;r<e;r++)t.push(n.charAt(Math.floor(Math.random()*n.length)));return t.join("")}(50);var t=e.params,n=t.callback,r=t["expired-callback"];if(n)try{n(e.responseToken)}catch(i){}e.timerId=window.setTimeout((function(){if(e.timerId=null,e.responseToken=null,r)try{r()}catch(i){}e.isVisible&&e.execute()}),6e4)}),500))}},{key:"checkIfDeleted",value:function(){if(this.deleted)throw new Error("reCAPTCHA mock was already deleted!")}}]),e}();var yf=pf("rcb"),bf=new Is(3e4,6e4),_f="https://www.google.com/recaptcha/api.js?",kf=function(){function e(){var t;_(this,e),this.hostLanguage="",this.counter=0,this.librarySeparatelyLoaded=!!(null===(t=Vd().grecaptcha)||void 0===t?void 0:t.render)}return w(e,[{key:"load",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";return ms(wf(n),e,"argument-error"),this.shouldResolveImmediately(n)?Promise.resolve(Vd().grecaptcha):new Promise((function(r,i){var a=Vd().setTimeout((function(){i(fs(e,"network-request-failed"))}),bf.get());Vd()[yf]=function(){Vd().clearTimeout(a),delete Vd()[yf];var o=Vd().grecaptcha;if(o){var u=o.render;o.render=function(e,n){var r=u(e,n);return t.counter++,r},t.hostLanguage=n,r(o)}else i(fs(e,"internal-error"))},hf("".concat(_f,"?").concat(ge({onload:yf,render:"explicit",hl:n}))).catch((function(){clearTimeout(a),i(fs(e,"internal-error"))}))}))}},{key:"clearedOneInstance",value:function(){this.counter--}},{key:"shouldResolveImmediately",value:function(e){var t;return!!(null===(t=Vd().grecaptcha)||void 0===t?void 0:t.render)&&(e===this.hostLanguage||this.counter>0||this.librarySeparatelyLoaded)}}]),e}();function wf(e){return e.length<=6&&/^\s*[a-zA-Z0-9\-]*\s*$/.test(e)}var xf=function(){function e(){_(this,e)}return w(e,[{key:"load",value:function(){var e=y(m().mark((function e(t){return m().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",new mf(t));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},{key:"clearedOneInstance",value:function(){}}]),e}(),If="recaptcha",Ef={theme:"light",type:"image"},Sf=function(){function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Object.assign({},Ef),r=arguments.length>2?arguments[2]:void 0;_(this,e),this.parameters=n,this.type=If,this.destroyed=!1,this.widgetId=null,this.tokenChangeListeners=new Set,this.renderPromise=null,this.recaptcha=null,this.auth=Pl(r),this.isInvisible="invisible"===this.parameters.size,ms("undefined"!==typeof document,this.auth,"operation-not-supported-in-this-environment");var i="string"===typeof t?document.getElementById(t):t;ms(i,this.auth,"argument-error"),this.container=i,this.parameters.callback=this.makeTokenCallback(this.parameters.callback),this._recaptchaLoader=this.auth.settings.appVerificationDisabledForTesting?new xf:new kf,this.validateStartingState()}return w(e,[{key:"verify",value:function(){var e=y(m().mark((function e(){var t,n,r,i=this;return m().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.assertNotDestroyed(),e.next=3,this.render();case 3:if(t=e.sent,n=this.getAssertedRecaptcha(),!(r=n.getResponse(t))){e.next=8;break}return e.abrupt("return",r);case 8:return e.abrupt("return",new Promise((function(e){i.tokenChangeListeners.add((function t(n){n&&(i.tokenChangeListeners.delete(t),e(n))})),i.isInvisible&&n.execute(t)})));case 9:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this;try{this.assertNotDestroyed()}catch(t){return Promise.reject(t)}return this.renderPromise||(this.renderPromise=this.makeRenderPromise().catch((function(t){throw e.renderPromise=null,t}))),this.renderPromise}},{key:"_reset",value:function(){this.assertNotDestroyed(),null!==this.widgetId&&this.getAssertedRecaptcha().reset(this.widgetId)}},{key:"clear",value:function(){var e=this;this.assertNotDestroyed(),this.destroyed=!0,this._recaptchaLoader.clearedOneInstance(),this.isInvisible||this.container.childNodes.forEach((function(t){e.container.removeChild(t)}))}},{key:"validateStartingState",value:function(){ms(!this.parameters.sitekey,this.auth,"argument-error"),ms(this.isInvisible||!this.container.hasChildNodes(),this.auth,"argument-error"),ms("undefined"!==typeof document,this.auth,"operation-not-supported-in-this-environment")}},{key:"makeTokenCallback",value:function(e){var t=this;return function(n){if(t.tokenChangeListeners.forEach((function(e){return e(n)})),"function"===typeof e)e(n);else if("string"===typeof e){var r=Vd()[e];"function"===typeof r&&r(n)}}}},{key:"assertNotDestroyed",value:function(){ms(!this.destroyed,this.auth,"internal-error")}},{key:"makeRenderPromise",value:function(){var e=y(m().mark((function e(){var t,n;return m().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.init();case 2:return this.widgetId||(t=this.container,this.isInvisible||(n=document.createElement("div"),t.appendChild(n),t=n),this.widgetId=this.getAssertedRecaptcha().render(t,this.parameters)),e.abrupt("return",this.widgetId);case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"init",value:function(){var e=y(m().mark((function e(){var t;return m().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return ms(ws()&&!Hd(),this.auth,"internal-error"),e.next=3,Cf();case 3:return e.next=5,this._recaptchaLoader.load(this.auth,this.auth.languageCode||void 0);case 5:return this.recaptcha=e.sent,e.next=8,df(this.auth);case 8:ms(t=e.sent,this.auth,"internal-error"),this.parameters.sitekey=t;case 11:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"getAssertedRecaptcha",value:function(){return ms(this.recaptcha,this.auth,"internal-error"),this.recaptcha}}]),e}();function Cf(){var e=null;return new Promise((function(t){"complete"!==document.readyState?(e=function(){return t()},window.addEventListener("load",e)):t()})).catch((function(t){throw e&&window.removeEventListener("load",e),t}))}var Tf=function(){function e(t,n){_(this,e),this.verificationId=t,this.onConfirmation=n}return w(e,[{key:"confirm",value:function(e){var t=hc._fromVerification(this.verificationId,e);return this.onConfirmation(t)}}]),e}();function Pf(){return Pf=y(m().mark((function e(t,n,r){var i,a;return m().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=Pl(t),e.next=3,Af(i,n,Se(r));case 3:return a=e.sent,e.abrupt("return",new Tf(a,(function(e){return qc(i,e)})));case 5:case"end":return e.stop()}}),e)}))),Pf.apply(this,arguments)}function Nf(e,t,n){return Rf.apply(this,arguments)}function Rf(){return(Rf=y(m().mark((function e(t,n,r){var i,a;return m().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=Se(t),e.next=3,Fc(!1,i,"phone");case 3:return e.next=5,Af(i.auth,n,Se(r));case 5:return a=e.sent,e.abrupt("return",new Tf(a,(function(e){return Hc(i,e)})));case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Df(){return(Df=y(m().mark((function e(t,n,r){var i,a;return m().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=Se(t),e.next=3,Af(i.auth,n,Se(r));case 3:return a=e.sent,e.abrupt("return",new Tf(a,(function(e){return Kc(i,e)})));case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Af(e,t,n){return Of.apply(this,arguments)}function Of(){return Of=y(m().mark((function e(t,n,r){var i,a,o,u,s,l,c,d,f;return m().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,r.verify();case 2:if(a=e.sent,e.prev=3,ms("string"===typeof a,t,"argument-error"),ms(r.type===If,t,"argument-error"),!("session"in(o="string"===typeof n?{phoneNumber:n}:n))){e.next=26;break}if(u=o.session,!("phoneNumber"in o)){e.next=17;break}return ms("enroll"===u.type,t,"internal-error"),e.next=13,Nd(t,{idToken:u.credential,phoneEnrollmentInfo:{phoneNumber:o.phoneNumber,recaptchaToken:a}});case 13:return s=e.sent,e.abrupt("return",s.phoneSessionInfo.sessionInfo);case 17:return ms("signin"===u.type,t,"internal-error"),ms(l=(null===(i=o.multiFactorHint)||void 0===i?void 0:i.uid)||o.multiFactorUid,t,"missing-multi-factor-info"),e.next=22,cf(t,{mfaPendingCredential:u.credential,mfaEnrollmentId:l,phoneSignInInfo:{recaptchaToken:a}});case 22:return c=e.sent,e.abrupt("return",c.phoneResponseInfo.sessionInfo);case 24:e.next=31;break;case 26:return e.next=28,uc(t,{phoneNumber:o.phoneNumber,recaptchaToken:a});case 28:return d=e.sent,f=d.sessionInfo,e.abrupt("return",f);case 31:return e.prev=31,r._reset(),e.finish(31);case 34:case"end":return e.stop()}}),e,null,[[3,,31,34]])}))),Of.apply(this,arguments)}function Lf(){return(Lf=y(m().mark((function e(t,n){return m().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Lc(Se(t),n);case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var Mf=function(){function e(t){_(this,e),this.providerId=e.PROVIDER_ID,this.auth=Pl(t)}return w(e,[{key:"verifyPhoneNumber",value:function(e,t){return Af(this.auth,e,Se(t))}}],[{key:"credential",value:function(e,t){return hc._fromVerification(e,t)}},{key:"credentialFromResult",value:function(t){var n=t;return e.credentialFromTaggedObject(n)}},{key:"credentialFromError",value:function(t){return e.credentialFromTaggedObject(t.customData||{})}},{key:"credentialFromTaggedObject",value:function(e){var t=e._tokenResponse;if(!t)return null;var n=t.phoneNumber,r=t.temporaryProof;return n&&r?hc._fromTokenResponse(n,r):null}}]),e}();function Ff(e,t){return t?_s(t):(ms(e._popupRedirectResolver,e,"argument-error"),e._popupRedirectResolver)}Mf.PROVIDER_ID="phone",Mf.PHONE_SIGN_IN_METHOD="phone";var Uf=function(e){S(n,e);var t=N(n);function n(e){var r;return _(this,n),(r=t.call(this,"custom","custom")).params=e,r}return w(n,[{key:"_getIdTokenResponse",value:function(e){return ic(e,this._buildIdpRequest())}},{key:"_linkToIdToken",value:function(e,t){return ic(e,this._buildIdpRequest(t))}},{key:"_getReauthenticationResolver",value:function(e){return ic(e,this._buildIdpRequest())}},{key:"_buildIdpRequest",value:function(e){var t={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(t.idToken=e),t}}]),n}(Ol);function jf(e){return zc(e.auth,new Uf(e),e.bypassAuthState)}function Bf(e){var t=e.auth,n=e.user;return ms(n,t,"internal-error"),jc(n,new Uf(e),e.bypassAuthState)}function zf(e){return Wf.apply(this,arguments)}function Wf(){return Wf=y(m().mark((function e(t){var n,r;return m().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.auth,ms(r=t.user,n,"internal-error"),e.abrupt("return",Lc(r,new Uf(t),t.bypassAuthState));case 3:case"end":return e.stop()}}),e)}))),Wf.apply(this,arguments)}var qf=function(){function e(t,n,r,i){var a=arguments.length>4&&void 0!==arguments[4]&&arguments[4];_(this,e),this.auth=t,this.resolver=r,this.user=i,this.bypassAuthState=a,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}return w(e,[{key:"execute",value:function(){var e=this;return new Promise(function(){var t=y(m().mark((function t(n,r){return m().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e.pendingPromise={resolve:n,reject:r},t.prev=1,t.next=4,e.resolver._initialize(e.auth);case 4:return e.eventManager=t.sent,t.next=7,e.onExecution();case 7:e.eventManager.registerConsumer(e),t.next=13;break;case 10:t.prev=10,t.t0=t.catch(1),e.reject(t.t0);case 13:case"end":return t.stop()}}),t,null,[[1,10]])})));return function(e,n){return t.apply(this,arguments)}}())}},{key:"onAuthEvent",value:function(){var e=y(m().mark((function e(t){var n,r,i,a,o,u,s;return m().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=t.urlResponse,r=t.sessionId,i=t.postBody,a=t.tenantId,o=t.error,u=t.type,!o){e.next=4;break}return this.reject(o),e.abrupt("return");case 4:return s={auth:this.auth,requestUri:n,sessionId:r,tenantId:a||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState},e.prev=5,e.t0=this,e.next=9,this.getIdpTask(u)(s);case 9:e.t1=e.sent,e.t0.resolve.call(e.t0,e.t1),e.next=16;break;case 13:e.prev=13,e.t2=e.catch(5),this.reject(e.t2);case 16:case"end":return e.stop()}}),e,this,[[5,13]])})));return function(t){return e.apply(this,arguments)}}()},{key:"onError",value:function(e){this.reject(e)}},{key:"getIdpTask",value:function(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return jf;case"linkViaPopup":case"linkViaRedirect":return zf;case"reauthViaPopup":case"reauthViaRedirect":return Bf;default:ds(this.auth,"internal-error")}}},{key:"resolve",value:function(e){ys(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}},{key:"reject",value:function(e){ys(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}},{key:"unregisterAndCleanUp",value:function(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}]),e}(),Vf=new Is(2e3,1e4);function Hf(e,t,n){return Gf.apply(this,arguments)}function Gf(){return Gf=y(m().mark((function e(t,n,r){var i,a,o;return m().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=Pl(t),ps(t,n,mc),a=Ff(i,r),o=new Qf(i,"signInViaPopup",n,a),e.abrupt("return",o.executeNotNull());case 5:case"end":return e.stop()}}),e)}))),Gf.apply(this,arguments)}function Kf(){return(Kf=y(m().mark((function e(t,n,r){var i,a,o;return m().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return ps((i=Se(t)).auth,n,mc),a=Ff(i.auth,r),o=new Qf(i.auth,"reauthViaPopup",n,a,i),e.abrupt("return",o.executeNotNull());case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function $f(e,t,n){return Yf.apply(this,arguments)}function Yf(){return(Yf=y(m().mark((function e(t,n,r){var i,a,o;return m().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return ps((i=Se(t)).auth,n,mc),a=Ff(i.auth,r),o=new Qf(i.auth,"linkViaPopup",n,a,i),e.abrupt("return",o.executeNotNull());case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var Qf=function(e){S(n,e);var t=N(n);function n(e,r,i,a,o){var u;return _(this,n),(u=t.call(this,e,r,a,o)).provider=i,u.authWindow=null,u.pollId=null,n.currentPopupAction&&n.currentPopupAction.cancel(),n.currentPopupAction=I(u),u}return w(n,[{key:"executeNotNull",value:function(){var e=y(m().mark((function e(){var t;return m().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.execute();case 2:return ms(t=e.sent,this.auth,"internal-error"),e.abrupt("return",t);case 5:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"onExecution",value:function(){var e=y(m().mark((function e(){var t,n=this;return m().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return ys(1===this.filter.length,"Popup operations only handle one event"),t=Wd(),e.next=4,this.resolver._openPopup(this.auth,this.provider,this.filter[0],t);case 4:this.authWindow=e.sent,this.authWindow.associatedEvent=t,this.resolver._originValidation(this.auth).catch((function(e){n.reject(e)})),this.resolver._isIframeWebStorageSupported(this.auth,(function(e){e||n.reject(fs(n.auth,"web-storage-unsupported"))})),this.pollUserCancellation();case 9:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"eventId",get:function(){var e;return(null===(e=this.authWindow)||void 0===e?void 0:e.associatedEvent)||null}},{key:"cancel",value:function(){this.reject(fs(this.auth,"cancelled-popup-request"))}},{key:"cleanUp",value:function(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,n.currentPopupAction=null}},{key:"pollUserCancellation",value:function(){var e=this;!function t(){var n,r;(null===(r=null===(n=e.authWindow)||void 0===n?void 0:n.window)||void 0===r?void 0:r.closed)?e.pollId=window.setTimeout((function(){e.pollId=null,e.reject(fs(e.auth,"popup-closed-by-user"))}),2e3):e.pollId=window.setTimeout(t,Vf.get())}()}}]),n}(qf);Qf.currentPopupAction=null;var Jf=new Map,Xf=function(e){S(n,e);var t=N(n);function n(e,r){var i,a=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return _(this,n),(i=t.call(this,e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],r,void 0,a)).eventId=null,i}return w(n,[{key:"execute",value:function(){var e=y(m().mark((function e(){var t,r;return m().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=Jf.get(this.auth._key())){e.next=21;break}return e.prev=2,e.next=5,Zf(this.resolver,this.auth);case 5:if(!e.sent){e.next=12;break}return e.next=9,Hu(C(n.prototype),"execute",this).call(this);case 9:e.t0=e.sent,e.next=13;break;case 12:e.t0=null;case 13:r=e.t0,t=function(){return Promise.resolve(r)},e.next=20;break;case 17:e.prev=17,e.t1=e.catch(2),t=function(){return Promise.reject(e.t1)};case 20:Jf.set(this.auth._key(),t);case 21:return this.bypassAuthState||Jf.set(this.auth._key(),(function(){return Promise.resolve(null)})),e.abrupt("return",t());case 23:case"end":return e.stop()}}),e,this,[[2,17]])})));return function(){return e.apply(this,arguments)}}()},{key:"onAuthEvent",value:function(){var e=y(m().mark((function e(t){var r;return m().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if("signInViaRedirect"!==t.type){e.next=4;break}return e.abrupt("return",Hu(C(n.prototype),"onAuthEvent",this).call(this,t));case 4:if("unknown"!==t.type){e.next=7;break}return this.resolve(null),e.abrupt("return");case 7:if(!t.eventId){e.next=17;break}return e.next=10,this.auth._redirectUserForId(t.eventId);case 10:if(!(r=e.sent)){e.next=16;break}return this.user=r,e.abrupt("return",Hu(C(n.prototype),"onAuthEvent",this).call(this,t));case 16:this.resolve(null);case 17:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"onExecution",value:function(){var e=y(m().mark((function e(){return m().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()},{key:"cleanUp",value:function(){}}]),n}(qf);function Zf(e,t){return eh.apply(this,arguments)}function eh(){return eh=y(m().mark((function e(t,n){var r,i,a;return m().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=ah(n),i=ih(t),e.next=4,i._isAvailable();case 4:if(e.sent){e.next=6;break}return e.abrupt("return",!1);case 6:return e.next=8,i._get(r);case 8:return e.t0=e.sent,a="true"===e.t0,e.next=12,i._remove(r);case 12:return e.abrupt("return",a);case 13:case"end":return e.stop()}}),e)}))),eh.apply(this,arguments)}function th(e,t){return nh.apply(this,arguments)}function nh(){return nh=y(m().mark((function e(t,n){return m().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",ih(t)._set(ah(n),"true"));case 1:case"end":return e.stop()}}),e)}))),nh.apply(this,arguments)}function rh(e,t){Jf.set(e._key(),t)}function ih(e){return _s(e._redirectPersistence)}function ah(e){return fl("pendingRedirect",e.config.apiKey,e.name)}function oh(e,t,n){return function(e,t,n){return uh.apply(this,arguments)}(e,t,n)}function uh(){return uh=y(m().mark((function e(t,n,r){var i,a;return m().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=Pl(t),ps(t,n,mc),a=Ff(i,r),e.next=5,th(a,i);case 5:return e.abrupt("return",a._openRedirect(i,n,"signInViaRedirect"));case 6:case"end":return e.stop()}}),e)}))),uh.apply(this,arguments)}function sh(e,t,n){return function(e,t,n){return lh.apply(this,arguments)}(e,t,n)}function lh(){return(lh=y(m().mark((function e(t,n,r){var i,a,o;return m().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return ps((i=Se(t)).auth,n,mc),a=Ff(i.auth,r),e.next=5,th(a,i.auth);case 5:return e.next=7,mh(i);case 7:return o=e.sent,e.abrupt("return",a._openRedirect(i.auth,n,"reauthViaRedirect",o));case 9:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function ch(e,t,n){return function(e,t,n){return dh.apply(this,arguments)}(e,t,n)}function dh(){return(dh=y(m().mark((function e(t,n,r){var i,a,o;return m().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return ps((i=Se(t)).auth,n,mc),a=Ff(i.auth,r),e.next=5,Fc(!1,i,n.providerId);case 5:return e.next=7,th(a,i.auth);case 7:return e.next=9,mh(i);case 9:return o=e.sent,e.abrupt("return",a._openRedirect(i.auth,n,"linkViaRedirect",o));case 11:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function fh(e,t){return hh.apply(this,arguments)}function hh(){return hh=y(m().mark((function e(t,n){return m().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Pl(t)._initializationPromise;case 2:return e.abrupt("return",ph(t,n,!1));case 3:case"end":return e.stop()}}),e)}))),hh.apply(this,arguments)}function ph(e,t){return vh.apply(this,arguments)}function vh(){return vh=y(m().mark((function e(t,n){var r,i,a,o,u,s=arguments;return m().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=s.length>2&&void 0!==s[2]&&s[2],i=Pl(t),a=Ff(i,n),o=new Xf(i,a,r),e.next=6,o.execute();case 6:if(!(u=e.sent)||r){e.next=13;break}return delete u.user._redirectEventId,e.next=11,i._persistUserIfCurrent(u.user);case 11:return e.next=13,i._setRedirectUser(null,n);case 13:return e.abrupt("return",u);case 14:case"end":return e.stop()}}),e)}))),vh.apply(this,arguments)}function mh(e){return gh.apply(this,arguments)}function gh(){return(gh=y(m().mark((function e(t){var n;return m().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=Wd("".concat(t.uid,":::")),t._redirectEventId=n,e.next=4,t.auth._setRedirectUser(t);case 4:return e.next=6,t.auth._persistUserIfCurrent(t);case 6:return e.abrupt("return",n);case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var yh=function(){function e(t){_(this,e),this.auth=t,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}return w(e,[{key:"registerConsumer",value:function(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}},{key:"unregisterConsumer",value:function(e){this.consumers.delete(e)}},{key:"onEvent",value:function(e){var t=this;if(this.hasEventBeenHandled(e))return!1;var n=!1;return this.consumers.forEach((function(r){t.isEventForConsumer(e,r)&&(n=!0,t.sendToConsumer(e,r),t.saveEventToCache(e))})),this.hasHandledPotentialRedirect||!function(e){switch(e.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return _h(e);default:return!1}}(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}},{key:"sendToConsumer",value:function(e,t){var n;if(e.error&&!_h(e)){var r=(null===(n=e.error.code)||void 0===n?void 0:n.split("auth/")[1])||"internal-error";t.onError(fs(this.auth,r))}else t.onAuthEvent(e)}},{key:"isEventForConsumer",value:function(e,t){var n=null===t.eventId||!!e.eventId&&e.eventId===t.eventId;return t.filter.includes(e.type)&&n}},{key:"hasEventBeenHandled",value:function(e){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(bh(e))}},{key:"saveEventToCache",value:function(e){this.cachedEventUids.add(bh(e)),this.lastProcessedEventTime=Date.now()}}]),e}();function bh(e){return[e.type,e.eventId,e.sessionId,e.tenantId].filter((function(e){return e})).join("-")}function _h(e){var t=e.type,n=e.error;return"unknown"===t&&(null===n||void 0===n?void 0:n.code)==="auth/".concat("no-auth-event")}function kh(e){return wh.apply(this,arguments)}function wh(){return wh=y(m().mark((function e(t){var n,r=arguments;return m().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=r.length>1&&void 0!==r[1]?r[1]:{},e.abrupt("return",Ns(t,"GET","/v1/projects",n));case 2:case"end":return e.stop()}}),e)}))),wh.apply(this,arguments)}var xh=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,Ih=/^https?/;function Eh(){return Eh=y(m().mark((function e(t){var n,r,i,a,o;return m().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!t.config.emulator){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,kh(t);case 4:n=e.sent,r=n.authorizedDomains,i=x(r),e.prev=7,i.s();case 9:if((a=i.n()).done){e.next=20;break}if(o=a.value,e.prev=11,!Sh(o)){e.next=14;break}return e.abrupt("return");case 14:e.next=18;break;case 16:e.prev=16,e.t0=e.catch(11);case 18:e.next=9;break;case 20:e.next=25;break;case 22:e.prev=22,e.t1=e.catch(7),i.e(e.t1);case 25:return e.prev=25,i.f(),e.finish(25);case 28:ds(t,"unauthorized-domain");case 29:case"end":return e.stop()}}),e,null,[[7,22,25,28],[11,16]])}))),Eh.apply(this,arguments)}function Sh(e){var t=ks(),n=new URL(t),r=n.protocol,i=n.hostname;if(e.startsWith("chrome-extension://")){var a=new URL(e);return""===a.hostname&&""===i?"chrome-extension:"===r&&e.replace("chrome-extension://","")===t.replace("chrome-extension://",""):"chrome-extension:"===r&&a.hostname===i}if(!Ih.test(r))return!1;if(xh.test(e))return i===e;var o=e.replace(/\./g,"\\.");return new RegExp("^(.+\\."+o+"|"+o+")$","i").test(i)}var Ch=new Is(3e4,6e4);function Th(){var e=Vd().___jsl;if(null===e||void 0===e?void 0:e.H)for(var t=0,n=Object.keys(e.H);t<n.length;t++){var r=n[t];if(e.H[r].r=e.H[r].r||[],e.H[r].L=e.H[r].L||[],e.H[r].r=Te(e.H[r].L),e.CP)for(var i=0;i<e.CP.length;i++)e.CP[i]=null}}var Ph=null;function Nh(e){return Ph=Ph||function(e){return new Promise((function(t,n){var r,i,a;function o(){Th(),gapi.load("gapi.iframes",{callback:function(){t(gapi.iframes.getContext())},ontimeout:function(){Th(),n(fs(e,"network-request-failed"))},timeout:Ch.get()})}if(null===(i=null===(r=Vd().gapi)||void 0===r?void 0:r.iframes)||void 0===i?void 0:i.Iframe)t(gapi.iframes.getContext());else{if(!(null===(a=Vd().gapi)||void 0===a?void 0:a.load)){var u=pf("iframefcb");return Vd()[u]=function(){gapi.load?o():n(fs(e,"network-request-failed"))},hf("https://apis.google.com/js/api.js?onload=".concat(u)).catch((function(e){return n(e)}))}o()}})).catch((function(e){throw Ph=null,e}))}(e),Ph}var Rh=new Is(5e3,15e3),Dh={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},Ah=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function Oh(e){var t=e.config;ms(t.authDomain,e,"auth-domain-config-required");var n=t.emulator?Es(t,"emulator/auth/iframe"):"https://".concat(e.config.authDomain,"/").concat("__/auth/iframe"),r={apiKey:t.apiKey,appName:e.name,v:It},i=Ah.get(e.config.apiHost);i&&(r.eid=i);var a=e._getFrameworks();return a.length&&(r.fw=a.join(",")),"".concat(n,"?").concat(ge(r).slice(1))}function Lh(e){return Mh.apply(this,arguments)}function Mh(){return Mh=y(m().mark((function e(t){var n,r;return m().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Nh(t);case 2:return n=e.sent,ms(r=Vd().gapi,t,"internal-error"),e.abrupt("return",n.open({where:document.body,url:Oh(t),messageHandlersFilter:r.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:Dh,dontclear:!0},(function(e){return new Promise(function(){var n=y(m().mark((function n(r,i){var a,o,u;return m().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return u=function(){Vd().clearTimeout(o),r(e)},n.next=3,e.restyle({setHideOnLeave:!1});case 3:a=fs(t,"network-request-failed"),o=Vd().setTimeout((function(){i(a)}),Rh.get()),e.ping(u).then(u,(function(){i(a)}));case 6:case"end":return n.stop()}}),n)})));return function(e,t){return n.apply(this,arguments)}}())})));case 6:case"end":return e.stop()}}),e)}))),Mh.apply(this,arguments)}var Fh={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},Uh="_blank",jh="http://localhost",Bh=function(){function e(t){_(this,e),this.window=t,this.associatedEvent=null}return w(e,[{key:"close",value:function(){if(this.window)try{this.window.close()}catch(e){}}}]),e}();function zh(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:500,i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:600,a=Math.max((window.screen.availHeight-i)/2,0).toString(),o=Math.max((window.screen.availWidth-r)/2,0).toString(),u="",s=Object.assign(Object.assign({},Fh),{width:r.toString(),height:i.toString(),top:a,left:o}),c=V().toLowerCase();n&&(u=gl(c)?Uh:n),vl(c)&&(t=t||jh,s.scrollbars="yes");var d=Object.entries(s).reduce((function(e,t){var n=l(t,2),r=n[0],i=n[1];return"".concat(e).concat(r,"=").concat(i,",")}),"");if(xl(c)&&"_self"!==u)return Wh(t||"",u),new Bh(null);var f=window.open(t||"",u,d);ms(f,e,"popup-blocked");try{f.focus()}catch(h){}return new Bh(f)}function Wh(e,t){var n=document.createElement("a");n.href=e,n.target=t;var r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}var qh="__/auth/handler",Vh="emulator/auth/handler";function Hh(e,t,n,r,i,a){ms(e.config.authDomain,e,"auth-domain-config-required"),ms(e.config.apiKey,e,"invalid-api-key");var o={apiKey:e.config.apiKey,appName:e.name,authType:n,redirectUrl:r,v:It,eventId:i};if(t instanceof mc){t.setDefaultLanguage(e.languageCode),o.providerId=t.providerId||"",he(t.getCustomParameters())||(o.customParameters=JSON.stringify(t.getCustomParameters()));for(var u=0,s=Object.entries(a||{});u<s.length;u++){var c=l(s[u],2),d=c[0],f=c[1];o[d]=f}}if(t instanceof gc){var h=t.getScopes().filter((function(e){return""!==e}));h.length>0&&(o.scopes=h.join(","))}e.tenantId&&(o.tid=e.tenantId);for(var p=o,v=0,m=Object.keys(p);v<m.length;v++){var g=m[v];void 0===p[g]&&delete p[g]}return"".concat(function(e){var t=e.config;if(!t.emulator)return"https://".concat(t.authDomain,"/").concat(qh);return Es(t,Vh)}(e),"?").concat(ge(p).slice(1))}var Gh="webStorageSupport",Kh=function(){function e(){_(this,e),this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=jd,this._completeRedirectFn=ph,this._overrideRedirectResult=rh}return w(e,[{key:"_openPopup",value:function(){var e=y(m().mark((function e(t,n,r,i){var a,o;return m().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return ys(null===(a=this.eventManagers[t._key()])||void 0===a?void 0:a.manager,"_initialize() not called before _openPopup()"),o=Hh(t,n,r,ks(),i),e.abrupt("return",zh(t,o,Wd()));case 3:case"end":return e.stop()}}),e,this)})));return function(t,n,r,i){return e.apply(this,arguments)}}()},{key:"_openRedirect",value:function(){var e=y(m().mark((function e(t,n,r,i){return m().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._originValidation(t);case 2:return a=Hh(t,n,r,ks(),i),Vd().location.href=a,e.abrupt("return",new Promise((function(){})));case 4:case"end":return e.stop()}var a}),e,this)})));return function(t,n,r,i){return e.apply(this,arguments)}}()},{key:"_initialize",value:function(e){var t=this,n=e._key();if(this.eventManagers[n]){var r=this.eventManagers[n],i=r.manager,a=r.promise;return i?Promise.resolve(i):(ys(a,"If manager is not set, promise should be"),a)}var o=this.initAndGetManager(e);return this.eventManagers[n]={promise:o},o.catch((function(){delete t.eventManagers[n]})),o}},{key:"initAndGetManager",value:function(){var e=y(m().mark((function e(t){var n,r;return m().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Lh(t);case 2:return n=e.sent,r=new yh(t),n.register("authEvent",(function(e){return ms(null===e||void 0===e?void 0:e.authEvent,t,"invalid-auth-event"),{status:r.onEvent(e.authEvent)?"ACK":"ERROR"}}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[t._key()]={manager:r},this.iframes[t._key()]=n,e.abrupt("return",r);case 8:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_isIframeWebStorageSupported",value:function(e,t){this.iframes[e._key()].send(Gh,{type:Gh},(function(n){var r,i=null===(r=null===n||void 0===n?void 0:n[0])||void 0===r?void 0:r.webStorageSupport;void 0!==i&&t(!!i),ds(e,"internal-error")}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}},{key:"_originValidation",value:function(e){var t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=function(e){return Eh.apply(this,arguments)}(e)),this.originValidationPromises[t]}},{key:"_shouldInitProactively",get:function(){return El()||ml()||wl()}}]),e}(),$h=Kh,Yh=function(){function e(t){_(this,e),this.factorId=t}return w(e,[{key:"_process",value:function(e,t,n){switch(t.type){case"enroll":return this._finalizeEnroll(e,t.credential,n);case"signin":return this._finalizeSignIn(e,t.credential);default:return gs("unexpected MultiFactorSessionType")}}}]),e}(),Qh=function(e){S(n,e);var t=N(n);function n(e){var r;return _(this,n),(r=t.call(this,"phone")).credential=e,r}return w(n,[{key:"_finalizeEnroll",value:function(e,t,n){return function(e,t){return Ns(e,"POST","/v2/accounts/mfaEnrollment:finalize",Ps(e,t))}(e,{idToken:t,displayName:n,phoneVerificationInfo:this.credential._makeVerificationRequest()})}},{key:"_finalizeSignIn",value:function(e,t){return function(e,t){return Ns(e,"POST","/v2/accounts/mfaSignIn:finalize",Ps(e,t))}(e,{mfaPendingCredential:t,phoneVerificationInfo:this.credential._makeVerificationRequest()})}}],[{key:"_fromCredential",value:function(e){return new n(e)}}]),n}(Yh),Jh=function(){function e(){_(this,e)}return w(e,null,[{key:"assertion",value:function(e){return Qh._fromCredential(e)}}]),e}();Jh.FACTOR_ID="phone";var Xh="@firebase/auth",Zh="0.20.11",ep=function(){function e(t){_(this,e),this.auth=t,this.internalListeners=new Map}return w(e,[{key:"getUid",value:function(){var e;return this.assertAuthConfigured(),(null===(e=this.auth.currentUser)||void 0===e?void 0:e.uid)||null}},{key:"getToken",value:function(){var e=y(m().mark((function e(t){var n;return m().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.assertAuthConfigured(),e.next=3,this.auth._initializationPromise;case 3:if(this.auth.currentUser){e.next=5;break}return e.abrupt("return",null);case 5:return e.next=7,this.auth.currentUser.getIdToken(t);case 7:return n=e.sent,e.abrupt("return",{accessToken:n});case 9:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"addAuthTokenListener",value:function(e){if(this.assertAuthConfigured(),!this.internalListeners.has(e)){var t=this.auth.onIdTokenChanged((function(t){var n;e((null===(n=t)||void 0===n?void 0:n.stsTokenManager.accessToken)||null)}));this.internalListeners.set(e,t),this.updateProactiveRefresh()}}},{key:"removeAuthTokenListener",value:function(e){this.assertAuthConfigured();var t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}},{key:"assertAuthConfigured",value:function(){ms(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}},{key:"updateProactiveRefresh",value:function(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}]),e}();var tp;!function(e){var t;null===(t=Z())||void 0===t||t["_".concat(e)]}("authIdTokenMaxAge");function np(){return window}tp="Browser",gt(new Pe("auth",(function(e,t){var n=t.options,r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),a=r.options,o=a.apiKey,u=a.authDomain;return function(e,t){ms(o&&!o.includes(":"),"invalid-api-key",{appName:e.name}),ms(!(null===u||void 0===u?void 0:u.includes(":")),"argument-error",{appName:e.name});var r={apiKey:o,authDomain:u,clientPlatform:tp,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:Sl(tp)},i=new Tl(e,t,r);return function(e,t){var n=(null===t||void 0===t?void 0:t.persistence)||[],r=(Array.isArray(n)?n:[n]).map(_s);(null===t||void 0===t?void 0:t.errorMap)&&e._updateErrorMap(t.errorMap),e._initializeWithPersistence(r,null===t||void 0===t?void 0:t.popupRedirectResolver)}(i,n),i}(r,i)}),"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((function(e,t,n){e.getProvider("auth-internal").initialize()}))),gt(new Pe("auth-internal",(function(e){return function(e){return new ep(e)}(Pl(e.getProvider("auth").getImmediate()))}),"PRIVATE").setInstantiationMode("EXPLICIT")),Nt(Xh,Zh,function(e){switch(e){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";default:return}}(tp)),Nt(Xh,Zh,"esm2017");function rp(e,t,n){return ip.apply(this,arguments)}function ip(){return ip=y(m().mark((function e(t,n,r){var i,a,o,u,s;return m().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=np(),o=a.BuildInfo,ys(n.sessionId,"AuthEvent did not contain a session ID"),e.next=4,cp(n.sessionId);case 4:return u=e.sent,s={},wl()?s.ibi=o.packageName:bl()?s.apn=o.packageName:ds(t,"operation-not-supported-in-this-environment"),o.displayName&&(s.appDisplayName=o.displayName),s.sessionId=u,e.abrupt("return",Hh(t,r,n.type,void 0,null!==(i=n.eventId)&&void 0!==i?i:void 0,s));case 10:case"end":return e.stop()}}),e)}))),ip.apply(this,arguments)}function ap(){return ap=y(m().mark((function e(t){var n,r,i;return m().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=np(),r=n.BuildInfo,i={},wl()?i.iosBundleId=r.packageName:bl()?i.androidPackageName=r.packageName:ds(t,"operation-not-supported-in-this-environment"),e.next=5,kh(t,i);case 5:case"end":return e.stop()}}),e)}))),ap.apply(this,arguments)}function op(e){var t=np().cordova;return new Promise((function(n){t.plugins.browsertab.isAvailable((function(r){var i=null;r?t.plugins.browsertab.openUrl(e):i=t.InAppBrowser.open(e,function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:V();return/(iPad|iPhone|iPod).*OS 7_\d/i.test(e)||/(iPad|iPhone|iPod).*OS 8_\d/i.test(e)}()?"_blank":"_system","location=yes"),n(i)}))}))}function up(e,t,n){return sp.apply(this,arguments)}function sp(){return sp=y(m().mark((function e(t,n,r){var i,a,o;return m().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=np(),a=i.cordova,o=function(){},e.prev=2,e.next=5,new Promise((function(e,i){var u=null;function s(){var t;e();var n=null===(t=a.plugins.browsertab)||void 0===t?void 0:t.close;"function"===typeof n&&n(),"function"===typeof(null===r||void 0===r?void 0:r.close)&&r.close()}function l(){u||(u=window.setTimeout((function(){i(fs(t,"redirect-cancelled-by-user"))}),2e3))}function c(){"visible"===(null===document||void 0===document?void 0:document.visibilityState)&&l()}n.addPassiveListener(s),document.addEventListener("resume",l,!1),bl()&&document.addEventListener("visibilitychange",c,!1),o=function(){n.removePassiveListener(s),document.removeEventListener("resume",l,!1),document.removeEventListener("visibilitychange",c,!1),u&&window.clearTimeout(u)}}));case 5:return e.prev=5,o(),e.finish(5);case 8:case"end":return e.stop()}}),e,null,[[2,,5,8]])}))),sp.apply(this,arguments)}function lp(e){var t,n,r,i,a,o,u,s,l,c,d=np();ms("function"===typeof(null===(t=null===d||void 0===d?void 0:d.universalLinks)||void 0===t?void 0:t.subscribe),e,"invalid-cordova-configuration",{missingPlugin:"cordova-universal-links-plugin-fix"}),ms("undefined"!==typeof(null===(n=null===d||void 0===d?void 0:d.BuildInfo)||void 0===n?void 0:n.packageName),e,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-buildInfo"}),ms("function"===typeof(null===(a=null===(i=null===(r=null===d||void 0===d?void 0:d.cordova)||void 0===r?void 0:r.plugins)||void 0===i?void 0:i.browsertab)||void 0===a?void 0:a.openUrl),e,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),ms("function"===typeof(null===(s=null===(u=null===(o=null===d||void 0===d?void 0:d.cordova)||void 0===o?void 0:o.plugins)||void 0===u?void 0:u.browsertab)||void 0===s?void 0:s.isAvailable),e,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),ms("function"===typeof(null===(c=null===(l=null===d||void 0===d?void 0:d.cordova)||void 0===l?void 0:l.InAppBrowser)||void 0===c?void 0:c.open),e,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-inappbrowser"})}function cp(e){return dp.apply(this,arguments)}function dp(){return(dp=y(m().mark((function e(t){var n,r,i;return m().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=fp(t),e.next=3,crypto.subtle.digest("SHA-256",n);case 3:return r=e.sent,i=Array.from(new Uint8Array(r)),e.abrupt("return",i.map((function(e){return e.toString(16).padStart(2,"0")})).join(""));case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function fp(e){if(ys(/[0-9a-zA-Z]+/.test(e),"Can only convert alpha-numeric strings"),"undefined"!==typeof TextEncoder)return(new TextEncoder).encode(e);for(var t=new ArrayBuffer(e.length),n=new Uint8Array(t),r=0;r<e.length;r++)n[r]=e.charCodeAt(r);return n}var hp=function(e){S(n,e);var t=N(n);function n(){var e;return _(this,n),(e=t.apply(this,arguments)).passiveListeners=new Set,e.initPromise=new Promise((function(t){e.resolveInialized=t})),e}return w(n,[{key:"addPassiveListener",value:function(e){this.passiveListeners.add(e)}},{key:"removePassiveListener",value:function(e){this.passiveListeners.delete(e)}},{key:"resetRedirect",value:function(){this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1}},{key:"onEvent",value:function(e){return this.resolveInialized(),this.passiveListeners.forEach((function(t){return t(e)})),Hu(C(n.prototype),"onEvent",this).call(this,e)}},{key:"initialized",value:function(){var e=y(m().mark((function e(){return m().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.initPromise;case 2:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),n}(yh);function pp(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;return{type:t,eventId:n,urlResponse:null,sessionId:bp(),postBody:null,tenantId:e.tenantId,error:fs(e,"no-auth-event")}}function vp(e,t){return _p()._set(kp(e),t)}function mp(e){return gp.apply(this,arguments)}function gp(){return gp=y(m().mark((function e(t){var n;return m().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,_p()._get(kp(t));case 2:if(!(n=e.sent)){e.next=6;break}return e.next=6,_p()._remove(kp(t));case 6:return e.abrupt("return",n);case 7:case"end":return e.stop()}}),e)}))),gp.apply(this,arguments)}function yp(e,t){var n,r,i=function(e){var t=wp(e),n=t.link?decodeURIComponent(t.link):void 0,r=wp(n).link,i=t.deep_link_id?decodeURIComponent(t.deep_link_id):void 0;return wp(i).link||i||r||n||e}(t);if(i.includes("/__/auth/callback")){var a=wp(i),o=a.firebaseError?function(e){try{return JSON.parse(e)}catch(t){return null}}(decodeURIComponent(a.firebaseError)):null,u=null===(r=null===(n=null===o||void 0===o?void 0:o.code)||void 0===n?void 0:n.split("auth/"))||void 0===r?void 0:r[1],s=u?fs(u):null;return s?{type:e.type,eventId:e.eventId,tenantId:e.tenantId,error:s,urlResponse:null,sessionId:null,postBody:null}:{type:e.type,eventId:e.eventId,tenantId:e.tenantId,sessionId:e.sessionId,urlResponse:i,postBody:null}}return null}function bp(){for(var e=[],t="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ",n=0;n<20;n++){var r=Math.floor(Math.random()*t.length);e.push(t.charAt(r))}return e.join("")}function _p(){return _s(Fd)}function kp(e){return fl("authEvent",e.config.apiKey,e.name)}function wp(e){if(!(null===e||void 0===e?void 0:e.includes("?")))return{};var t,n=e.split("?"),r=a(t=n)||Ce(t)||u(t)||s();r[0];return ye(r.slice(1).join("?"))}var xp=function(){function e(){_(this,e),this._redirectPersistence=jd,this._shouldInitProactively=!0,this.eventManagers=new Map,this.originValidationPromises={},this._completeRedirectFn=ph,this._overrideRedirectResult=rh}return w(e,[{key:"_initialize",value:function(){var e=y(m().mark((function e(t){var n,r;return m().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t._key(),(r=this.eventManagers.get(n))||(r=new hp(t),this.eventManagers.set(n,r),this.attachCallbackListeners(t,r)),e.abrupt("return",r);case 4:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_openPopup",value:function(e){ds(e,"operation-not-supported-in-this-environment")}},{key:"_openRedirect",value:function(){var e=y(m().mark((function e(t,n,r,i){var a,o,u,s;return m().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return lp(t),e.next=3,this._initialize(t);case 3:return a=e.sent,e.next=6,a.initialized();case 6:return a.resetRedirect(),Jf.clear(),e.next=10,this._originValidation(t);case 10:return o=pp(t,r,i),e.next=13,vp(t,o);case 13:return e.next=15,rp(t,o,n);case 15:return u=e.sent,e.next=18,op(u);case 18:return s=e.sent,e.abrupt("return",up(t,a,s));case 20:case"end":return e.stop()}}),e,this)})));return function(t,n,r,i){return e.apply(this,arguments)}}()},{key:"_isIframeWebStorageSupported",value:function(e,t){throw new Error("Method not implemented.")}},{key:"_originValidation",value:function(e){var t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=function(e){return ap.apply(this,arguments)}(e)),this.originValidationPromises[t]}},{key:"attachCallbackListeners",value:function(e,t){var n=np(),r=n.universalLinks,i=n.handleOpenURL,a=n.BuildInfo,o=setTimeout(y(m().mark((function n(){return m().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,mp(e);case 2:t.onEvent(Ep());case 3:case"end":return n.stop()}}),n)}))),500),u=function(){var n=y(m().mark((function n(r){var i,a;return m().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return clearTimeout(o),n.next=3,mp(e);case 3:i=n.sent,a=null,i&&(null===r||void 0===r?void 0:r.url)&&(a=yp(i,r.url)),t.onEvent(a||Ep());case 7:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}();"undefined"!==typeof r&&"function"===typeof r.subscribe&&r.subscribe(null,u);var s=i,l="".concat(a.packageName.toLowerCase(),"://");np().handleOpenURL=function(){var e=y(m().mark((function e(t){return m().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.toLowerCase().startsWith(l)&&u({url:t}),"function"===typeof s)try{s(t)}catch(n){console.error(n)}case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()}}]),e}(),Ip=xp;function Ep(){return{type:"unknown",eventId:null,sessionId:null,urlResponse:null,postBody:null,tenantId:null,error:fs("no-auth-event")}}function Sp(){var e;return(null===(e=null===self||void 0===self?void 0:self.location)||void 0===e?void 0:e.protocol)||null}function Cp(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:V();return!("file:"!==Sp()&&"ionic:"!==Sp()&&"capacitor:"!==Sp()||!e.toLowerCase().match(/iphone|ipad|ipod|android/))}function Tp(){return Y()&&11===(null===document||void 0===document?void 0:document.documentMode)}function Pp(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:V();return/Edge\/\d+/.test(e)}function Np(){try{var e=self.localStorage,t=Wd();if(e)return e.setItem(t,"1"),e.removeItem(t),!function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:V();return Tp()||Pp(e)}()||J()}catch(n){return Rp()&&J()}return!1}function Rp(){return"undefined"!==typeof n.g&&"WorkerGlobalScope"in n.g&&"importScripts"in n.g}function Dp(){return("http:"===Sp()||"https:"===Sp()||K()||Cp())&&!($()||G())&&Np()&&!Rp()}function Ap(){return Cp()&&"undefined"!==typeof document}function Op(){return Lp.apply(this,arguments)}function Lp(){return(Lp=y(m().mark((function e(){return m().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(Ap()){e.next=2;break}return e.abrupt("return",!1);case 2:return e.abrupt("return",new Promise((function(e){var t=setTimeout((function(){e(!1)}),1e3);document.addEventListener("deviceready",(function(){clearTimeout(t),e(!0)}))})));case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var Mp={LOCAL:"local",NONE:"none",SESSION:"session"},Fp=ms,Up="persistence";function jp(e,t){Fp(Object.values(Mp).includes(t),e,"invalid-persistence-type"),$()?Fp(t!==Mp.SESSION,e,"unsupported-persistence-type"):G()?Fp(t===Mp.NONE,e,"unsupported-persistence-type"):Rp()?Fp(t===Mp.NONE||t===Mp.LOCAL&&J(),e,"unsupported-persistence-type"):Fp(t===Mp.NONE||Np(),e,"unsupported-persistence-type")}function Bp(e){return zp.apply(this,arguments)}function zp(){return zp=y(m().mark((function e(t){var n,r;return m().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t._initializationPromise;case 2:n=Wp(),r=fl(Up,t.config.apiKey,t.name),n&&n.setItem(r,t._getPersistence());case 5:case"end":return e.stop()}}),e)}))),zp.apply(this,arguments)}function Wp(){var e;try{return(null===(e="undefined"!==typeof window?window:null)||void 0===e?void 0:e.sessionStorage)||null}catch(t){return null}}var qp=ms,Vp=function(){function e(){_(this,e),this.browserResolver=_s($h),this.cordovaResolver=_s(Ip),this.underlyingResolver=null,this._redirectPersistence=jd,this._completeRedirectFn=ph,this._overrideRedirectResult=rh}return w(e,[{key:"_initialize",value:function(){var e=y(m().mark((function e(t){return m().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.selectUnderlyingResolver();case 2:return e.abrupt("return",this.assertedUnderlyingResolver._initialize(t));case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_openPopup",value:function(){var e=y(m().mark((function e(t,n,r,i){return m().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.selectUnderlyingResolver();case 2:return e.abrupt("return",this.assertedUnderlyingResolver._openPopup(t,n,r,i));case 3:case"end":return e.stop()}}),e,this)})));return function(t,n,r,i){return e.apply(this,arguments)}}()},{key:"_openRedirect",value:function(){var e=y(m().mark((function e(t,n,r,i){return m().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.selectUnderlyingResolver();case 2:return e.abrupt("return",this.assertedUnderlyingResolver._openRedirect(t,n,r,i));case 3:case"end":return e.stop()}}),e,this)})));return function(t,n,r,i){return e.apply(this,arguments)}}()},{key:"_isIframeWebStorageSupported",value:function(e,t){this.assertedUnderlyingResolver._isIframeWebStorageSupported(e,t)}},{key:"_originValidation",value:function(e){return this.assertedUnderlyingResolver._originValidation(e)}},{key:"_shouldInitProactively",get:function(){return Ap()||this.browserResolver._shouldInitProactively}},{key:"assertedUnderlyingResolver",get:function(){return qp(this.underlyingResolver,"internal-error"),this.underlyingResolver}},{key:"selectUnderlyingResolver",value:function(){var e=y(m().mark((function e(){var t;return m().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.underlyingResolver){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,Op();case 4:t=e.sent,this.underlyingResolver=t?this.cordovaResolver:this.browserResolver;case 6:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),e}();function Hp(e){return e.unwrap()}function Gp(e,t){var n,r,i=null===(n=t.customData)||void 0===n?void 0:n._tokenResponse;if("auth/multi-factor-auth-required"===(null===(r=t)||void 0===r?void 0:r.code))t.resolver=new Jp(e,function(e,t){var n,r=Se(e),i=t;return ms(t.customData.operationType,r,"argument-error"),ms(null===(n=i.customData._serverResponse)||void 0===n?void 0:n.mfaPendingCredential,r,"argument-error"),Pd._fromError(r,i)}(e,t));else if(i){var a=Kp(t),o=t;a&&(o.credential=a,o.tenantId=i.tenantId||void 0,o.email=i.email||void 0,o.phoneNumber=i.phoneNumber||void 0)}}function Kp(e){var t=(e instanceof ie?e.customData:e)._tokenResponse;if(!t)return null;if(!(e instanceof ie)&&"temporaryProof"in t&&"phoneNumber"in t)return Mf.credentialFromResult(e);var n,r=t.providerId;if(!r||r===Ju)return null;switch(r){case Qu:n=_c;break;case $u:n=bc;break;case Yu:n=kc;break;case Xu:n=Ic;break;default:var i=t.oauthIdToken,a=t.oauthAccessToken,o=t.oauthTokenSecret,u=t.pendingToken,s=t.nonce;return a||o||i||u?u?r.startsWith("saml.")?wc._create(r,u):oc._fromParams({providerId:r,signInMethod:r,pendingToken:u,idToken:i,accessToken:a}):new yc(r).credential({idToken:i,accessToken:a,rawNonce:s}):null}return e instanceof ie?n.credentialFromError(e):n.credentialFromResult(e)}function $p(e,t){return t.catch((function(t){throw t instanceof ie&&Gp(e,t),t})).then((function(e){var t,n=e.operationType,r=e.user;return{operationType:n,credential:(t=e,Kp(t)),additionalUserInfo:Cd(e),user:Xp.getOrCreate(r)}}))}function Yp(e,t){return Qp.apply(this,arguments)}function Qp(){return Qp=y(m().mark((function e(t,n){var r;return m().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n;case 2:return r=e.sent,e.abrupt("return",{verificationId:r.verificationId,confirm:function(e){return $p(t,r.confirm(e))}});case 4:case"end":return e.stop()}}),e)}))),Qp.apply(this,arguments)}var Jp=function(){function e(t,n){_(this,e),this.resolver=n,this.auth=t.wrapped()}return w(e,[{key:"session",get:function(){return this.resolver.session}},{key:"hints",get:function(){return this.resolver.hints}},{key:"resolveSignIn",value:function(e){return $p(Hp(this.auth),this.resolver.resolveSignIn(e))}}]),e}(),Xp=function(){function e(t){_(this,e),this._delegate=t,this.multiFactor=function(e){var t=Se(e);return Ad.has(t)||Ad.set(t,Dd._fromUser(t)),Ad.get(t)}(t)}return w(e,[{key:"delete",value:function(){return this._delegate.delete()}},{key:"reload",value:function(){return this._delegate.reload()}},{key:"toJSON",value:function(){return this._delegate.toJSON()}},{key:"getIdTokenResult",value:function(e){return this._delegate.getIdTokenResult(e)}},{key:"getIdToken",value:function(e){return this._delegate.getIdToken(e)}},{key:"linkAndRetrieveDataWithCredential",value:function(e){return this.linkWithCredential(e)}},{key:"linkWithCredential",value:function(){var e=y(m().mark((function e(t){return m().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",$p(this.auth,Hc(this._delegate,t)));case 1:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"linkWithPhoneNumber",value:function(){var e=y(m().mark((function e(t,n){return m().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Yp(this.auth,Nf(this._delegate,t,n)));case 1:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"linkWithPopup",value:function(){var e=y(m().mark((function e(t){return m().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",$p(this.auth,$f(this._delegate,t,Vp)));case 1:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"linkWithRedirect",value:function(){var e=y(m().mark((function e(t){return m().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Bp(Pl(this.auth));case 2:return e.abrupt("return",ch(this._delegate,t,Vp));case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"reauthenticateAndRetrieveDataWithCredential",value:function(e){return this.reauthenticateWithCredential(e)}},{key:"reauthenticateWithCredential",value:function(){var e=y(m().mark((function e(t){return m().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",$p(this.auth,Kc(this._delegate,t)));case 1:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"reauthenticateWithPhoneNumber",value:function(e,t){return Yp(this.auth,function(e,t,n){return Df.apply(this,arguments)}(this._delegate,e,t))}},{key:"reauthenticateWithPopup",value:function(e){return $p(this.auth,function(e,t,n){return Kf.apply(this,arguments)}(this._delegate,e,Vp))}},{key:"reauthenticateWithRedirect",value:function(){var e=y(m().mark((function e(t){return m().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Bp(Pl(this.auth));case 2:return e.abrupt("return",sh(this._delegate,t,Vp));case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"sendEmailVerification",value:function(e){return function(e,t){return pd.apply(this,arguments)}(this._delegate,e)}},{key:"unlink",value:function(){var e=y(m().mark((function e(t){return m().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Ac(this._delegate,t);case 2:return e.abrupt("return",this);case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"updateEmail",value:function(e){return function(e,t){return bd(Se(e),t,null)}(this._delegate,e)}},{key:"updatePassword",value:function(e){return function(e,t){return bd(Se(e),null,t)}(this._delegate,e)}},{key:"updatePhoneNumber",value:function(e){return function(e,t){return Lf.apply(this,arguments)}(this._delegate,e)}},{key:"updateProfile",value:function(e){return function(e,t){return yd.apply(this,arguments)}(this._delegate,e)}},{key:"verifyBeforeUpdateEmail",value:function(e,t){return function(e,t,n){return vd.apply(this,arguments)}(this._delegate,e,t)}},{key:"emailVerified",get:function(){return this._delegate.emailVerified}},{key:"isAnonymous",get:function(){return this._delegate.isAnonymous}},{key:"metadata",get:function(){return this._delegate.metadata}},{key:"phoneNumber",get:function(){return this._delegate.phoneNumber}},{key:"providerData",get:function(){return this._delegate.providerData}},{key:"refreshToken",get:function(){return this._delegate.refreshToken}},{key:"tenantId",get:function(){return this._delegate.tenantId}},{key:"displayName",get:function(){return this._delegate.displayName}},{key:"email",get:function(){return this._delegate.email}},{key:"photoURL",get:function(){return this._delegate.photoURL}},{key:"providerId",get:function(){return this._delegate.providerId}},{key:"uid",get:function(){return this._delegate.uid}},{key:"auth",get:function(){return this._delegate.auth}}],[{key:"getOrCreate",value:function(t){return e.USER_MAP.has(t)||e.USER_MAP.set(t,new e(t)),e.USER_MAP.get(t)}}]),e}();Xp.USER_MAP=new WeakMap;var Zp=ms,ev=function(){function e(t,n){if(_(this,e),this.app=t,n.isInitialized())return this._delegate=n.getImmediate(),void this.linkUnderlyingAuth();var r=t.options.apiKey;Zp(r,"invalid-api-key",{appName:t.name}),Zp(r,"invalid-api-key",{appName:t.name});var i="undefined"!==typeof window?Vp:void 0;this._delegate=n.initialize({options:{persistence:nv(r,t.name),popupRedirectResolver:i}}),this._delegate._updateErrorMap(os),this.linkUnderlyingAuth()}return w(e,[{key:"emulatorConfig",get:function(){return this._delegate.emulatorConfig}},{key:"currentUser",get:function(){return this._delegate.currentUser?Xp.getOrCreate(this._delegate.currentUser):null}},{key:"languageCode",get:function(){return this._delegate.languageCode},set:function(e){this._delegate.languageCode=e}},{key:"settings",get:function(){return this._delegate.settings}},{key:"tenantId",get:function(){return this._delegate.tenantId},set:function(e){this._delegate.tenantId=e}},{key:"useDeviceLanguage",value:function(){this._delegate.useDeviceLanguage()}},{key:"signOut",value:function(){return this._delegate.signOut()}},{key:"useEmulator",value:function(e,t){Rl(this._delegate,e,t)}},{key:"applyActionCode",value:function(e){return function(e,t){return rd.apply(this,arguments)}(this._delegate,e)}},{key:"checkActionCode",value:function(e){return id(this._delegate,e)}},{key:"confirmPasswordReset",value:function(e,t){return function(e,t,n){return nd.apply(this,arguments)}(this._delegate,e,t)}},{key:"createUserWithEmailAndPassword",value:function(){var e=y(m().mark((function e(t,n){return m().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",$p(this._delegate,ud(this._delegate,t,n)));case 1:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"fetchProvidersForEmail",value:function(e){return this.fetchSignInMethodsForEmail(e)}},{key:"fetchSignInMethodsForEmail",value:function(e){return function(e,t){return hd.apply(this,arguments)}(this._delegate,e)}},{key:"isSignInWithEmailLink",value:function(e){return function(e,t){var n=pc.parseLink(t);return"EMAIL_SIGNIN"===(null===n||void 0===n?void 0:n.operation)}(this._delegate,e)}},{key:"getRedirectResult",value:function(){var e=y(m().mark((function e(){var t;return m().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return Zp(Dp(),this._delegate,"operation-not-supported-in-this-environment"),e.next=3,fh(this._delegate,Vp);case 3:if(t=e.sent){e.next=6;break}return e.abrupt("return",{credential:null,user:null});case 6:return e.abrupt("return",$p(this._delegate,Promise.resolve(t)));case 7:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"addFrameworkForLogging",value:function(e){!function(e,t){Pl(e)._logFramework(t)}(this._delegate,e)}},{key:"onAuthStateChanged",value:function(e,t,n){var r=tv(e,t,n),i=r.next,a=r.error,o=r.complete;return this._delegate.onAuthStateChanged(i,a,o)}},{key:"onIdTokenChanged",value:function(e,t,n){var r=tv(e,t,n),i=r.next,a=r.error,o=r.complete;return this._delegate.onIdTokenChanged(i,a,o)}},{key:"sendSignInLinkToEmail",value:function(e,t){return function(e,t,n){return ld.apply(this,arguments)}(this._delegate,e,t)}},{key:"sendPasswordResetEmail",value:function(e,t){return function(e,t,n){return td.apply(this,arguments)}(this._delegate,e,t||void 0)}},{key:"setPersistence",value:function(){var e=y(m().mark((function e(t){var n,r;return m().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:jp(this._delegate,t),e.t0=t,e.next=e.t0===Mp.SESSION?4:e.t0===Mp.LOCAL?6:e.t0===Mp.NONE?11:13;break;case 4:return n=jd,e.abrupt("break",14);case 6:return e.next=8,_s(lf)._isAvailable();case 8:return r=e.sent,n=r?lf:Fd,e.abrupt("break",14);case 11:return n=dl,e.abrupt("break",14);case 13:return e.abrupt("return",ds("argument-error",{appName:this._delegate.name}));case 14:return e.abrupt("return",this._delegate.setPersistence(n));case 15:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"signInAndRetrieveDataWithCredential",value:function(e){return this.signInWithCredential(e)}},{key:"signInAnonymously",value:function(){return $p(this._delegate,function(e){return Pc.apply(this,arguments)}(this._delegate))}},{key:"signInWithCredential",value:function(e){return $p(this._delegate,qc(this._delegate,e))}},{key:"signInWithCustomToken",value:function(e){return $p(this._delegate,function(e,t){return Jc.apply(this,arguments)}(this._delegate,e))}},{key:"signInWithEmailAndPassword",value:function(e,t){return $p(this._delegate,function(e,t,n){return qc(Se(e),vc.credential(t,n))}(this._delegate,e,t))}},{key:"signInWithEmailLink",value:function(e,t){return $p(this._delegate,function(e,t,n){return cd.apply(this,arguments)}(this._delegate,e,t))}},{key:"signInWithPhoneNumber",value:function(e,t){return Yp(this._delegate,function(e,t,n){return Pf.apply(this,arguments)}(this._delegate,e,t))}},{key:"signInWithPopup",value:function(){var e=y(m().mark((function e(t){return m().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return Zp(Dp(),this._delegate,"operation-not-supported-in-this-environment"),e.abrupt("return",$p(this._delegate,Hf(this._delegate,t,Vp)));case 2:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"signInWithRedirect",value:function(){var e=y(m().mark((function e(t){return m().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return Zp(Dp(),this._delegate,"operation-not-supported-in-this-environment"),e.next=3,Bp(this._delegate);case 3:return e.abrupt("return",oh(this._delegate,t,Vp));case 4:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"updateCurrentUser",value:function(e){return this._delegate.updateCurrentUser(e)}},{key:"verifyPasswordResetCode",value:function(e){return function(e,t){return od.apply(this,arguments)}(this._delegate,e)}},{key:"unwrap",value:function(){return this._delegate}},{key:"_delete",value:function(){return this._delegate._delete()}},{key:"linkUnderlyingAuth",value:function(){var e=this;this._delegate.wrapped=function(){return e}}}]),e}();function tv(e,t,n){var r=e;"function"!==typeof e&&(r=e.next,t=e.error,n=e.complete);var i=r;return{next:function(e){return i(e&&Xp.getOrCreate(e))},error:t,complete:n}}function nv(e,t){var n=function(e,t){var n=Wp();if(!n)return[];var r=fl(Up,e,t);switch(n.getItem(r)){case Mp.NONE:return[dl];case Mp.LOCAL:return[lf,jd];case Mp.SESSION:return[jd];default:return[]}}(e,t);if("undefined"===typeof self||n.includes(lf)||n.push(lf),"undefined"!==typeof window)for(var r=0,i=[Fd,jd];r<i.length;r++){var a=i[r];n.includes(a)||n.push(a)}return n.includes(dl)||n.push(dl),n}ev.Persistence=Mp;var rv=function(){function e(){_(this,e),this.providerId="phone",this._delegate=new Mf(Hp(en.auth()))}return w(e,[{key:"verifyPhoneNumber",value:function(e,t){return this._delegate.verifyPhoneNumber(e,t)}},{key:"unwrap",value:function(){return this._delegate}}],[{key:"credential",value:function(e,t){return Mf.credential(e,t)}}]),e}();rv.PHONE_SIGN_IN_METHOD=Mf.PHONE_SIGN_IN_METHOD,rv.PROVIDER_ID=Mf.PROVIDER_ID;var iv,av=ms,ov=function(){function e(t,n){var r,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:en.app();_(this,e),av(null===(r=i.options)||void 0===r?void 0:r.apiKey,"invalid-api-key",{appName:i.name}),this._delegate=new Sf(t,n,i.auth()),this.type=this._delegate.type}return w(e,[{key:"clear",value:function(){this._delegate.clear()}},{key:"render",value:function(){return this._delegate.render()}},{key:"verify",value:function(){return this._delegate.verify()}}]),e}();(iv=en).INTERNAL.registerComponent(new Pe("auth-compat",(function(e){var t=e.getProvider("app-compat").getImmediate(),n=e.getProvider("auth");return new ev(t,n)}),"PUBLIC").setServiceProps({ActionCodeInfo:{Operation:{EMAIL_SIGNIN:Zu,PASSWORD_RESET:es,RECOVER_EMAIL:ts,REVERT_SECOND_FACTOR_ADDITION:ns,VERIFY_AND_CHANGE_EMAIL:rs,VERIFY_EMAIL:is}},EmailAuthProvider:vc,FacebookAuthProvider:bc,GithubAuthProvider:kc,GoogleAuthProvider:_c,OAuthProvider:yc,SAMLAuthProvider:xc,PhoneAuthProvider:rv,PhoneMultiFactorGenerator:Jh,RecaptchaVerifier:ov,TwitterAuthProvider:Ic,Auth:ev,AuthCredential:Ol,Error:ie}).setInstantiationMode("LAZY").setMultipleInstances(!1)),iv.registerVersion("@firebase/auth-compat","0.2.24");var uv=en.initializeApp({apiKey:"AIzaSyAbQ2mHRl1ZJzpLnkPBulCBR1d23y7RzVA",authDomain:"todo-app-1719e.firebaseapp.com",databaseURL:"https://todo-app-1719e-default-rtdb.europe-west1.firebasedatabase.app",projectId:"todo-app-1719e",storageBucket:"todo-app-1719e.appspot.com",messagingSenderId:"754082289786",appId:"1:754082289786:web:7f8f281698c740573d03c3"}),sv=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:St(),t=arguments.length>1?arguments[1]:void 0,n=yt(e,"database").getImmediate({identifier:t}),r=ee("database");return r&&qu.apply(void 0,[n].concat(Te(r))),n}(uv),lv=uv.auth(),cv=sv,dv=t.createContext();function fv(){return(0,t.useContext)(dv)}function hv(e){var n=e.children,r=l((0,t.useState)(),2),i=r[0],a=r[1],o=l((0,t.useState)(!0),2),u=o[0],s=o[1];(0,t.useEffect)((function(){return lv.onAuthStateChanged((function(e){a(e),s(!1)}))}),[]);var d={currentUser:i,signup:function(e,t){return lv.createUserWithEmailAndPassword(e,t)},login:function(e,t){return lv.signInWithEmailAndPassword(e,t)},resetPassword:function(e){return lv.sendPasswordResetEmail(e)},logout:function(){return lv.signOut()}};return(0,c.jsx)(dv.Provider,{value:d,children:!u&&n})}var pv=function(e){var t=e.style,n=e.children,r=h();return(0,c.jsx)("div",{className:r?"card-light":"card-dark",style:t,children:n})},vv=t.forwardRef((function(e,n){var r=e.menuClicked,i=e.setMenuClicked,a=l((0,t.useState)(""),2),o=a[0],u=a[1],s=fv(),d=s.currentUser,f=s.logout,p=h();function v(){return(v=y(m().mark((function e(){return m().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return u(""),e.prev=1,e.next=4,f();case 4:e.next=9;break;case 6:e.prev=6,e.t0=e.catch(1),u(e.t0.message);case 9:i(!1);case 10:case"end":return e.stop()}}),e,null,[[1,6]])})))).apply(this,arguments)}if(d)return(0,c.jsxs)("div",{id:"menu",ref:n,children:[(0,c.jsxs)("button",{className:"menu-icon",role:"menu",onClick:function(){u(""),i(!r)},children:[(0,c.jsx)("div",{className:r?"clicked-menu_part1":""}),(0,c.jsx)("div",{className:r?"clicked-menu_part2":""}),(0,c.jsx)("div",{className:r?"clicked-menu_part3":""})]}),(0,c.jsx)(pv,{children:(0,c.jsxs)("nav",{className:r?"nav_active":"",children:[o&&r?(0,c.jsx)("div",{className:"logout-error ".concat(p?"":"logout-error__dark"),children:"error"}):null,(0,c.jsxs)("ul",{className:p?"":"nav-ul_dark",children:[(0,c.jsxs)("li",{children:["\ud83d\udc64 ",d.email]}),(0,c.jsx)("li",{children:(0,c.jsx)("button",{onClick:function(){return v.apply(this,arguments)},children:"Log out"})})]})]})})]})})),mv=vv,gv=t.forwardRef((function(e,n){var r=e.menuClicked,i=e.setMenuClicked,a=h(),o=(0,t.useContext)(f),u=a?"icon-moon.svg":"icon-sun.svg";return(0,c.jsxs)("header",{children:[(0,c.jsxs)("div",{className:"menu-logo_container",children:[(0,c.jsx)(mv,{menuClicked:r,setMenuClicked:i,ref:n}),(0,c.jsx)("h1",{children:"T O D O"})]}),(0,c.jsx)("img",{src:"./images/".concat(u),alt:"light-mode",onClick:o})]})})),yv=gv,bv=t.createContext(),_v=function(){return(0,t.useContext)(bv)};function kv(){var e=l((0,t.useState)([]),2),n=e[0],r=e[1],i=l((0,t.useState)(""),2),a=i[0],o=i[1],u=l((0,t.useState)(!1),2),s=u[0],c=u[1],d=fv().currentUser;return{readTodo:function(){c(!0),o(""),Fu(Nu(cv,"users/".concat(d.uid,"/todos")),(function(e){var t=e.val();r(function(e){if(!e)return[];var t=Object.entries(e).map((function(e){return We(We({},e[1]),{},{key:e[0]})}));return t.sort((function(e,t){return e.order-t.order})),t}(t)),c(!1)}),(function(e){return o(e.message)}))},writeNewTodo:function(e){c(!0),o("");var t=function(e,t){e=Se(e),Vo("push",e._path),Bo("push",t,e._path,!0);var n,r=tu(e._repo),i=li(r),a=Ru(e,i),o=Ru(e,i);return n=null!=t?Du(o,t).then((function(){return o})):Promise.resolve(o),a.then=n.then.bind(n),a.catch=n.then.bind(n,void 0),a}(Ru(Nu(cv),"users/".concat(d.uid,"/todos"))).key,n={};return n["/users/".concat(d.uid,"/todos/").concat(t)]=e,Au(Nu(cv),n).then(c(!1)).catch((function(e){return o(e.message)}))},updateTodo:function(e){c(!0),o(""),Du(Nu(cv,"users/".concat(d.uid,"/todos/").concat(e.key)),{action:e.action,completed:e.completed,order:e.order}).then(c(!1)).catch((function(e){return o(e.message)}))},deleteTodo:function(e){c(!0),o(""),function(e){return Vo("remove",e._path),Du(e,null)}(Nu(cv,"users/".concat(d.uid,"/todos/").concat(e.key))).then(c(!1)).catch((function(e){return o(e.message)}))},todoList:n,error:a,loading:s}}var wv=function(){var e=_v(),t=kv().deleteTodo,n=e.filter((function(e){return!0===e.completed}));return(0,c.jsx)("button",{className:"clear-completed",onClick:function(){n.forEach((function(e){t(e)}))},children:"Clear Completed"})},xv=[{name:"All",is_completed:null},{name:"Active",is_completed:!1},{name:"Completed",is_completed:!0}];var Iv=function(e){var n=l((0,t.useState)(xv[0].name),2),r=n[0],i=n[1],a=function(t){var n=t.target.textContent,r=xv.find((function(e){return e.name===n})).is_completed;i(n),e.callFilterByStatus(r)};return(0,c.jsx)("ul",{className:"filter-list",children:xv.map((function(e,t){return(0,c.jsx)("li",{onClick:a,className:r===e.name?"highlight":"",children:e.name},t)}))})};var Ev=function(e){return(0,c.jsx)("p",{children:"".concat(e.amount," items left")})};var Sv=function(e){var t=_v().filter((function(e){return!1===e.completed}));return(0,c.jsxs)("div",{className:"main-footer__container",children:[(0,c.jsx)(Ev,{amount:t.length}),(0,c.jsx)(Iv,{callFilterByStatus:function(t){e.callFilterTodoList(t)}}),(0,c.jsx)(wv,{})]})};var Cv=function(){var e=h(),n=(0,t.useRef)(),r=_v(),i=kv(),a=i.writeNewTodo,o=i.error,u=i.loading;function s(){var e=function(){var e=n.current.value.trim();if(e){return Ok(e,r.length?r[0].order-1:0)}return}();e&&(o?console.log(o):(a(e),n.current.value=""))}return(0,c.jsxs)("div",{className:"new-todo__container",children:[(0,c.jsx)("div",{className:"submit-btn__wrap ".concat(!e&&"submit-btn__wrap__dark"),onClick:s,children:(0,c.jsx)("button",{disabled:u,className:"submit-btn ".concat(!e&&"submit-btn__dark"),children:(0,c.jsx)("label",{children:"add"})})}),(0,c.jsx)("input",{type:"text",className:"new-todo_input ".concat(!e&&"new-todo_input__dark"),autoFocus:!0,ref:n,placeholder:"Start typing here",onKeyPress:function(e){"Enter"===e.key&&s()}})]})},Tv=n(164);function Pv(e){return"Minified Redux error #"+e+"; visit https://redux.js.org/Errors?code="+e+" for the full message or use the non-minified dev environment for full errors. "}var Nv="function"===typeof Symbol&&Symbol.observable||"@@observable",Rv=function(){return Math.random().toString(36).substring(7).split("").join(".")},Dv={INIT:"@@redux/INIT"+Rv(),REPLACE:"@@redux/REPLACE"+Rv(),PROBE_UNKNOWN_ACTION:function(){return"@@redux/PROBE_UNKNOWN_ACTION"+Rv()}};function Av(e){if("object"!==typeof e||null===e)return!1;for(var t=e;null!==Object.getPrototypeOf(t);)t=Object.getPrototypeOf(t);return Object.getPrototypeOf(e)===t}function Ov(e,t,n){var r;if("function"===typeof t&&"function"===typeof n||"function"===typeof n&&"function"===typeof arguments[3])throw new Error(Pv(0));if("function"===typeof t&&"undefined"===typeof n&&(n=t,t=void 0),"undefined"!==typeof n){if("function"!==typeof n)throw new Error(Pv(1));return n(Ov)(e,t)}if("function"!==typeof e)throw new Error(Pv(2));var i=e,a=t,o=[],u=o,s=!1;function l(){u===o&&(u=o.slice())}function c(){if(s)throw new Error(Pv(3));return a}function d(e){if("function"!==typeof e)throw new Error(Pv(4));if(s)throw new Error(Pv(5));var t=!0;return l(),u.push(e),function(){if(t){if(s)throw new Error(Pv(6));t=!1,l();var n=u.indexOf(e);u.splice(n,1),o=null}}}function f(e){if(!Av(e))throw new Error(Pv(7));if("undefined"===typeof e.type)throw new Error(Pv(8));if(s)throw new Error(Pv(9));try{s=!0,a=i(a,e)}finally{s=!1}for(var t=o=u,n=0;n<t.length;n++){(0,t[n])()}return e}function h(e){if("function"!==typeof e)throw new Error(Pv(10));i=e,f({type:Dv.REPLACE})}function p(){var e,t=d;return(e={subscribe:function(e){if("object"!==typeof e||null===e)throw new Error(Pv(11));function n(){e.next&&e.next(c())}return n(),{unsubscribe:t(n)}}})[Nv]=function(){return this},e}return f({type:Dv.INIT}),(r={dispatch:f,subscribe:d,getState:c,replaceReducer:h})[Nv]=p,r}function Lv(e,t){return function(){return t(e.apply(this,arguments))}}function Mv(e,t){if("function"===typeof e)return Lv(e,t);if("object"!==typeof e||null===e)throw new Error(Pv(16));var n={};for(var r in e){var i=e[r];"function"===typeof i&&(n[r]=Lv(i,t))}return n}function Fv(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return 0===t.length?function(e){return e}:1===t.length?t[0]:t.reduce((function(e,t){return function(){return e(t.apply(void 0,arguments))}}))}var Uv=n(248),jv=n(327);var Bv=function(e){e()},zv=function(){return Bv},Wv=(0,t.createContext)(null);var qv=function(){throw new Error("uSES not initialized!")};function Vv(){return Vv=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Vv.apply(this,arguments)}function Hv(e,t){if(null==e)return{};var n,r,i={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}var Gv=n(110),Kv=n.n(Gv),$v=n(765),Yv=["initMapStateToProps","initMapDispatchToProps","initMergeProps"];function Qv(e,t,n,r,i){var a,o,u,s,l,c=i.areStatesEqual,d=i.areOwnPropsEqual,f=i.areStatePropsEqual,h=!1;function p(i,h){var p=!d(h,o),v=!c(i,a,h,o);return a=i,o=h,p&&v?(u=e(a,o),t.dependsOnOwnProps&&(s=t(r,o)),l=n(u,s,o)):p?(e.dependsOnOwnProps&&(u=e(a,o)),t.dependsOnOwnProps&&(s=t(r,o)),l=n(u,s,o)):v?function(){var t=e(a,o),r=!f(t,u);return u=t,r&&(l=n(u,s,o)),l}():l}return function(i,c){return h?p(i,c):(u=e(a=i,o=c),s=t(r,o),l=n(u,s,o),h=!0,l)}}function Jv(e,t){var n=t.initMapStateToProps,r=t.initMapDispatchToProps,i=t.initMergeProps,a=Hv(t,Yv);return Qv(n(e,a),r(e,a),i(e,a),e,a)}function Xv(e){return function(t){var n=e(t);function r(){return n}return r.dependsOnOwnProps=!1,r}}function Zv(e){return e.dependsOnOwnProps?Boolean(e.dependsOnOwnProps):1!==e.length}function em(e,t){return function(t,n){n.displayName;var r=function(e,t){return r.dependsOnOwnProps?r.mapToProps(e,t):r.mapToProps(e,void 0)};return r.dependsOnOwnProps=!0,r.mapToProps=function(t,n){r.mapToProps=e,r.dependsOnOwnProps=Zv(e);var i=r(t,n);return"function"===typeof i&&(r.mapToProps=i,r.dependsOnOwnProps=Zv(i),i=r(t,n)),i},r}}function tm(e,t){return function(n,r){throw new Error("Invalid value of type ".concat(typeof e," for ").concat(t," argument when connecting component ").concat(r.wrappedComponentName,"."))}}function nm(e){return e&&"object"===typeof e?Xv((function(t){return function(e,t){var n={},r=function(r){var i=e[r];"function"===typeof i&&(n[r]=function(){return t(i.apply(void 0,arguments))})};for(var i in e)r(i);return n}(e,t)})):e?"function"===typeof e?em(e):tm(e,"mapDispatchToProps"):Xv((function(e){return{dispatch:e}}))}function rm(e){return e?"function"===typeof e?em(e):tm(e,"mapStateToProps"):Xv((function(){return{}}))}function im(e,t,n){return Vv({},n,e,t)}function am(e){return e?"function"===typeof e?function(e){return function(t,n){n.displayName;var r,i=n.areMergedPropsEqual,a=!1;return function(t,n,o){var u=e(t,n,o);return a?i(u,r)||(r=u):(a=!0,r=u),r}}}(e):tm(e,"mergeProps"):function(){return im}}var om={notify:function(){},get:function(){return[]}};function um(e,t){var n,r=om;function i(){o.onStateChange&&o.onStateChange()}function a(){n||(n=t?t.addNestedSub(i):e.subscribe(i),r=function(){var e=zv(),t=null,n=null;return{clear:function(){t=null,n=null},notify:function(){e((function(){for(var e=t;e;)e.callback(),e=e.next}))},get:function(){for(var e=[],n=t;n;)e.push(n),n=n.next;return e},subscribe:function(e){var r=!0,i=n={callback:e,next:null,prev:n};return i.prev?i.prev.next=i:t=i,function(){r&&null!==t&&(r=!1,i.next?i.next.prev=i.prev:n=i.prev,i.prev?i.prev.next=i.next:t=i.next)}}}}())}var o={addNestedSub:function(e){return a(),r.subscribe(e)},notifyNestedSubs:function(){r.notify()},handleChangeWrapper:i,isSubscribed:function(){return Boolean(n)},trySubscribe:a,tryUnsubscribe:function(){n&&(n(),n=void 0,r.clear(),r=om)},getListeners:function(){return r}};return o}var sm=!("undefined"===typeof window||"undefined"===typeof window.document||"undefined"===typeof window.document.createElement)?t.useLayoutEffect:t.useEffect;function lm(e,t){return e===t?0!==e||0!==t||1/e===1/t:e!==e&&t!==t}function cm(e,t){if(lm(e,t))return!0;if("object"!==typeof e||null===e||"object"!==typeof t||null===t)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(var i=0;i<n.length;i++)if(!Object.prototype.hasOwnProperty.call(t,n[i])||!lm(e[n[i]],t[n[i]]))return!1;return!0}var dm=["reactReduxForwardedRef"],fm=qv,hm=[null,null];function pm(e,t,n){sm((function(){return e.apply(void 0,Te(t))}),n)}function vm(e,t,n,r,i,a){e.current=r,n.current=!1,i.current&&(i.current=null,a())}function mm(e,t,n,r,i,a,o,u,s,l,c){if(!e)return function(){};var d=!1,f=null,h=function(){if(!d&&u.current){var e,n,h=t.getState();try{e=r(h,i.current)}catch(p){n=p,f=p}n||(f=null),e===a.current?o.current||l():(a.current=e,s.current=e,o.current=!0,c())}};n.onStateChange=h,n.trySubscribe(),h();return function(){if(d=!0,n.tryUnsubscribe(),n.onStateChange=null,f)throw f}}function gm(e,t){return e===t}var ym=function(e,n,r){var i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},a=(i.pure,i.areStatesEqual),o=void 0===a?gm:a,u=i.areOwnPropsEqual,s=void 0===u?cm:u,c=i.areStatePropsEqual,d=void 0===c?cm:c,f=i.areMergedPropsEqual,h=void 0===f?cm:f,p=i.forwardRef,v=void 0!==p&&p,m=i.context,g=void 0===m?Wv:m,y=g,b=rm(e),_=nm(n),k=am(r),w=Boolean(e),x=function(e){var n=e.displayName||e.name||"Component",r="Connect(".concat(n,")"),i={shouldHandleStateChanges:w,displayName:r,wrappedComponentName:n,WrappedComponent:e,initMapStateToProps:b,initMapDispatchToProps:_,initMergeProps:k,areStatesEqual:o,areStatePropsEqual:d,areOwnPropsEqual:s,areMergedPropsEqual:h};function a(n){var r=(0,t.useMemo)((function(){var e=n.reactReduxForwardedRef,t=Hv(n,dm);return[n.context,e,t]}),[n]),a=l(r,3),o=a[0],u=a[1],s=a[2],c=(0,t.useMemo)((function(){return o&&o.Consumer&&(0,$v.isContextConsumer)(t.createElement(o.Consumer,null))?o:y}),[o,y]),d=(0,t.useContext)(c),f=Boolean(n.store)&&Boolean(n.store.getState)&&Boolean(n.store.dispatch),h=Boolean(d)&&Boolean(d.store);var p=f?n.store:d.store,v=h?d.getServerState:p.getState,m=(0,t.useMemo)((function(){return Jv(p.dispatch,i)}),[p]),g=(0,t.useMemo)((function(){if(!w)return hm;var e=um(p,f?void 0:d.subscription),t=e.notifyNestedSubs.bind(e);return[e,t]}),[p,f,d]),b=l(g,2),_=b[0],k=b[1],x=(0,t.useMemo)((function(){return f?d:Vv({},d,{subscription:_})}),[f,d,_]),I=(0,t.useRef)(),E=(0,t.useRef)(s),S=(0,t.useRef)(),C=(0,t.useRef)(!1),T=((0,t.useRef)(!1),(0,t.useRef)(!1)),P=(0,t.useRef)();sm((function(){return T.current=!0,function(){T.current=!1}}),[]);var N,R=(0,t.useMemo)((function(){return function(){return S.current&&s===E.current?S.current:m(p.getState(),s)}}),[p,s]),D=(0,t.useMemo)((function(){return function(e){return _?mm(w,p,_,m,E,I,C,T,S,k,e):function(){}}}),[_]);pm(vm,[E,I,C,s,S,k]);try{N=fm(D,R,v?function(){return m(v(),s)}:R)}catch(O){throw P.current&&(O.message+="\nThe error may be correlated with this previous error:\n".concat(P.current.stack,"\n\n")),O}sm((function(){P.current=void 0,S.current=void 0,I.current=N}));var A=(0,t.useMemo)((function(){return t.createElement(e,Vv({},N,{ref:u}))}),[u,e,N]);return(0,t.useMemo)((function(){return w?t.createElement(c.Provider,{value:x},A):A}),[c,A,x])}var u=t.memo(a);if(u.WrappedComponent=e,u.displayName=a.displayName=r,v){var c=t.forwardRef((function(e,n){return t.createElement(u,Vv({},e,{reactReduxForwardedRef:n}))})),f=c;return f.displayName=r,f.WrappedComponent=e,Kv()(f,e)}return Kv()(u,e)};return x};var bm=function(e){var n=e.store,r=e.context,i=e.children,a=e.serverState,o=(0,t.useMemo)((function(){var e=um(n);return{store:n,subscription:e,getServerState:a?function(){return a}:void 0}}),[n,a]),u=(0,t.useMemo)((function(){return n.getState()}),[n]);sm((function(){var e=o.subscription;return e.onStateChange=e.notifyNestedSubs,e.trySubscribe(),u!==n.getState()&&e.notifyNestedSubs(),function(){e.tryUnsubscribe(),e.onStateChange=void 0}}),[o,u]);var s=r||Wv;return t.createElement(s.Provider,{value:o},i)};var _m,km;function wm(e,n){var r=(0,t.useState)((function(){return{inputs:n,result:e()}}))[0],i=(0,t.useRef)(!0),a=(0,t.useRef)(r),o=i.current||Boolean(n&&a.current.inputs&&function(e,t){if(e.length!==t.length)return!1;for(var n=0;n<e.length;n++)if(e[n]!==t[n])return!1;return!0}(n,a.current.inputs))?a.current:{inputs:n,result:e()};return(0,t.useEffect)((function(){i.current=!1,a.current=o}),[o]),o.result}_m=jv.useSyncExternalStoreWithSelector,function(e){fm=e}(Uv.useSyncExternalStore),km=Tv.unstable_batchedUpdates,Bv=km;var xm=wm,Im=function(e,t){return wm((function(){return e}),t)},Em="Invariant failed";var Sm=function(e){var t=e.top,n=e.right,r=e.bottom,i=e.left;return{top:t,right:n,bottom:r,left:i,width:n-i,height:r-t,x:i,y:t,center:{x:(n+i)/2,y:(r+t)/2}}},Cm=function(e,t){return{top:e.top-t.top,left:e.left-t.left,bottom:e.bottom+t.bottom,right:e.right+t.right}},Tm=function(e,t){return{top:e.top+t.top,left:e.left+t.left,bottom:e.bottom-t.bottom,right:e.right-t.right}},Pm={top:0,right:0,bottom:0,left:0},Nm=function(e){var t=e.borderBox,n=e.margin,r=void 0===n?Pm:n,i=e.border,a=void 0===i?Pm:i,o=e.padding,u=void 0===o?Pm:o,s=Sm(Cm(t,r)),l=Sm(Tm(t,a)),c=Sm(Tm(l,u));return{marginBox:s,borderBox:Sm(t),paddingBox:l,contentBox:c,margin:r,border:a,padding:u}},Rm=function(e){var t=e.slice(0,-2);if("px"!==e.slice(-2))return 0;var n=Number(t);return isNaN(n)&&function(e,t){if(!e)throw new Error(Em)}(!1),n},Dm=function(e,t){var n,r,i=e.borderBox,a=e.border,o=e.margin,u=e.padding,s=(r=t,{top:(n=i).top+r.y,left:n.left+r.x,bottom:n.bottom+r.y,right:n.right+r.x});return Nm({borderBox:s,border:a,margin:o,padding:u})},Am=function(e,t){return void 0===t&&(t={x:window.pageXOffset,y:window.pageYOffset}),Dm(e,t)},Om=function(e,t){var n={top:Rm(t.marginTop),right:Rm(t.marginRight),bottom:Rm(t.marginBottom),left:Rm(t.marginLeft)},r={top:Rm(t.paddingTop),right:Rm(t.paddingRight),bottom:Rm(t.paddingBottom),left:Rm(t.paddingLeft)},i={top:Rm(t.borderTopWidth),right:Rm(t.borderRightWidth),bottom:Rm(t.borderBottomWidth),left:Rm(t.borderLeftWidth)};return Nm({borderBox:e,margin:n,padding:r,border:i})},Lm=function(e){var t=e.getBoundingClientRect(),n=window.getComputedStyle(e);return Om(t,n)},Mm=Number.isNaN||function(e){return"number"===typeof e&&e!==e};function Fm(e,t){if(e.length!==t.length)return!1;for(var n=0;n<e.length;n++)if(r=e[n],i=t[n],!(r===i||Mm(r)&&Mm(i)))return!1;var r,i;return!0}function Um(e,t){void 0===t&&(t=Fm);var n=null;function r(){for(var r=[],i=0;i<arguments.length;i++)r[i]=arguments[i];if(n&&n.lastThis===this&&t(r,n.lastArgs))return n.lastResult;var a=e.apply(this,r);return n={lastResult:a,lastArgs:r,lastThis:this},a}return r.clear=function(){n=null},r}var jm,Bm,zm=function(e){var t=[],n=null,r=function(){for(var r=arguments.length,i=new Array(r),a=0;a<r;a++)i[a]=arguments[a];t=i,n||(n=requestAnimationFrame((function(){n=null,e.apply(void 0,t)})))};return r.cancel=function(){n&&(cancelAnimationFrame(n),n=null)},r};function Wm(e,t){}Wm.bind(null,"warn"),Wm.bind(null,"error");function qm(){}function Vm(e,t,n){var r=t.map((function(t){var r=function(e,t){return We(We({},e),t)}(n,t.options);return e.addEventListener(t.eventName,t.fn,r),function(){e.removeEventListener(t.eventName,t.fn,r)}}));return function(){r.forEach((function(e){e()}))}}var Hm="Invariant failed",Gm=function(e){S(n,e);var t=N(n);function n(){return _(this,n),t.apply(this,arguments)}return w(n)}(D(Error));function Km(e,t){if(!e)throw new Gm(Hm)}Gm.prototype.toString=function(){return this.message};var $m=function(e){S(n,e);var t=N(n);function n(){var e;return _(this,n),(e=t.apply(this,arguments)).callbacks=null,e.unbind=qm,e.onWindowError=function(t){var n=e.getCallbacks();n.isDragging()&&n.tryAbort(),t.error instanceof Gm&&t.preventDefault()},e.getCallbacks=function(){if(!e.callbacks)throw new Error("Unable to find AppCallbacks in <ErrorBoundary/>");return e.callbacks},e.setCallbacks=function(t){e.callbacks=t},e}return w(n,[{key:"componentDidMount",value:function(){this.unbind=Vm(window,[{eventName:"error",fn:this.onWindowError}])}},{key:"componentDidCatch",value:function(e){if(!(e instanceof Gm))throw e;this.setState({})}},{key:"componentWillUnmount",value:function(){this.unbind()}},{key:"render",value:function(){return this.props.children(this.setCallbacks)}}]),n}(t.Component),Ym=function(e){return e+1},Qm=function(e,t){var n=e.droppableId===t.droppableId,r=Ym(e.index),i=Ym(t.index);return n?"\n      You have moved the item from position ".concat(r,"\n      to position ").concat(i,"\n    "):"\n    You have moved the item from position ".concat(r,"\n    in list ").concat(e.droppableId,"\n    to list ").concat(t.droppableId,"\n    in position ").concat(i,"\n  ")},Jm=function(e,t,n){return t.droppableId===n.droppableId?"\n      The item ".concat(e,"\n      has been combined with ").concat(n.draggableId):"\n      The item ".concat(e,"\n      in list ").concat(t.droppableId,"\n      has been combined with ").concat(n.draggableId,"\n      in list ").concat(n.droppableId,"\n    ")},Xm=function(e){return"\n  The item has returned to its starting position\n  of ".concat(Ym(e.index),"\n")},Zm={dragHandleUsageInstructions:"\n  Press space bar to start a drag.\n  When dragging you can use the arrow keys to move the item around and escape to cancel.\n  Some screen readers may require you to be in focus mode or to use your pass through key\n",onDragStart:function(e){return"\n  You have lifted an item in position ".concat(Ym(e.source.index),"\n")},onDragUpdate:function(e){var t=e.destination;if(t)return Qm(e.source,t);var n=e.combine;return n?Jm(e.draggableId,e.source,n):"You are over an area that cannot be dropped on"},onDragEnd:function(e){if("CANCEL"===e.reason)return"\n      Movement cancelled.\n      ".concat(Xm(e.source),"\n    ");var t=e.destination,n=e.combine;return t?"\n      You have dropped the item.\n      ".concat(Qm(e.source,t),"\n    "):n?"\n      You have dropped the item.\n      ".concat(Jm(e.draggableId,e.source,n),"\n    "):"\n    The item has been dropped while not over a drop area.\n    ".concat(Xm(e.source),"\n  ")}},eg=Zm,tg={x:0,y:0},ng=function(e,t){return{x:e.x+t.x,y:e.y+t.y}},rg=function(e,t){return{x:e.x-t.x,y:e.y-t.y}},ig=function(e,t){return e.x===t.x&&e.y===t.y},ag=function(e){return{x:0!==e.x?-e.x:0,y:0!==e.y?-e.y:0}},og=function(e,t,n){return void 0===n&&(n=0),"x"===e?{x:t,y:n}:{x:n,y:t}},ug=function(e,t){return Math.sqrt(Math.pow(t.x-e.x,2)+Math.pow(t.y-e.y,2))},sg=function(e,t){return Math.min.apply(Math,Te(t.map((function(t){return ug(e,t)}))))},lg=function(e){return function(t){return{x:e(t.x),y:e(t.y)}}},cg=function(e,t){return{top:e.top+t.y,left:e.left+t.x,bottom:e.bottom+t.y,right:e.right+t.x}},dg=function(e){return[{x:e.left,y:e.top},{x:e.right,y:e.top},{x:e.left,y:e.bottom},{x:e.right,y:e.bottom}]},fg=function(e,t){return t&&t.shouldClipSubject?function(e,t){var n=Sm({top:Math.max(t.top,e.top),right:Math.min(t.right,e.right),bottom:Math.min(t.bottom,e.bottom),left:Math.max(t.left,e.left)});return n.width<=0||n.height<=0?null:n}(t.pageMarginBox,e):Sm(e)},hg=function(e){var t=e.page,n=e.withPlaceholder,r=e.axis,i=e.frame,a=function(e,t){return t?cg(e,t.scroll.diff.displacement):e}(t.marginBox,i),o=function(e,t,n){return n&&n.increasedBy?We(We({},e),{},b({},t.end,e[t.end]+n.increasedBy[t.line])):e}(a,r,n);return{page:t,withPlaceholder:n,active:fg(o,i)}},pg=function(e,t){e.frame||Km(!1);var n=e.frame,r=rg(t,n.scroll.initial),i=ag(r),a=We(We({},n),{},{scroll:{initial:n.scroll.initial,current:t,diff:{value:r,displacement:i},max:n.scroll.max}}),o=hg({page:e.subject.page,withPlaceholder:e.subject.withPlaceholder,axis:e.axis,frame:a});return We(We({},e),{},{frame:a,subject:o})},vg=Um((function(e){return e.reduce((function(e,t){return e[t.descriptor.id]=t,e}),{})})),mg=Um((function(e){return e.reduce((function(e,t){return e[t.descriptor.id]=t,e}),{})})),gg=Um((function(e){return Object.values(e)})),yg=Um((function(e){return Object.values(e)})),bg=Um((function(e,t){var n=yg(t).filter((function(t){return e===t.descriptor.droppableId})).sort((function(e,t){return e.descriptor.index-t.descriptor.index}));return n}));function _g(e){return e.at&&"REORDER"===e.at.type?e.at.destination:null}function kg(e){return e.at&&"COMBINE"===e.at.type?e.at.combine:null}var wg=Um((function(e,t){return t.filter((function(t){return t.descriptor.id!==e.descriptor.id}))})),xg=function(e,t){return e.descriptor.droppableId===t.descriptor.id},Ig={point:tg,value:0},Eg={invisible:{},visible:{},all:[]},Sg={displaced:Eg,displacedBy:Ig,at:null},Cg=function(e,t){return function(n){return e<=n&&n<=t}},Tg=function(e){var t=Cg(e.top,e.bottom),n=Cg(e.left,e.right);return function(r){if(t(r.top)&&t(r.bottom)&&n(r.left)&&n(r.right))return!0;var i=t(r.top)||t(r.bottom),a=n(r.left)||n(r.right);if(i&&a)return!0;var o=r.top<e.top&&r.bottom>e.bottom,u=r.left<e.left&&r.right>e.right;return!(!o||!u)||(o&&a||u&&i)}},Pg=function(e){var t=Cg(e.top,e.bottom),n=Cg(e.left,e.right);return function(e){return t(e.top)&&t(e.bottom)&&n(e.left)&&n(e.right)}},Ng={direction:"vertical",line:"y",crossAxisLine:"x",start:"top",end:"bottom",size:"height",crossAxisStart:"left",crossAxisEnd:"right",crossAxisSize:"width"},Rg={direction:"horizontal",line:"x",crossAxisLine:"y",start:"left",end:"right",size:"width",crossAxisStart:"top",crossAxisEnd:"bottom",crossAxisSize:"height"},Dg=function(e){var t=e.target,n=e.destination,r=e.viewport,i=e.withDroppableDisplacement,a=e.isVisibleThroughFrameFn,o=i?function(e,t){var n=t.frame?t.frame.scroll.diff.displacement:tg;return cg(e,n)}(t,n):t;return function(e,t,n){return!!t.subject.active&&n(t.subject.active)(e)}(o,n,a)&&function(e,t,n){return n(t)(e)}(o,r,a)},Ag=function(e){return Dg(We(We({},e),{},{isVisibleThroughFrameFn:Pg}))};function Og(e){var t=e.afterDragging,n=e.destination,r=e.displacedBy,i=e.viewport,a=e.forceShouldAnimate,o=e.last;return t.reduce((function(e,t){var u=function(e,t){var n=e.page.marginBox,r={top:t.point.y,right:0,bottom:0,left:t.point.x};return Sm(Cm(n,r))}(t,r),s=t.descriptor.id;if(e.all.push(s),!Dg(We(We({},{target:u,destination:n,viewport:i,withDroppableDisplacement:!0}),{},{isVisibleThroughFrameFn:Tg})))return e.invisible[t.descriptor.id]=!0,e;var l=function(e,t,n){if("boolean"===typeof n)return n;if(!t)return!0;var r=t.invisible,i=t.visible;if(r[e])return!1;var a=i[e];return!a||a.shouldAnimate}(s,o,a),c={draggableId:s,shouldAnimate:l};return e.visible[s]=c,e}),{all:[],visible:{},invisible:{}})}function Lg(e){var t=e.insideDestination,n=e.inHomeList,r=e.displacedBy,i=e.destination,a=function(e,t){if(!e.length)return 0;var n=e[e.length-1].descriptor.index;return t.inHomeList?n:n+1}(t,{inHomeList:n});return{displaced:Eg,displacedBy:r,at:{type:"REORDER",destination:{droppableId:i.descriptor.id,index:a}}}}function Mg(e){var t=e.draggable,n=e.insideDestination,r=e.destination,i=e.viewport,a=e.displacedBy,o=e.last,u=e.index,s=e.forceShouldAnimate,l=xg(t,r);if(null==u)return Lg({insideDestination:n,inHomeList:l,displacedBy:a,destination:r});var c=n.find((function(e){return e.descriptor.index===u}));if(!c)return Lg({insideDestination:n,inHomeList:l,displacedBy:a,destination:r});var d=wg(t,n),f=n.indexOf(c);return{displaced:Og({afterDragging:d.slice(f),destination:r,displacedBy:a,last:o,viewport:i.frame,forceShouldAnimate:s}),displacedBy:a,at:{type:"REORDER",destination:{droppableId:r.descriptor.id,index:u}}}}function Fg(e,t){return Boolean(t.effected[e])}var Ug=function(e){var t=e.isMovingForward,n=e.isInHomeList,r=e.draggable,i=e.draggables,a=e.destination,o=e.insideDestination,u=e.previousImpact,s=e.viewport,l=e.afterCritical,c=u.at;if(c||Km(!1),"REORDER"===c.type){var d=function(e){var t=e.isMovingForward,n=e.isInHomeList,r=e.insideDestination,i=e.location;if(!r.length)return null;var a=i.index,o=t?a+1:a-1,u=r[0].descriptor.index,s=r[r.length-1].descriptor.index;return o<u||o>(n?s:s+1)?null:o}({isMovingForward:t,isInHomeList:n,location:c.destination,insideDestination:o});return null==d?null:Mg({draggable:r,insideDestination:o,destination:a,viewport:s,last:u.displaced,displacedBy:u.displacedBy,index:d})}var f=function(e){var t=e.isMovingForward,n=e.destination,r=e.draggables,i=e.combine,a=e.afterCritical;if(!n.isCombineEnabled)return null;var o=i.draggableId,u=r[o].descriptor.index;return Fg(o,a)?t?u:u-1:t?u+1:u}({isMovingForward:t,destination:a,displaced:u.displaced,draggables:i,combine:c.combine,afterCritical:l});return null==f?null:Mg({draggable:r,insideDestination:o,destination:a,viewport:s,last:u.displaced,displacedBy:u.displacedBy,index:f})},jg=function(e){var t=e.afterCritical,n=e.impact,r=e.draggables,i=kg(n);i||Km(!1);var a=i.draggableId,o=r[a].page.borderBox.center,u=function(e){var t=e.displaced,n=e.afterCritical,r=e.combineWith,i=e.displacedBy,a=Boolean(t.visible[r]||t.invisible[r]);return Fg(r,n)?a?tg:ag(i.point):a?i.point:tg}({displaced:n.displaced,afterCritical:t,combineWith:a,displacedBy:n.displacedBy});return ng(o,u)},Bg=function(e,t){return t.margin[e.start]+t.borderBox[e.size]/2},zg=function(e,t,n){return t[e.crossAxisStart]+n.margin[e.crossAxisStart]+n.borderBox[e.crossAxisSize]/2},Wg=function(e){var t=e.axis,n=e.moveRelativeTo,r=e.isMoving;return og(t.line,n.marginBox[t.end]+Bg(t,r),zg(t,n.marginBox,r))},qg=function(e){var t=e.axis,n=e.moveRelativeTo,r=e.isMoving;return og(t.line,n.marginBox[t.start]-function(e,t){return t.margin[e.end]+t.borderBox[e.size]/2}(t,r),zg(t,n.marginBox,r))},Vg=function(e){var t=e.impact,n=e.draggable,r=e.draggables,i=e.droppable,a=e.afterCritical,o=bg(i.descriptor.id,r),u=n.page,s=i.axis;if(!o.length)return function(e){var t=e.axis,n=e.moveInto,r=e.isMoving;return og(t.line,n.contentBox[t.start]+Bg(t,r),zg(t,n.contentBox,r))}({axis:s,moveInto:i.page,isMoving:u});var l=t.displaced,c=t.displacedBy,d=l.all[0];if(d){var f=r[d];if(Fg(d,a))return qg({axis:s,moveRelativeTo:f.page,isMoving:u});var h=Dm(f.page,c.point);return qg({axis:s,moveRelativeTo:h,isMoving:u})}var p=o[o.length-1];if(p.descriptor.id===n.descriptor.id)return u.borderBox.center;if(Fg(p.descriptor.id,a)){var v=Dm(p.page,ag(a.displacedBy.point));return Wg({axis:s,moveRelativeTo:v,isMoving:u})}return Wg({axis:s,moveRelativeTo:p.page,isMoving:u})},Hg=function(e,t){var n=e.frame;return n?ng(t,n.scroll.diff.displacement):t},Gg=function(e){var t=function(e){var t=e.impact,n=e.draggable,r=e.droppable,i=e.draggables,a=e.afterCritical,o=n.page.borderBox.center,u=t.at;return r&&u?"REORDER"===u.type?Vg({impact:t,draggable:n,draggables:i,droppable:r,afterCritical:a}):jg({impact:t,draggables:i,afterCritical:a}):o}(e),n=e.droppable;return n?Hg(n,t):t},Kg=function(e,t){var n=rg(t,e.scroll.initial),r=ag(n);return{frame:Sm({top:t.y,bottom:t.y+e.frame.height,left:t.x,right:t.x+e.frame.width}),scroll:{initial:e.scroll.initial,max:e.scroll.max,current:t,diff:{value:n,displacement:r}}}};function $g(e,t){return e.map((function(e){return t[e]}))}var Yg=function(e){var t=e.pageBorderBoxCenter,n=e.draggable,r=function(e,t){return ng(e.scroll.diff.displacement,t)}(e.viewport,t),i=rg(r,n.page.borderBox.center);return ng(n.client.borderBox.center,i)},Qg=function(e){var t=e.draggable,n=e.destination,r=e.newPageBorderBoxCenter,i=e.viewport,a=e.withDroppableDisplacement,o=e.onlyOnMainAxis,u=void 0!==o&&o,s=rg(r,t.page.borderBox.center),l={target:cg(t.page.borderBox,s),destination:n,withDroppableDisplacement:a,viewport:i};return u?function(e){return Dg(We(We({},e),{},{isVisibleThroughFrameFn:(t=e.destination.axis,function(e){var n=Cg(e.top,e.bottom),r=Cg(e.left,e.right);return function(e){return t===Ng?n(e.top)&&n(e.bottom):r(e.left)&&r(e.right)}})}));var t}(l):Ag(l)},Jg=function(e){var t=e.isMovingForward,n=e.draggable,r=e.destination,i=e.draggables,a=e.previousImpact,o=e.viewport,u=e.previousPageBorderBoxCenter,s=e.previousClientSelection,l=e.afterCritical;if(!r.isEnabled)return null;var c=bg(r.descriptor.id,i),d=xg(n,r),f=function(e){var t=e.isMovingForward,n=e.draggable,r=e.destination,i=e.insideDestination,a=e.previousImpact;if(!r.isCombineEnabled)return null;if(!_g(a))return null;function o(e){var t={type:"COMBINE",combine:{draggableId:e,droppableId:r.descriptor.id}};return We(We({},a),{},{at:t})}var u=a.displaced.all,s=u.length?u[0]:null;if(t)return s?o(s):null;var l=wg(n,i);if(!s)return l.length?o(l[l.length-1].descriptor.id):null;var c=l.findIndex((function(e){return e.descriptor.id===s}));-1===c&&Km(!1);var d=c-1;return d<0?null:o(l[d].descriptor.id)}({isMovingForward:t,draggable:n,destination:r,insideDestination:c,previousImpact:a})||Ug({isMovingForward:t,isInHomeList:d,draggable:n,draggables:i,destination:r,insideDestination:c,previousImpact:a,viewport:o,afterCritical:l});if(!f)return null;var h=Gg({impact:f,draggable:n,droppable:r,draggables:i,afterCritical:l});if(Qg({draggable:n,destination:r,newPageBorderBoxCenter:h,viewport:o.frame,withDroppableDisplacement:!1,onlyOnMainAxis:!0}))return{clientSelection:Yg({pageBorderBoxCenter:h,draggable:n,viewport:o}),impact:f,scrollJumpRequest:null};var p=rg(h,u),v=function(e){var t=e.impact,n=e.viewport,r=e.destination,i=e.draggables,a=e.maxScrollChange,o=Kg(n,ng(n.scroll.current,a)),u=r.frame?pg(r,ng(r.frame.scroll.current,a)):r,s=t.displaced,l=Og({afterDragging:$g(s.all,i),destination:r,displacedBy:t.displacedBy,viewport:o.frame,last:s,forceShouldAnimate:!1}),c=Og({afterDragging:$g(s.all,i),destination:u,displacedBy:t.displacedBy,viewport:n.frame,last:s,forceShouldAnimate:!1}),d={},f={},h=[s,l,c];return s.all.forEach((function(e){var t=function(e,t){for(var n=0;n<t.length;n++){var r=t[n].visible[e];if(r)return r}return null}(e,h);t?f[e]=t:d[e]=!0})),We(We({},t),{},{displaced:{all:s.all,invisible:d,visible:f}})}({impact:f,viewport:o,destination:r,draggables:i,maxScrollChange:p});return{clientSelection:s,impact:v,scrollJumpRequest:p}},Xg=function(e){var t=e.subject.active;return t||Km(!1),t},Zg=function(e,t){var n=e.page.borderBox.center;return Fg(e.descriptor.id,t)?rg(n,t.displacedBy.point):n},ey=function(e,t){var n=e.page.borderBox;return Fg(e.descriptor.id,t)?cg(n,ag(t.displacedBy.point)):n},ty=Um((function(e,t){var n=t[e.line];return{value:n,point:og(e.line,n)}})),ny=function(e,t){return We(We({},e),{},{scroll:We(We({},e.scroll),{},{max:t})})},ry=function(e,t,n){var r=e.frame;xg(t,e)&&Km(!1),e.subject.withPlaceholder&&Km(!1);var i=ty(e.axis,t.displaceBy).point,a=function(e,t,n){var r=e.axis;if("virtual"===e.descriptor.mode)return og(r.line,t[r.line]);var i=e.subject.page.contentBox[r.size],a=bg(e.descriptor.id,n).reduce((function(e,t){return e+t.client.marginBox[r.size]}),0)+t[r.line]-i;return a<=0?null:og(r.line,a)}(e,i,n),o={placeholderSize:i,increasedBy:a,oldFrameMaxScroll:e.frame?e.frame.scroll.max:null};if(!r){var u=hg({page:e.subject.page,withPlaceholder:o,axis:e.axis,frame:e.frame});return We(We({},e),{},{subject:u})}var s=a?ng(r.scroll.max,a):r.scroll.max,l=ny(r,s),c=hg({page:e.subject.page,withPlaceholder:o,axis:e.axis,frame:l});return We(We({},e),{},{subject:c,frame:l})},iy=function(e){var t=e.isMovingForward,n=e.previousPageBorderBoxCenter,r=e.draggable,i=e.isOver,a=e.draggables,o=e.droppables,u=e.viewport,s=e.afterCritical,l=function(e){var t=e.isMovingForward,n=e.pageBorderBoxCenter,r=e.source,i=e.droppables,a=e.viewport,o=r.subject.active;if(!o)return null;var u=r.axis,s=Cg(o[u.start],o[u.end]),l=gg(i).filter((function(e){return e!==r})).filter((function(e){return e.isEnabled})).filter((function(e){return Boolean(e.subject.active)})).filter((function(e){return Tg(a.frame)(Xg(e))})).filter((function(e){var n=Xg(e);return t?o[u.crossAxisEnd]<n[u.crossAxisEnd]:n[u.crossAxisStart]<o[u.crossAxisStart]})).filter((function(e){var t=Xg(e),n=Cg(t[u.start],t[u.end]);return s(t[u.start])||s(t[u.end])||n(o[u.start])||n(o[u.end])})).sort((function(e,n){var r=Xg(e)[u.crossAxisStart],i=Xg(n)[u.crossAxisStart];return t?r-i:i-r})).filter((function(e,t,n){return Xg(e)[u.crossAxisStart]===Xg(n[0])[u.crossAxisStart]}));if(!l.length)return null;if(1===l.length)return l[0];var c=l.filter((function(e){return Cg(Xg(e)[u.start],Xg(e)[u.end])(n[u.line])}));return 1===c.length?c[0]:c.length>1?c.sort((function(e,t){return Xg(e)[u.start]-Xg(t)[u.start]}))[0]:l.sort((function(e,t){var r=sg(n,dg(Xg(e))),i=sg(n,dg(Xg(t)));return r!==i?r-i:Xg(e)[u.start]-Xg(t)[u.start]}))[0]}({isMovingForward:t,pageBorderBoxCenter:n,source:i,droppables:o,viewport:u});if(!l)return null;var c=bg(l.descriptor.id,a),d=function(e){var t=e.pageBorderBoxCenter,n=e.viewport,r=e.destination,i=e.insideDestination,a=e.afterCritical,o=i.filter((function(e){return Ag({target:ey(e,a),destination:r,viewport:n.frame,withDroppableDisplacement:!0})})).sort((function(e,n){var i=ug(t,Hg(r,Zg(e,a))),o=ug(t,Hg(r,Zg(n,a)));return i<o?-1:o<i?1:e.descriptor.index-n.descriptor.index}));return o[0]||null}({pageBorderBoxCenter:n,viewport:u,destination:l,insideDestination:c,afterCritical:s}),f=function(e){var t=e.previousPageBorderBoxCenter,n=e.moveRelativeTo,r=e.insideDestination,i=e.draggable,a=e.draggables,o=e.destination,u=e.viewport,s=e.afterCritical;if(!n){if(r.length)return null;var l={displaced:Eg,displacedBy:Ig,at:{type:"REORDER",destination:{droppableId:o.descriptor.id,index:0}}},c=Gg({impact:l,draggable:i,droppable:o,draggables:a,afterCritical:s}),d=xg(i,o)?o:ry(o,i,a);return Qg({draggable:i,destination:d,newPageBorderBoxCenter:c,viewport:u.frame,withDroppableDisplacement:!1,onlyOnMainAxis:!0})?l:null}var f=Boolean(t[o.axis.line]<=n.page.borderBox.center[o.axis.line]),h=function(){var e=n.descriptor.index;return n.descriptor.id===i.descriptor.id||f?e:e+1}(),p=ty(o.axis,i.displaceBy);return Mg({draggable:i,insideDestination:r,destination:o,viewport:u,displacedBy:p,last:Eg,index:h})}({previousPageBorderBoxCenter:n,destination:l,draggable:r,draggables:a,moveRelativeTo:d,insideDestination:c,viewport:u,afterCritical:s});if(!f)return null;var h=Gg({impact:f,draggable:r,droppable:l,draggables:a,afterCritical:s});return{clientSelection:Yg({pageBorderBoxCenter:h,draggable:r,viewport:u}),impact:f,scrollJumpRequest:null}},ay=function(e){var t=e.at;return t?"REORDER"===t.type?t.destination.droppableId:t.combine.droppableId:null},oy=function(e){var t=e.state,n=e.type,r=function(e,t){var n=ay(e);return n?t[n]:null}(t.impact,t.dimensions.droppables),i=Boolean(r),a=t.dimensions.droppables[t.critical.droppable.id],o=r||a,u=o.axis.direction,s="vertical"===u&&("MOVE_UP"===n||"MOVE_DOWN"===n)||"horizontal"===u&&("MOVE_LEFT"===n||"MOVE_RIGHT"===n);if(s&&!i)return null;var l="MOVE_DOWN"===n||"MOVE_RIGHT"===n,c=t.dimensions.draggables[t.critical.draggable.id],d=t.current.page.borderBoxCenter,f=t.dimensions,h=f.draggables,p=f.droppables;return s?Jg({isMovingForward:l,previousPageBorderBoxCenter:d,draggable:c,destination:o,draggables:h,viewport:t.viewport,previousClientSelection:t.current.client.selection,previousImpact:t.impact,afterCritical:t.afterCritical}):iy({isMovingForward:l,previousPageBorderBoxCenter:d,draggable:c,isOver:o,draggables:h,droppables:p,viewport:t.viewport,afterCritical:t.afterCritical})};function uy(e){return"DRAGGING"===e.phase||"COLLECTING"===e.phase}function sy(e){var t=Cg(e.top,e.bottom),n=Cg(e.left,e.right);return function(e){return t(e.y)&&n(e.x)}}function ly(e){var t=e.pageBorderBox,n=e.draggable,r=e.droppables,i=gg(r).filter((function(e){if(!e.isEnabled)return!1;var n,r,i=e.subject.active;if(!i)return!1;if(r=i,!((n=t).left<r.right&&n.right>r.left&&n.top<r.bottom&&n.bottom>r.top))return!1;if(sy(i)(t.center))return!0;var a=e.axis,o=i.center[a.crossAxisLine],u=t[a.crossAxisStart],s=t[a.crossAxisEnd],l=Cg(i[a.crossAxisStart],i[a.crossAxisEnd]),c=l(u),d=l(s);return!c&&!d||(c?u<o:s>o)}));return i.length?1===i.length?i[0].descriptor.id:function(e){var t=e.pageBorderBox,n=e.draggable,r=e.candidates,i=n.page.borderBox.center,a=r.map((function(e){var n=e.axis,r=og(e.axis.line,t.center[n.line],e.page.borderBox.center[n.crossAxisLine]);return{id:e.descriptor.id,distance:ug(i,r)}})).sort((function(e,t){return t.distance-e.distance}));return a[0]?a[0].id:null}({pageBorderBox:t,draggable:n,candidates:i}):null}var cy=function(e,t){return Sm(cg(e,t))};function dy(e){var t=e.displaced,n=e.id;return Boolean(t.visible[n]||t.invisible[n])}var fy=function(e){var t=e.pageOffset,n=e.draggable,r=e.draggables,i=e.droppables,a=e.previousImpact,o=e.viewport,u=e.afterCritical,s=cy(n.page.borderBox,t),l=ly({pageBorderBox:s,draggable:n,droppables:i});if(!l)return Sg;var c=i[l],d=bg(c.descriptor.id,r),f=function(e,t){var n=e.frame;return n?cy(t,n.scroll.diff.value):t}(c,s);return function(e){var t=e.draggable,n=e.pageBorderBoxWithDroppableScroll,r=e.previousImpact,i=e.destination,a=e.insideDestination,o=e.afterCritical;if(!i.isCombineEnabled)return null;var u=i.axis,s=ty(i.axis,t.displaceBy),l=s.value,c=n[u.start],d=n[u.end],f=wg(t,a).find((function(e){var t=e.descriptor.id,n=e.page.borderBox,i=n[u.size]/4,a=Fg(t,o),s=dy({displaced:r.displaced,id:t});return a?s?d>n[u.start]+i&&d<n[u.end]-i:c>n[u.start]-l+i&&c<n[u.end]-l-i:s?d>n[u.start]+l+i&&d<n[u.end]+l-i:c>n[u.start]+i&&c<n[u.end]-i}));return f?{displacedBy:s,displaced:r.displaced,at:{type:"COMBINE",combine:{draggableId:f.descriptor.id,droppableId:i.descriptor.id}}}:null}({pageBorderBoxWithDroppableScroll:f,draggable:n,previousImpact:a,destination:c,insideDestination:d,afterCritical:u})||function(e){var t=e.pageBorderBoxWithDroppableScroll,n=e.draggable,r=e.destination,i=e.insideDestination,a=e.last,o=e.viewport,u=e.afterCritical,s=r.axis,l=ty(r.axis,n.displaceBy),c=l.value,d=t[s.start],f=t[s.end],h=function(e){var t=e.draggable,n=e.closest,r=e.inHomeList;return n?r&&n.descriptor.index>t.descriptor.index?n.descriptor.index-1:n.descriptor.index:null}({draggable:n,closest:wg(n,i).find((function(e){var t=e.descriptor.id,n=e.page.borderBox.center[s.line],r=Fg(t,u),i=dy({displaced:a,id:t});return r?i?f<=n:d<n-c:i?f<=n+c:d<n}))||null,inHomeList:xg(n,r)});return Mg({draggable:n,insideDestination:i,destination:r,viewport:o,last:a,displacedBy:l,index:h})}({pageBorderBoxWithDroppableScroll:f,draggable:n,destination:c,insideDestination:d,last:a.displaced,viewport:o,afterCritical:u})},hy=function(e,t){return We(We({},e),{},b({},t.descriptor.id,t))},py=function(e){var t=e.previousImpact,n=e.impact,r=e.droppables,i=ay(t),a=ay(n);if(!i)return r;if(i===a)return r;var o=r[i];if(!o.subject.withPlaceholder)return r;var u=function(e){var t=e.subject.withPlaceholder;t||Km(!1);var n=e.frame;if(!n){var r=hg({page:e.subject.page,axis:e.axis,frame:null,withPlaceholder:null});return We(We({},e),{},{subject:r})}var i=t.oldFrameMaxScroll;i||Km(!1);var a=ny(n,i),o=hg({page:e.subject.page,axis:e.axis,frame:a,withPlaceholder:null});return We(We({},e),{},{subject:o,frame:a})}(o);return hy(r,u)},vy=function(e){var t=e.state,n=e.clientSelection,r=e.dimensions,i=e.viewport,a=e.impact,o=e.scrollJumpRequest,u=i||t.viewport,s=r||t.dimensions,l=n||t.current.client.selection,c=rg(l,t.initial.client.selection),d={offset:c,selection:l,borderBoxCenter:ng(t.initial.client.borderBoxCenter,c)},f={selection:ng(d.selection,u.scroll.current),borderBoxCenter:ng(d.borderBoxCenter,u.scroll.current),offset:ng(d.offset,u.scroll.diff.value)},h={client:d,page:f};if("COLLECTING"===t.phase)return We(We({},t),{},{dimensions:s,viewport:u,current:h});var p=s.draggables[t.critical.draggable.id],v=a||fy({pageOffset:f.offset,draggable:p,draggables:s.draggables,droppables:s.droppables,previousImpact:t.impact,viewport:u,afterCritical:t.afterCritical}),m=function(e){var t=e.draggable,n=e.draggables,r=e.droppables,i=e.previousImpact,a=e.impact,o=py({previousImpact:i,impact:a,droppables:r}),u=ay(a);if(!u)return o;var s=r[u];if(xg(t,s))return o;if(s.subject.withPlaceholder)return o;var l=ry(s,t,n);return hy(o,l)}({draggable:p,impact:v,previousImpact:t.impact,draggables:s.draggables,droppables:s.droppables});return We(We({},t),{},{current:h,dimensions:{draggables:s.draggables,droppables:m},impact:v,viewport:u,scrollJumpRequest:o||null,forceShouldAnimate:!o&&null})};var my=function(e){var t=e.impact,n=e.viewport,r=e.draggables,i=e.destination,a=e.forceShouldAnimate,o=t.displaced,u=function(e,t){return e.map((function(e){return t[e]}))}(o.all,r),s=Og({afterDragging:u,destination:i,displacedBy:t.displacedBy,viewport:n.frame,forceShouldAnimate:a,last:o});return We(We({},t),{},{displaced:s})},gy=function(e){var t=e.impact,n=e.draggable,r=e.droppable,i=e.draggables,a=e.viewport,o=e.afterCritical,u=Gg({impact:t,draggable:n,draggables:i,droppable:r,afterCritical:o});return Yg({pageBorderBoxCenter:u,draggable:n,viewport:a})},yy=function(e){var t=e.state,n=e.dimensions,r=e.viewport;"SNAP"!==t.movementMode&&Km(!1);var i=t.impact,a=r||t.viewport,o=n||t.dimensions,u=o.draggables,s=o.droppables,l=u[t.critical.draggable.id],c=ay(i);c||Km(!1);var d=s[c],f=my({impact:i,viewport:a,destination:d,draggables:u}),h=gy({impact:f,draggable:l,droppable:d,draggables:u,viewport:a,afterCritical:t.afterCritical});return vy({impact:f,clientSelection:h,state:t,dimensions:o,viewport:a})},by=function(e){var t=e.draggable,n=e.home,r=e.draggables,i=e.viewport,a=ty(n.axis,t.displaceBy),o=bg(n.descriptor.id,r),u=o.indexOf(t);-1===u&&Km(!1);var s,l=o.slice(u+1),c=l.reduce((function(e,t){return e[t.descriptor.id]=!0,e}),{}),d={inVirtualList:"virtual"===n.descriptor.mode,displacedBy:a,effected:c};return{impact:{displaced:Og({afterDragging:l,destination:n,displacedBy:a,last:null,viewport:i.frame,forceShouldAnimate:!1}),displacedBy:a,at:{type:"REORDER",destination:(s=t.descriptor,{index:s.index,droppableId:s.droppableId})}},afterCritical:d}},_y=function(e){0},ky=function(e){0},wy=function(e){var t=e.additions,n=e.updatedDroppables,r=e.viewport,i=r.scroll.diff.value;return t.map((function(e){var t=e.descriptor.droppableId,a=function(e){var t=e.frame;return t||Km(!1),t}(n[t]),o=a.scroll.diff.value,u=function(e){var t=e.draggable,n=e.offset,r=e.initialWindowScroll,i=Dm(t.client,n),a=Am(i,r);return We(We({},t),{},{placeholder:We(We({},t.placeholder),{},{client:i}),client:i,page:a})}({draggable:e,offset:ng(i,o),initialWindowScroll:r.scroll.initial});return u}))},xy=function(e){return"SNAP"===e.movementMode},Iy=function(e,t,n){var r=function(e,t){return{draggables:e.draggables,droppables:hy(e.droppables,t)}}(e.dimensions,t);return!xy(e)||n?vy({state:e,dimensions:r}):yy({state:e,dimensions:r})};function Ey(e){return e.isDragging&&"SNAP"===e.movementMode?We(We({},e),{},{scrollJumpRequest:null}):e}var Sy={phase:"IDLE",completed:null,shouldFlush:!1},Cy=function(e,t){if(void 0===e&&(e=Sy),"FLUSH"===t.type)return We(We({},Sy),{},{shouldFlush:!0});if("INITIAL_PUBLISH"===t.type){"IDLE"!==e.phase&&Km(!1);var n=t.payload,r=n.critical,i=n.clientSelection,a=n.viewport,o=n.dimensions,u=n.movementMode,s=o.draggables[r.draggable.id],l=o.droppables[r.droppable.id],c={selection:i,borderBoxCenter:s.client.borderBox.center,offset:tg},d={client:c,page:{selection:ng(c.selection,a.scroll.initial),borderBoxCenter:ng(c.selection,a.scroll.initial),offset:ng(c.selection,a.scroll.diff.value)}},f=gg(o.droppables).every((function(e){return!e.isFixedOnPage})),h=by({draggable:s,home:l,draggables:o.draggables,viewport:a}),p=h.impact;return{phase:"DRAGGING",isDragging:!0,critical:r,movementMode:u,dimensions:o,initial:d,current:d,isWindowScrollAllowed:f,impact:p,afterCritical:h.afterCritical,onLiftImpact:p,viewport:a,scrollJumpRequest:null,forceShouldAnimate:null}}if("COLLECTION_STARTING"===t.type)return"COLLECTING"===e.phase||"DROP_PENDING"===e.phase?e:("DRAGGING"!==e.phase&&Km(!1),We(We({},e),{},{phase:"COLLECTING"}));if("PUBLISH_WHILE_DRAGGING"===t.type)return"COLLECTING"!==e.phase&&"DROP_PENDING"!==e.phase&&Km(!1),function(e){var t=e.state,n=e.published;_y();var r=n.modified.map((function(e){var n=t.dimensions.droppables[e.droppableId];return pg(n,e.scroll)})),i=We(We({},t.dimensions.droppables),vg(r)),a=mg(wy({additions:n.additions,updatedDroppables:i,viewport:t.viewport})),o=We(We({},t.dimensions.draggables),a);n.removals.forEach((function(e){delete o[e]}));var u={droppables:i,draggables:o},s=ay(t.impact),l=s?u.droppables[s]:null,c=u.draggables[t.critical.draggable.id],d=u.droppables[t.critical.droppable.id],f=by({draggable:c,home:d,draggables:o,viewport:t.viewport}),h=f.impact,p=f.afterCritical,v=l&&l.isCombineEnabled?t.impact:h,m=fy({pageOffset:t.current.page.offset,draggable:u.draggables[t.critical.draggable.id],draggables:u.draggables,droppables:u.droppables,previousImpact:v,viewport:t.viewport,afterCritical:p});ky();var g=We(We({},t),{},{phase:"DRAGGING",impact:m,onLiftImpact:h,dimensions:u,afterCritical:p,forceShouldAnimate:!1});return"COLLECTING"===t.phase?g:We(We({},g),{},{phase:"DROP_PENDING",reason:t.reason,isWaiting:!1})}({state:e,published:t.payload});if("MOVE"===t.type){if("DROP_PENDING"===e.phase)return e;uy(e)||Km(!1);var v=t.payload.client;return ig(v,e.current.client.selection)?e:vy({state:e,clientSelection:v,impact:xy(e)?e.impact:null})}if("UPDATE_DROPPABLE_SCROLL"===t.type){if("DROP_PENDING"===e.phase)return Ey(e);if("COLLECTING"===e.phase)return Ey(e);uy(e)||Km(!1);var m=t.payload,g=m.id,y=m.newScroll,b=e.dimensions.droppables[g];if(!b)return e;var _=pg(b,y);return Iy(e,_,!1)}if("UPDATE_DROPPABLE_IS_ENABLED"===t.type){if("DROP_PENDING"===e.phase)return e;uy(e)||Km(!1);var k=t.payload,w=k.id,x=k.isEnabled,I=e.dimensions.droppables[w];I||Km(!1),I.isEnabled===x&&Km(!1);var E=We(We({},I),{},{isEnabled:x});return Iy(e,E,!0)}if("UPDATE_DROPPABLE_IS_COMBINE_ENABLED"===t.type){if("DROP_PENDING"===e.phase)return e;uy(e)||Km(!1);var S=t.payload,C=S.id,T=S.isCombineEnabled,P=e.dimensions.droppables[C];P||Km(!1),P.isCombineEnabled===T&&Km(!1);var N=We(We({},P),{},{isCombineEnabled:T});return Iy(e,N,!0)}if("MOVE_BY_WINDOW_SCROLL"===t.type){if("DROP_PENDING"===e.phase||"DROP_ANIMATING"===e.phase)return e;uy(e)||Km(!1),e.isWindowScrollAllowed||Km(!1);var R=t.payload.newScroll;if(ig(e.viewport.scroll.current,R))return Ey(e);var D=Kg(e.viewport,R);return xy(e)?yy({state:e,viewport:D}):vy({state:e,viewport:D})}if("UPDATE_VIEWPORT_MAX_SCROLL"===t.type){if(!uy(e))return e;var A=t.payload.maxScroll;if(ig(A,e.viewport.scroll.max))return e;var O=We(We({},e.viewport),{},{scroll:We(We({},e.viewport.scroll),{},{max:A})});return We(We({},e),{},{viewport:O})}if("MOVE_UP"===t.type||"MOVE_DOWN"===t.type||"MOVE_LEFT"===t.type||"MOVE_RIGHT"===t.type){if("COLLECTING"===e.phase||"DROP_PENDING"===e.phase)return e;"DRAGGING"!==e.phase&&Km(!1);var L=oy({state:e,type:t.type});return L?vy({state:e,impact:L.impact,clientSelection:L.clientSelection,scrollJumpRequest:L.scrollJumpRequest}):e}if("DROP_PENDING"===t.type){var M=t.payload.reason;return"COLLECTING"!==e.phase&&Km(!1),We(We({},e),{},{phase:"DROP_PENDING",isWaiting:!0,reason:M})}if("DROP_ANIMATE"===t.type){var F=t.payload,U=F.completed,j=F.dropDuration,B=F.newHomeClientOffset;return"DRAGGING"!==e.phase&&"DROP_PENDING"!==e.phase&&Km(!1),{phase:"DROP_ANIMATING",completed:U,dropDuration:j,newHomeClientOffset:B,dimensions:e.dimensions}}return"DROP_COMPLETE"===t.type?{phase:"IDLE",completed:t.payload.completed,shouldFlush:!1}:e},Ty=function(e){return{type:"PUBLISH_WHILE_DRAGGING",payload:e}},Py=function(){return{type:"COLLECTION_STARTING",payload:null}},Ny=function(e){return{type:"UPDATE_DROPPABLE_SCROLL",payload:e}},Ry=function(e){return{type:"UPDATE_DROPPABLE_IS_ENABLED",payload:e}},Dy=function(e){return{type:"UPDATE_DROPPABLE_IS_COMBINE_ENABLED",payload:e}},Ay=function(e){return{type:"MOVE",payload:e}},Oy=function(){return{type:"MOVE_UP",payload:null}},Ly=function(){return{type:"MOVE_DOWN",payload:null}},My=function(){return{type:"MOVE_RIGHT",payload:null}},Fy=function(){return{type:"MOVE_LEFT",payload:null}},Uy=function(e){return{type:"DROP_COMPLETE",payload:e}},jy=function(e){return{type:"DROP",payload:e}},By=function(){return{type:"DROP_ANIMATION_FINISHED",payload:null}};var zy="cubic-bezier(0.2, 0, 0, 1)",Wy="cubic-bezier(.2,1,.1,1)",qy={drop:0,combining:.7},Vy={drop:.75},Hy=.33,Gy=.55,Ky="".concat(.2,"s ").concat(zy),$y={fluid:"opacity ".concat(Ky),snap:"transform ".concat(Ky,", opacity ").concat(Ky),drop:function(e){var t="".concat(e,"s ").concat(Wy);return"transform ".concat(t,", opacity ").concat(t)},outOfTheWay:"transform ".concat(Ky),placeholder:"height ".concat(Ky,", width ").concat(Ky,", margin ").concat(Ky)},Yy=function(e){return ig(e,tg)?void 0:"translate(".concat(e.x,"px, ").concat(e.y,"px)")},Qy=Yy,Jy=function(e,t){var n=Yy(e);if(n)return t?"".concat(n," scale(").concat(Vy.drop,")"):n},Xy=Hy,Zy=Gy,eb=Zy-Xy,tb=function(e){var t=e.getState,n=e.dispatch;return function(e){return function(r){if("DROP"===r.type){var i=t(),a=r.payload.reason;if("COLLECTING"!==i.phase){if("IDLE"!==i.phase){"DROP_PENDING"===i.phase&&i.isWaiting&&Km(!1),"DRAGGING"!==i.phase&&"DROP_PENDING"!==i.phase&&Km(!1);var o=i.critical,u=i.dimensions,s=u.draggables[i.critical.draggable.id],l=function(e){var t=e.draggables,n=e.reason,r=e.lastImpact,i=e.home,a=e.viewport,o=e.onLiftImpact;return r.at&&"DROP"===n?"REORDER"===r.at.type?{impact:r,didDropInsideDroppable:!0}:{impact:We(We({},r),{},{displaced:Eg}),didDropInsideDroppable:!0}:{impact:my({draggables:t,impact:o,destination:i,viewport:a,forceShouldAnimate:!0}),didDropInsideDroppable:!1}}({reason:a,lastImpact:i.impact,afterCritical:i.afterCritical,onLiftImpact:i.onLiftImpact,home:i.dimensions.droppables[i.critical.droppable.id],viewport:i.viewport,draggables:i.dimensions.draggables}),c=l.impact,d=l.didDropInsideDroppable,f=d?_g(c):null,h=d?kg(c):null,p={index:o.draggable.index,droppableId:o.droppable.id},v={draggableId:s.descriptor.id,type:s.descriptor.type,source:p,reason:a,mode:i.movementMode,destination:f,combine:h},m=function(e){var t=e.impact,n=e.draggable,r=e.dimensions,i=e.viewport,a=e.afterCritical,o=r.draggables,u=r.droppables,s=ay(t),l=s?u[s]:null,c=u[n.descriptor.droppableId],d=gy({impact:t,draggable:n,draggables:o,afterCritical:a,droppable:l||c,viewport:i});return rg(d,n.client.borderBox.center)}({impact:c,draggable:s,dimensions:u,viewport:i.viewport,afterCritical:i.afterCritical}),g={critical:i.critical,afterCritical:i.afterCritical,result:v,impact:c};if(!ig(i.current.client.offset,m)||Boolean(v.combine)){var y=function(e){var t=e.current,n=e.destination,r=e.reason,i=ug(t,n);if(i<=0)return Xy;if(i>=1500)return Zy;var a=Xy+eb*(i/1500);return Number(("CANCEL"===r?.6*a:a).toFixed(2))}({current:i.current.client.offset,destination:m,reason:a});n(function(e){return{type:"DROP_ANIMATE",payload:e}}({newHomeClientOffset:m,dropDuration:y,completed:g}))}else n(Uy({completed:g}))}}else n(function(e){return{type:"DROP_PENDING",payload:e}}({reason:a}))}else e(r)}}},nb=function(){return{x:window.pageXOffset,y:window.pageYOffset}};function rb(e){var t=e.onWindowScroll;var n=zm((function(){t(nb())})),r=function(e){return{eventName:"scroll",options:{passive:!0,capture:!1},fn:function(t){t.target!==window&&t.target!==window.document||e()}}}(n),i=qm;function a(){return i!==qm}return{start:function(){a()&&Km(!1),i=Vm(window,[r])},stop:function(){a()||Km(!1),n.cancel(),i(),i=qm},isActive:a}}var ib=function(e){var t=rb({onWindowScroll:function(t){e.dispatch({type:"MOVE_BY_WINDOW_SCROLL",payload:{newScroll:t}})}});return function(e){return function(n){t.isActive()||"INITIAL_PUBLISH"!==n.type||t.start(),t.isActive()&&function(e){return"DROP_COMPLETE"===e.type||"DROP_ANIMATE"===e.type||"FLUSH"===e.type}(n)&&t.stop(),e(n)}}},ab=function(){var e=[];return{add:function(t){var n=setTimeout((function(){return function(t){var n=e.findIndex((function(e){return e.timerId===t}));-1===n&&Km(!1),l(e.splice(n,1),1)[0].callback()}(n)})),r={timerId:n,callback:t};e.push(r)},flush:function(){if(e.length){var t=[].concat(e);e.length=0,t.forEach((function(e){clearTimeout(e.timerId),e.callback()}))}}}},ob=function(e,t){_y(),t(),ky()},ub=function(e,t){return{draggableId:e.draggable.id,type:e.droppable.type,source:{droppableId:e.droppable.id,index:e.draggable.index},mode:t}};function sb(e,t,n,r){if(e){var i=function(e){var t=!1,n=!1,r=setTimeout((function(){n=!0})),i=function(i){t||n||(t=!0,e(i),clearTimeout(r))};return i.wasCalled=function(){return t},i}(n);e(t,{announce:i}),i.wasCalled()||n(r(t))}else n(r(t))}var lb=function(e,t){var n=function(e,t){var n=ab(),r=null,i=function(n){r||Km(!1),r=null,ob(0,(function(){return sb(e().onDragEnd,n,t,eg.onDragEnd)}))};return{beforeCapture:function(t,n){r&&Km(!1),ob(0,(function(){var r=e().onBeforeCapture;r&&r({draggableId:t,mode:n})}))},beforeStart:function(t,n){r&&Km(!1),ob(0,(function(){var r=e().onBeforeDragStart;r&&r(ub(t,n))}))},start:function(i,a){r&&Km(!1);var o=ub(i,a);r={mode:a,lastCritical:i,lastLocation:o.source,lastCombine:null},n.add((function(){ob(0,(function(){return sb(e().onDragStart,o,t,eg.onDragStart)}))}))},update:function(i,a){var o=_g(a),u=kg(a);r||Km(!1);var s=!function(e,t){if(e===t)return!0;var n=e.draggable.id===t.draggable.id&&e.draggable.droppableId===t.draggable.droppableId&&e.draggable.type===t.draggable.type&&e.draggable.index===t.draggable.index,r=e.droppable.id===t.droppable.id&&e.droppable.type===t.droppable.type;return n&&r}(i,r.lastCritical);s&&(r.lastCritical=i);var l,c,d=(c=o,!(null==(l=r.lastLocation)&&null==c||null!=l&&null!=c&&l.droppableId===c.droppableId&&l.index===c.index));d&&(r.lastLocation=o);var f=!function(e,t){return null==e&&null==t||null!=e&&null!=t&&e.draggableId===t.draggableId&&e.droppableId===t.droppableId}(r.lastCombine,u);if(f&&(r.lastCombine=u),s||d||f){var h=We(We({},ub(i,r.mode)),{},{combine:u,destination:o});n.add((function(){ob(0,(function(){return sb(e().onDragUpdate,h,t,eg.onDragUpdate)}))}))}},flush:function(){r||Km(!1),n.flush()},drop:i,abort:function(){if(r){var e=We(We({},ub(r.lastCritical,r.mode)),{},{combine:null,destination:null,reason:"CANCEL"});i(e)}}}}(e,t);return function(e){return function(t){return function(r){if("BEFORE_INITIAL_CAPTURE"!==r.type){if("INITIAL_PUBLISH"===r.type){var i=r.payload.critical;return n.beforeStart(i,r.payload.movementMode),t(r),void n.start(i,r.payload.movementMode)}if("DROP_COMPLETE"===r.type){var a=r.payload.completed.result;return n.flush(),t(r),void n.drop(a)}if(t(r),"FLUSH"!==r.type){var o=e.getState();"DRAGGING"===o.phase&&n.update(o.critical,o.impact)}else n.abort()}else n.beforeCapture(r.payload.draggableId,r.payload.movementMode)}}}},cb=function(e){return function(t){return function(n){if("DROP_ANIMATION_FINISHED"===n.type){var r=e.getState();"DROP_ANIMATING"!==r.phase&&Km(!1),e.dispatch(Uy({completed:r.completed}))}else t(n)}}},db=function(e){var t=null,n=null;return function(r){return function(i){if("FLUSH"!==i.type&&"DROP_COMPLETE"!==i.type&&"DROP_ANIMATION_FINISHED"!==i.type||(n&&(cancelAnimationFrame(n),n=null),t&&(t(),t=null)),r(i),"DROP_ANIMATE"===i.type){var a={eventName:"scroll",options:{capture:!0,passive:!1,once:!0},fn:function(){"DROP_ANIMATING"===e.getState().phase&&e.dispatch({type:"DROP_ANIMATION_FINISHED",payload:null})}};n=requestAnimationFrame((function(){n=null,t=Vm(window,[a])}))}}}},fb=function(e){return function(t){return function(n){if(t(n),"PUBLISH_WHILE_DRAGGING"===n.type){var r=e.getState();"DROP_PENDING"===r.phase&&(r.isWaiting||e.dispatch(jy({reason:r.reason})))}}}},hb=Fv,pb=function(e){var t,n=e.dimensionMarshal,r=e.focusMarshal,i=e.styleMarshal,a=e.getResponders,o=e.announce,u=e.autoScroller;return Ov(Cy,hb(function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return function(e){return function(){var n=e.apply(void 0,arguments),r=function(){throw new Error(Pv(15))},i={getState:n.getState,dispatch:function(){return r.apply(void 0,arguments)}},a=t.map((function(e){return e(i)}));return r=Fv.apply(void 0,a)(n.dispatch),We(We({},n),{},{dispatch:r})}}}((t=i,function(){return function(e){return function(n){"INITIAL_PUBLISH"===n.type&&t.dragging(),"DROP_ANIMATE"===n.type&&t.dropping(n.payload.completed.result.reason),"FLUSH"!==n.type&&"DROP_COMPLETE"!==n.type||t.resting(),e(n)}}}),function(e){return function(){return function(t){return function(n){"DROP_COMPLETE"!==n.type&&"FLUSH"!==n.type&&"DROP_ANIMATE"!==n.type||e.stopPublishing(),t(n)}}}}(n),function(e){return function(t){var n=t.getState,r=t.dispatch;return function(t){return function(i){if("LIFT"===i.type){var a=i.payload,o=a.id,u=a.clientSelection,s=a.movementMode,l=n();"DROP_ANIMATING"===l.phase&&r(Uy({completed:l.completed})),"IDLE"!==n().phase&&Km(!1),r({type:"FLUSH",payload:null}),r({type:"BEFORE_INITIAL_CAPTURE",payload:{draggableId:o,movementMode:s}});var c={draggableId:o,scrollOptions:{shouldPublishImmediately:"SNAP"===s}},d=e.startPublishing(c),f=d.critical,h=d.dimensions,p=d.viewport;r({type:"INITIAL_PUBLISH",payload:{critical:f,dimensions:h,clientSelection:u,movementMode:s,viewport:p}})}else t(i)}}}}(n),tb,cb,db,fb,function(e){return function(t){return function(n){return function(r){if(function(e){return"DROP_COMPLETE"===e.type||"DROP_ANIMATE"===e.type||"FLUSH"===e.type}(r))return e.stop(),void n(r);if("INITIAL_PUBLISH"===r.type){n(r);var i=t.getState();return"DRAGGING"!==i.phase&&Km(!1),void e.start(i)}n(r),e.scroll(t.getState())}}}}(u),ib,function(e){var t=!1;return function(){return function(n){return function(r){if("INITIAL_PUBLISH"===r.type)return t=!0,e.tryRecordFocus(r.payload.critical.draggable.id),n(r),void e.tryRestoreFocusRecorded();if(n(r),t){if("FLUSH"===r.type)return t=!1,void e.tryRestoreFocusRecorded();if("DROP_COMPLETE"===r.type){t=!1;var i=r.payload.completed.result;i.combine&&e.tryShiftRecord(i.draggableId,i.combine.draggableId),e.tryRestoreFocusRecorded()}}}}}}(r),lb(a,o))))};var vb=function(e){var t=e.scrollHeight,n=e.scrollWidth,r=e.height,i=e.width,a=rg({x:n,y:t},{x:i,y:r});return{x:Math.max(0,a.x),y:Math.max(0,a.y)}},mb=function(){var e=document.documentElement;return e||Km(!1),e},gb=function(){var e=mb();return vb({scrollHeight:e.scrollHeight,scrollWidth:e.scrollWidth,width:e.clientWidth,height:e.clientHeight})},yb=function(e){var t=e.critical,n=e.scrollOptions,r=e.registry;_y();var i=function(){var e=nb(),t=gb(),n=e.y,r=e.x,i=mb(),a=i.clientWidth,o=i.clientHeight;return{frame:Sm({top:n,left:r,right:r+a,bottom:n+o}),scroll:{initial:e,current:e,max:t,diff:{value:tg,displacement:tg}}}}(),a=i.scroll.current,o=t.droppable,u=r.droppable.getAllByType(o.type).map((function(e){return e.callbacks.getDimensionAndWatchScroll(a,n)})),s=r.draggable.getAllByType(t.draggable.type).map((function(e){return e.getDimension(a)})),l={draggables:mg(s),droppables:vg(u)};return ky(),{dimensions:l,critical:t,viewport:i}};function bb(e,t,n){return n.descriptor.id!==t.id&&(n.descriptor.type===t.type&&"virtual"===e.droppable.getById(n.descriptor.droppableId).descriptor.mode)}var _b=function(e,t){var n=null,r=function(e){var t=e.registry,n=e.callbacks,r={additions:{},removals:{},modified:{}},i=null,a=function(){i||(n.collectionStarting(),i=requestAnimationFrame((function(){i=null,_y();var e=r,a=e.additions,o=e.removals,u=e.modified,s=Object.keys(a).map((function(e){return t.draggable.getById(e).getDimension(tg)})).sort((function(e,t){return e.descriptor.index-t.descriptor.index})),l=Object.keys(u).map((function(e){return{droppableId:e,scroll:t.droppable.getById(e).callbacks.getScrollWhileDragging()}})),c={additions:s,removals:Object.keys(o),modified:l};r={additions:{},removals:{},modified:{}},ky(),n.publish(c)})))};return{add:function(e){var t=e.descriptor.id;r.additions[t]=e,r.modified[e.descriptor.droppableId]=!0,r.removals[t]&&delete r.removals[t],a()},remove:function(e){var t=e.descriptor;r.removals[t.id]=!0,r.modified[t.droppableId]=!0,r.additions[t.id]&&delete r.additions[t.id],a()},stop:function(){i&&(cancelAnimationFrame(i),i=null,r={additions:{},removals:{},modified:{}})}}}({callbacks:{publish:t.publishWhileDragging,collectionStarting:t.collectionStarting},registry:e}),i=function(t){n||Km(!1);var i=n.critical.draggable;"ADDITION"===t.type&&bb(e,i,t.value)&&r.add(t.value),"REMOVAL"===t.type&&bb(e,i,t.value)&&r.remove(t.value)},a={updateDroppableIsEnabled:function(r,i){e.droppable.exists(r)||Km(!1),n&&t.updateDroppableIsEnabled({id:r,isEnabled:i})},updateDroppableIsCombineEnabled:function(r,i){n&&(e.droppable.exists(r)||Km(!1),t.updateDroppableIsCombineEnabled({id:r,isCombineEnabled:i}))},scrollDroppable:function(t,r){n&&e.droppable.getById(t).callbacks.scroll(r)},updateDroppableScroll:function(r,i){n&&(e.droppable.exists(r)||Km(!1),t.updateDroppableScroll({id:r,newScroll:i}))},startPublishing:function(t){n&&Km(!1);var r=e.draggable.getById(t.draggableId),a=e.droppable.getById(r.descriptor.droppableId),o={draggable:r.descriptor,droppable:a.descriptor},u=e.subscribe(i);return n={critical:o,unsubscribe:u},yb({critical:o,registry:e,scrollOptions:t.scrollOptions})},stopPublishing:function(){if(n){r.stop();var t=n.critical.droppable;e.droppable.getAllByType(t.type).forEach((function(e){return e.callbacks.dragStopped()})),n.unsubscribe(),n=null}}};return a},kb=function(e,t){return"IDLE"===e.phase||"DROP_ANIMATING"===e.phase&&(e.completed.result.draggableId!==t&&"DROP"===e.completed.result.reason)},wb=function(e){window.scrollBy(e.x,e.y)},xb=Um((function(e){return gg(e).filter((function(e){return!!e.isEnabled&&!!e.frame}))})),Ib=function(e){var t=e.center,n=e.destination,r=e.droppables;if(n){var i=r[n];return i.frame?i:null}var a=function(e,t){var n=xb(t).find((function(t){return t.frame||Km(!1),sy(t.frame.pageMarginBox)(e)}))||null;return n}(t,r);return a},Eb={startFromPercentage:.25,maxScrollAtPercentage:.05,maxPixelScroll:28,ease:function(e){return Math.pow(e,2)},durationDampening:{stopDampeningAt:1200,accelerateAt:360}},Sb=function(e){var t=e.startOfRange,n=e.endOfRange,r=e.current,i=n-t;return 0===i?0:(r-t)/i},Cb=Eb.durationDampening.accelerateAt,Tb=Eb.durationDampening.stopDampeningAt,Pb=function(e){var t=e.distanceToEdge,n=e.thresholds,r=e.dragStartTime,i=e.shouldUseTimeDampening,a=function(e,t){if(e>t.startScrollingFrom)return 0;if(e<=t.maxScrollValueAt)return Eb.maxPixelScroll;if(e===t.startScrollingFrom)return 1;var n=1-Sb({startOfRange:t.maxScrollValueAt,endOfRange:t.startScrollingFrom,current:e}),r=Eb.maxPixelScroll*Eb.ease(n);return Math.ceil(r)}(t,n);return 0===a?0:i?Math.max(function(e,t){var n=t,r=Tb,i=Date.now()-n;if(i>=Tb)return e;if(i<Cb)return 1;var a=Sb({startOfRange:Cb,endOfRange:r,current:i}),o=e*Eb.ease(a);return Math.ceil(o)}(a,r),1):a},Nb=function(e){var t=e.container,n=e.distanceToEdges,r=e.dragStartTime,i=e.axis,a=e.shouldUseTimeDampening,o=function(e,t){return{startScrollingFrom:e[t.size]*Eb.startFromPercentage,maxScrollValueAt:e[t.size]*Eb.maxScrollAtPercentage}}(t,i);return n[i.end]<n[i.start]?Pb({distanceToEdge:n[i.end],thresholds:o,dragStartTime:r,shouldUseTimeDampening:a}):-1*Pb({distanceToEdge:n[i.start],thresholds:o,dragStartTime:r,shouldUseTimeDampening:a})},Rb=lg((function(e){return 0===e?0:e})),Db=function(e){var t=e.dragStartTime,n=e.container,r=e.subject,i=e.center,a=e.shouldUseTimeDampening,o={top:i.y-n.top,right:n.right-i.x,bottom:n.bottom-i.y,left:i.x-n.left},u=Nb({container:n,distanceToEdges:o,dragStartTime:t,axis:Ng,shouldUseTimeDampening:a}),s=Nb({container:n,distanceToEdges:o,dragStartTime:t,axis:Rg,shouldUseTimeDampening:a}),l=Rb({x:s,y:u});if(ig(l,tg))return null;var c=function(e){var t=e.container,n=e.subject,r=e.proposedScroll,i=n.height>t.height,a=n.width>t.width;return a||i?a&&i?null:{x:a?0:r.x,y:i?0:r.y}:r}({container:n,subject:r,proposedScroll:l});return c?ig(c,tg)?null:c:null},Ab=lg((function(e){return 0===e?0:e>0?1:-1})),Ob=function(){var e=function(e,t){return e<0?e:e>t?e-t:0};return function(t){var n=t.current,r=t.max,i=t.change,a=ng(n,i),o={x:e(a.x,r.x),y:e(a.y,r.y)};return ig(o,tg)?null:o}}(),Lb=function(e){var t=e.max,n=e.current,r=e.change,i={x:Math.max(n.x,t.x),y:Math.max(n.y,t.y)},a=Ab(r),o=Ob({max:i,current:n,change:a});return!o||(0!==a.x&&0===o.x||0!==a.y&&0===o.y)},Mb=function(e,t){return Lb({current:e.scroll.current,max:e.scroll.max,change:t})},Fb=function(e,t){var n=e.frame;return!!n&&Lb({current:n.scroll.current,max:n.scroll.max,change:t})},Ub=function(e){var t=e.state,n=e.dragStartTime,r=e.shouldUseTimeDampening,i=e.scrollWindow,a=e.scrollDroppable,o=t.current.page.borderBoxCenter,u=t.dimensions.draggables[t.critical.draggable.id].page.marginBox;if(t.isWindowScrollAllowed){var s=function(e){var t=e.viewport,n=e.subject,r=e.center,i=e.dragStartTime,a=e.shouldUseTimeDampening,o=Db({dragStartTime:i,container:t.frame,subject:n,center:r,shouldUseTimeDampening:a});return o&&Mb(t,o)?o:null}({dragStartTime:n,viewport:t.viewport,subject:u,center:o,shouldUseTimeDampening:r});if(s)return void i(s)}var l=Ib({center:o,destination:ay(t.impact),droppables:t.dimensions.droppables});if(l){var c=function(e){var t=e.droppable,n=e.subject,r=e.center,i=e.dragStartTime,a=e.shouldUseTimeDampening,o=t.frame;if(!o)return null;var u=Db({dragStartTime:i,container:o.pageMarginBox,subject:n,center:r,shouldUseTimeDampening:a});return u&&Fb(t,u)?u:null}({dragStartTime:n,droppable:l,subject:u,center:o,shouldUseTimeDampening:r});c&&a(l.descriptor.id,c)}},jb=function(e){var t=e.move,n=e.scrollDroppable,r=e.scrollWindow,i=function(e,t){if(!Fb(e,t))return t;var r=function(e,t){var n=e.frame;return n&&Fb(e,t)?Ob({current:n.scroll.current,max:n.scroll.max,change:t}):null}(e,t);if(!r)return n(e.descriptor.id,t),null;var i=rg(t,r);return n(e.descriptor.id,i),rg(t,i)},a=function(e,t,n){if(!e)return n;if(!Mb(t,n))return n;var i=function(e,t){if(!Mb(e,t))return null;var n=e.scroll.max,r=e.scroll.current;return Ob({current:r,max:n,change:t})}(t,n);if(!i)return r(n),null;var a=rg(n,i);return r(a),rg(n,a)};return function(e){var n=e.scrollJumpRequest;if(n){var r=ay(e.impact);r||Km(!1);var o=i(e.dimensions.droppables[r],n);if(o){var u=e.viewport,s=a(e.isWindowScrollAllowed,u,o);s&&function(e,n){var r=ng(e.current.client.selection,n);t({client:r})}(e,s)}}}},Bb=function(e){var t=e.scrollDroppable,n=e.scrollWindow,r=e.move,i=function(e){var t=e.scrollWindow,n=e.scrollDroppable,r=zm(t),i=zm(n),a=null,o=function(e){a||Km(!1);var t=a,n=t.shouldUseTimeDampening,o=t.dragStartTime;Ub({state:e,scrollWindow:r,scrollDroppable:i,dragStartTime:o,shouldUseTimeDampening:n})};return{start:function(e){_y(),a&&Km(!1);var t=Date.now(),n=!1,r=function(){n=!0};Ub({state:e,dragStartTime:0,shouldUseTimeDampening:!1,scrollWindow:r,scrollDroppable:r}),a={dragStartTime:t,shouldUseTimeDampening:n},ky(),n&&o(e)},stop:function(){a&&(r.cancel(),i.cancel(),a=null)},scroll:o}}({scrollWindow:n,scrollDroppable:t}),a=jb({move:r,scrollWindow:n,scrollDroppable:t});return{scroll:function(e){"DRAGGING"===e.phase&&("FLUID"!==e.movementMode?e.scrollJumpRequest&&a(e):i.scroll(e))},start:i.start,stop:i.stop}},zb="data-rfd",Wb=function(){var e="".concat(zb,"-drag-handle");return{base:e,draggableId:"".concat(e,"-draggable-id"),contextId:"".concat(e,"-context-id")}}(),qb=function(){var e="".concat(zb,"-draggable");return{base:e,contextId:"".concat(e,"-context-id"),id:"".concat(e,"-id")}}(),Vb=function(){var e="".concat(zb,"-droppable");return{base:e,contextId:"".concat(e,"-context-id"),id:"".concat(e,"-id")}}(),Hb={contextId:"".concat(zb,"-scroll-container-context-id")},Gb=function(e,t){return e.map((function(e){var n=e.styles[t];return n?"".concat(e.selector," { ").concat(n," }"):""})).join(" ")},Kb="undefined"!==typeof window&&"undefined"!==typeof window.document&&"undefined"!==typeof window.document.createElement?t.useLayoutEffect:t.useEffect,$b=function(){var e=document.querySelector("head");return e||Km(!1),e},Yb=function(e){var t=document.createElement("style");return e&&t.setAttribute("nonce",e),t.type="text/css",t};function Qb(e,n){var r=xm((function(){return function(e){var t,n=(t=e,function(e){return"[".concat(e,'="').concat(t,'"]')}),r=function(){var e="\n      cursor: -webkit-grab;\n      cursor: grab;\n    ";return{selector:n(Wb.contextId),styles:{always:"\n          -webkit-touch-callout: none;\n          -webkit-tap-highlight-color: rgba(0,0,0,0);\n          touch-action: manipulation;\n        ",resting:e,dragging:"pointer-events: none;",dropAnimating:e}}}(),i=[function(){var e="\n      transition: ".concat($y.outOfTheWay,";\n    ");return{selector:n(qb.contextId),styles:{dragging:e,dropAnimating:e,userCancel:e}}}(),r,{selector:n(Vb.contextId),styles:{always:"overflow-anchor: none;"}},{selector:"body",styles:{dragging:"\n        cursor: grabbing;\n        cursor: -webkit-grabbing;\n        user-select: none;\n        -webkit-user-select: none;\n        -moz-user-select: none;\n        -ms-user-select: none;\n        overflow-anchor: none;\n      "}}];return{always:Gb(i,"always"),resting:Gb(i,"resting"),dragging:Gb(i,"dragging"),dropAnimating:Gb(i,"dropAnimating"),userCancel:Gb(i,"userCancel")}}(e)}),[e]),i=(0,t.useRef)(null),a=(0,t.useRef)(null),o=Im(Um((function(e){var t=a.current;t||Km(!1),t.textContent=e})),[]),u=Im((function(e){var t=i.current;t||Km(!1),t.textContent=e}),[]);Kb((function(){(i.current||a.current)&&Km(!1);var t=Yb(n),s=Yb(n);return i.current=t,a.current=s,t.setAttribute("".concat(zb,"-always"),e),s.setAttribute("".concat(zb,"-dynamic"),e),$b().appendChild(t),$b().appendChild(s),u(r.always),o(r.resting),function(){var e=function(e){var t=e.current;t||Km(!1),$b().removeChild(t),e.current=null};e(i),e(a)}}),[n,u,o,r.always,r.resting,e]);var s=Im((function(){return o(r.dragging)}),[o,r.dragging]),l=Im((function(e){o("DROP"!==e?r.userCancel:r.dropAnimating)}),[o,r.dropAnimating,r.userCancel]),c=Im((function(){a.current&&o(r.resting)}),[o,r.resting]);return xm((function(){return{dragging:s,dropping:l,resting:c}}),[s,l,c])}function Jb(e,t){return Array.from(e.querySelectorAll(t))}var Xb=function(e){var t;return(null==e||null==(t=e.ownerDocument)?void 0:t.defaultView)||window};function Zb(e){return e instanceof Xb(e).HTMLElement}function e_(e,t){var n="[".concat(Wb.contextId,'="').concat(e,'"]'),r=Jb(document,n);if(!r.length)return null;var i=r.find((function(e){return e.getAttribute(Wb.draggableId)===t}));return i&&Zb(i)?i:null}function t_(){var e={draggables:{},droppables:{}},t=[];function n(e){t.length&&t.forEach((function(t){return t(e)}))}function r(t){return e.draggables[t]||null}function i(t){return e.droppables[t]||null}return{draggable:{register:function(t){e.draggables[t.descriptor.id]=t,n({type:"ADDITION",value:t})},update:function(t,n){var r=e.draggables[n.descriptor.id];r&&r.uniqueId===t.uniqueId&&(delete e.draggables[n.descriptor.id],e.draggables[t.descriptor.id]=t)},unregister:function(t){var i=t.descriptor.id,a=r(i);a&&t.uniqueId===a.uniqueId&&(delete e.draggables[i],e.droppables[t.descriptor.droppableId]&&n({type:"REMOVAL",value:t}))},getById:function(e){var t=r(e);return t||Km(!1),t},findById:r,exists:function(e){return Boolean(r(e))},getAllByType:function(t){return Object.values(e.draggables).filter((function(e){return e.descriptor.type===t}))}},droppable:{register:function(t){e.droppables[t.descriptor.id]=t},unregister:function(t){var n=i(t.descriptor.id);n&&t.uniqueId===n.uniqueId&&delete e.droppables[t.descriptor.id]},getById:function(e){var t=i(e);return t||Km(!1),t},findById:i,exists:function(e){return Boolean(i(e))},getAllByType:function(t){return Object.values(e.droppables).filter((function(e){return e.descriptor.type===t}))}},subscribe:function(e){return t.push(e),function(){var n=t.indexOf(e);-1!==n&&t.splice(n,1)}},clean:function(){e.draggables={},e.droppables={},t.length=0}}}var n_=t.createContext(null),r_=function(){var e=document.body;return e||Km(!1),e},i_={position:"absolute",width:"1px",height:"1px",margin:"-1px",border:"0",padding:"0",overflow:"hidden",clip:"rect(0 0 0 0)","clip-path":"inset(100%)"};var a_=0,o_={separator:"::"};function u_(e,t){return void 0===t&&(t=o_),xm((function(){return"".concat(e).concat(t.separator).concat(a_++)}),[t.separator,e])}var s_=t.createContext(null);function l_(e){0}function c_(e,t){l_()}function d_(){c_()}function f_(e){var n=(0,t.useRef)(e);return(0,t.useEffect)((function(){n.current=e})),n}function h_(e){return"IDLE"!==e.phase&&"DROP_ANIMATING"!==e.phase&&e.isDragging}var p_=(b(jm={},13,!0),b(jm,9,!0),jm),v_=function(e){p_[e.keyCode]&&e.preventDefault()},m_=function(){var e="visibilitychange";return"undefined"===typeof document?e:[e,"ms".concat(e),"webkit".concat(e),"moz".concat(e),"o".concat(e)].find((function(e){return"on".concat(e)in document}))||e}();var g_={type:"IDLE"};function y_(e){var t=e.cancel,n=e.completed,r=e.getPhase,i=e.setPhase;return[{eventName:"mousemove",fn:function(e){var t=e.button,n=e.clientX,a=e.clientY;if(0===t){var o={x:n,y:a},u=r();if("DRAGGING"===u.type)return e.preventDefault(),void u.actions.move(o);"PENDING"!==u.type&&Km(!1);var s=u.point;if(l=s,c=o,Math.abs(c.x-l.x)>=5||Math.abs(c.y-l.y)>=5){var l,c;e.preventDefault();var d=u.actions.fluidLift(o);i({type:"DRAGGING",actions:d})}}}},{eventName:"mouseup",fn:function(e){var i=r();"DRAGGING"===i.type?(e.preventDefault(),i.actions.drop({shouldBlockNextClick:!0}),n()):t()}},{eventName:"mousedown",fn:function(e){"DRAGGING"===r().type&&e.preventDefault(),t()}},{eventName:"keydown",fn:function(e){if("PENDING"!==r().type)return 27===e.keyCode?(e.preventDefault(),void t()):void v_(e);t()}},{eventName:"resize",fn:t},{eventName:"scroll",options:{passive:!0,capture:!1},fn:function(){"PENDING"===r().type&&t()}},{eventName:"webkitmouseforcedown",fn:function(e){var n=r();"IDLE"===n.type&&Km(!1),n.actions.shouldRespectForcePress()?t():e.preventDefault()}},{eventName:m_,fn:t}]}function b_(){}var __=(b(Bm={},34,!0),b(Bm,33,!0),b(Bm,36,!0),b(Bm,35,!0),Bm);function k_(e,t){function n(){t(),e.cancel()}return[{eventName:"keydown",fn:function(r){return 27===r.keyCode?(r.preventDefault(),void n()):32===r.keyCode?(r.preventDefault(),t(),void e.drop()):40===r.keyCode?(r.preventDefault(),void e.moveDown()):38===r.keyCode?(r.preventDefault(),void e.moveUp()):39===r.keyCode?(r.preventDefault(),void e.moveRight()):37===r.keyCode?(r.preventDefault(),void e.moveLeft()):void(__[r.keyCode]?r.preventDefault():v_(r))}},{eventName:"mousedown",fn:n},{eventName:"mouseup",fn:n},{eventName:"click",fn:n},{eventName:"touchstart",fn:n},{eventName:"resize",fn:n},{eventName:"wheel",fn:n,options:{passive:!0}},{eventName:m_,fn:n}]}var w_={type:"IDLE"};var x_=["input","button","textarea","select","option","optgroup","video","audio"];function I_(e,t){if(null==t)return!1;if(x_.includes(t.tagName.toLowerCase()))return!0;var n=t.getAttribute("contenteditable");return"true"===n||""===n||t!==e&&I_(e,t.parentElement)}function E_(e,t){var n=t.target;return!!Zb(n)&&I_(e,n)}var S_=function(e){return Sm(e.getBoundingClientRect()).center};var C_=function(){var e="matches";return"undefined"===typeof document?e:[e,"msMatchesSelector","webkitMatchesSelector"].find((function(e){return e in Element.prototype}))||e}();function T_(e,t){return null==e?null:e[C_](t)?e:T_(e.parentElement,t)}function P_(e,t){return e.closest?e.closest(t):T_(e,t)}function N_(e,t){var n,r=t.target;if(!((n=r)instanceof Xb(n).Element))return null;var i=function(e){return"[".concat(Wb.contextId,'="').concat(e,'"]')}(e),a=P_(r,i);return a&&Zb(a)?a:null}function R_(e){e.preventDefault()}function D_(e){var t=e.expected,n=e.phase,r=e.isLockActive;e.shouldWarn;return!!r()&&t===n}function A_(e){var t=e.lockAPI,n=e.store,r=e.registry,i=e.draggableId;if(t.isClaimed())return!1;var a=r.draggable.findById(i);return!!a&&(!!a.options.isEnabled&&!!kb(n.getState(),i))}function O_(e){var t=e.lockAPI,n=e.contextId,r=e.store,i=e.registry,a=e.draggableId,o=e.forceSensorStop,u=e.sourceEvent;if(!A_({lockAPI:t,store:r,registry:i,draggableId:a}))return null;var s=i.draggable.getById(a),l=function(e,t){var n="[".concat(qb.contextId,'="').concat(e,'"]'),r=Jb(document,n).find((function(e){return e.getAttribute(qb.id)===t}));return r&&Zb(r)?r:null}(n,s.descriptor.id);if(!l)return null;if(u&&!s.options.canDragInteractiveElements&&E_(l,u))return null;var c=t.claim(o||qm),d="PRE_DRAG";function f(){return s.options.shouldRespectForcePress}function h(){return t.isActive(c)}var p=function(e,t){D_({expected:e,phase:d,isLockActive:h,shouldWarn:!0})&&r.dispatch(t())}.bind(null,"DRAGGING");function v(e){function n(){t.release(),d="COMPLETED"}function i(t,i){if(void 0===i&&(i={shouldBlockNextClick:!1}),e.cleanup(),i.shouldBlockNextClick){var a=Vm(window,[{eventName:"click",fn:R_,options:{once:!0,passive:!1,capture:!0}}]);setTimeout(a)}n(),r.dispatch(jy({reason:t}))}return"PRE_DRAG"!==d&&(n(),Km(!1)),r.dispatch(function(e){return{type:"LIFT",payload:e}}(e.liftActionArgs)),d="DRAGGING",We({isActive:function(){return D_({expected:"DRAGGING",phase:d,isLockActive:h,shouldWarn:!1})},shouldRespectForcePress:f,drop:function(e){return i("DROP",e)},cancel:function(e){return i("CANCEL",e)}},e.actions)}var m={isActive:function(){return D_({expected:"PRE_DRAG",phase:d,isLockActive:h,shouldWarn:!1})},shouldRespectForcePress:f,fluidLift:function(e){var t=zm((function(e){p((function(){return Ay({client:e})}))}));return We(We({},v({liftActionArgs:{id:a,clientSelection:e,movementMode:"FLUID"},cleanup:function(){return t.cancel()},actions:{move:t}})),{},{move:t})},snapLift:function(){var e={moveUp:function(){return p(Oy)},moveRight:function(){return p(My)},moveDown:function(){return p(Ly)},moveLeft:function(){return p(Fy)}};return v({liftActionArgs:{id:a,clientSelection:S_(l),movementMode:"SNAP"},cleanup:qm,actions:e})},abort:function(){D_({expected:"PRE_DRAG",phase:d,isLockActive:h,shouldWarn:!0})&&t.release()}};return m}var L_=[function(e){var n=(0,t.useRef)(g_),r=(0,t.useRef)(qm),i=xm((function(){return{eventName:"mousedown",fn:function(t){if(!t.defaultPrevented&&0===t.button&&!(t.ctrlKey||t.metaKey||t.shiftKey||t.altKey)){var n=e.findClosestDraggableId(t);if(n){var i=e.tryGetLock(n,u,{sourceEvent:t});if(i){t.preventDefault();var a={x:t.clientX,y:t.clientY};r.current(),c(i,a)}}}}}}),[e]),a=xm((function(){return{eventName:"webkitmouseforcewillbegin",fn:function(t){if(!t.defaultPrevented){var n=e.findClosestDraggableId(t);if(n){var r=e.findOptionsForDraggable(n);r&&(r.shouldRespectForcePress||e.canGetLock(n)&&t.preventDefault())}}}}}),[e]),o=Im((function(){r.current=Vm(window,[a,i],{passive:!1,capture:!0})}),[a,i]),u=Im((function(){"IDLE"!==n.current.type&&(n.current=g_,r.current(),o())}),[o]),s=Im((function(){var e=n.current;u(),"DRAGGING"===e.type&&e.actions.cancel({shouldBlockNextClick:!0}),"PENDING"===e.type&&e.actions.abort()}),[u]),l=Im((function(){var e=y_({cancel:s,completed:u,getPhase:function(){return n.current},setPhase:function(e){n.current=e}});r.current=Vm(window,e,{capture:!0,passive:!1})}),[s,u]),c=Im((function(e,t){"IDLE"!==n.current.type&&Km(!1),n.current={type:"PENDING",point:t,actions:e},l()}),[l]);Kb((function(){return o(),function(){r.current()}}),[o])},function(e){var n=(0,t.useRef)(b_),r=xm((function(){return{eventName:"keydown",fn:function(t){if(!t.defaultPrevented&&32===t.keyCode){var r=e.findClosestDraggableId(t);if(r){var a=e.tryGetLock(r,s,{sourceEvent:t});if(a){t.preventDefault();var o=!0,u=a.snapLift();n.current(),n.current=Vm(window,k_(u,s),{capture:!0,passive:!1})}}}function s(){o||Km(!1),o=!1,n.current(),i()}}}}),[e]),i=Im((function(){n.current=Vm(window,[r],{passive:!1,capture:!0})}),[r]);Kb((function(){return i(),function(){n.current()}}),[i])},function(e){var n=(0,t.useRef)(w_),r=(0,t.useRef)(qm),i=Im((function(){return n.current}),[]),a=Im((function(e){n.current=e}),[]),o=xm((function(){return{eventName:"touchstart",fn:function(t){if(!t.defaultPrevented){var n=e.findClosestDraggableId(t);if(n){var i=e.tryGetLock(n,s,{sourceEvent:t});if(i){var a=t.touches[0],o={x:a.clientX,y:a.clientY};r.current(),f(i,o)}}}}}}),[e]),u=Im((function(){r.current=Vm(window,[o],{capture:!0,passive:!1})}),[o]),s=Im((function(){var e=n.current;"IDLE"!==e.type&&("PENDING"===e.type&&clearTimeout(e.longPressTimerId),a(w_),r.current(),u())}),[u,a]),l=Im((function(){var e=n.current;s(),"DRAGGING"===e.type&&e.actions.cancel({shouldBlockNextClick:!0}),"PENDING"===e.type&&e.actions.abort()}),[s]),c=Im((function(){var e={capture:!0,passive:!1},t={cancel:l,completed:s,getPhase:i},n=Vm(window,function(e){var t=e.cancel,n=e.completed,r=e.getPhase;return[{eventName:"touchmove",options:{capture:!1},fn:function(e){var n=r();if("DRAGGING"===n.type){n.hasMoved=!0;var i=e.touches[0],a={x:i.clientX,y:i.clientY};e.preventDefault(),n.actions.move(a)}else t()}},{eventName:"touchend",fn:function(e){var i=r();"DRAGGING"===i.type?(e.preventDefault(),i.actions.drop({shouldBlockNextClick:!0}),n()):t()}},{eventName:"touchcancel",fn:function(e){"DRAGGING"===r().type?(e.preventDefault(),t()):t()}},{eventName:"touchforcechange",fn:function(e){var n=r();"IDLE"===n.type&&Km(!1);var i=e.touches[0];if(i&&i.force>=.15){var a=n.actions.shouldRespectForcePress();if("PENDING"!==n.type)return a?n.hasMoved?void e.preventDefault():void t():void e.preventDefault();a&&t()}}},{eventName:m_,fn:t}]}(t),e),a=Vm(window,function(e){var t=e.cancel,n=e.getPhase;return[{eventName:"orientationchange",fn:t},{eventName:"resize",fn:t},{eventName:"contextmenu",fn:function(e){e.preventDefault()}},{eventName:"keydown",fn:function(e){"DRAGGING"===n().type?(27===e.keyCode&&e.preventDefault(),t()):t()}},{eventName:m_,fn:t}]}(t),e);r.current=function(){n(),a()}}),[l,i,s]),d=Im((function(){var e=i();"PENDING"!==e.type&&Km(!1);var t=e.actions.fluidLift(e.point);a({type:"DRAGGING",actions:t,hasMoved:!1})}),[i,a]),f=Im((function(e,t){"IDLE"!==i().type&&Km(!1);var n=setTimeout(d,120);a({type:"PENDING",point:t,actions:e,longPressTimerId:n}),c()}),[c,i,a,d]);Kb((function(){return u(),function(){r.current();var e=i();"PENDING"===e.type&&(clearTimeout(e.longPressTimerId),a(w_))}}),[i,u,a]),Kb((function(){return Vm(window,[{eventName:"touchmove",fn:function(){},options:{capture:!1,passive:!1}}])}),[])}];function M_(e){var n=e.contextId,r=e.store,i=e.registry,a=e.customSensors,o=e.enableDefaultSensors,u=[].concat(Te(o?L_:[]),Te(a||[])),s=(0,t.useState)((function(){return function(){var e=null;function t(){e||Km(!1),e=null}return{isClaimed:function(){return Boolean(e)},isActive:function(t){return t===e},claim:function(t){e&&Km(!1);var n={abandon:t};return e=n,n},release:t,tryAbandon:function(){e&&(e.abandon(),t())}}}()}))[0],l=Im((function(e,t){h_(e)&&!h_(t)&&s.tryAbandon()}),[s]);Kb((function(){var e=r.getState();return r.subscribe((function(){var t=r.getState();l(e,t),e=t}))}),[s,r,l]),Kb((function(){return s.tryAbandon}),[s.tryAbandon]);var c=Im((function(e){return A_({lockAPI:s,registry:i,store:r,draggableId:e})}),[s,i,r]),d=Im((function(e,t,a){return O_({lockAPI:s,registry:i,contextId:n,store:r,draggableId:e,forceSensorStop:t||null,sourceEvent:a&&a.sourceEvent?a.sourceEvent:null})}),[n,s,i,r]),f=Im((function(e){return function(e,t){var n=N_(e,t);return n?n.getAttribute(Wb.draggableId):null}(n,e)}),[n]),h=Im((function(e){var t=i.draggable.findById(e);return t?t.options:null}),[i.draggable]),p=Im((function(){s.isClaimed()&&(s.tryAbandon(),"IDLE"!==r.getState().phase&&r.dispatch({type:"FLUSH",payload:null}))}),[s,r]),v=Im((function(){return s.isClaimed()}),[s]),m=xm((function(){return{canGetLock:c,tryGetLock:d,findClosestDraggableId:f,findOptionsForDraggable:h,tryReleaseLock:p,isLockClaimed:v}}),[c,d,f,h,p,v]);l_();for(var g=0;g<u.length;g++)u[g](m)}function F_(e){return e.current||Km(!1),e.current}function U_(e){var n=e.contextId,r=e.setCallbacks,i=e.sensors,a=e.nonce,o=e.dragHandleUsageInstructions,u=(0,t.useRef)(null);d_();var s=f_(e),l=Im((function(){return function(e){return{onBeforeCapture:function(n){var r=function(){e.onBeforeCapture&&e.onBeforeCapture(n)};t.version.startsWith("16")||t.version.startsWith("17")?r():(0,Tv.flushSync)(r)},onBeforeDragStart:e.onBeforeDragStart,onDragStart:e.onDragStart,onDragEnd:e.onDragEnd,onDragUpdate:e.onDragUpdate}}(s.current)}),[s]),c=function(e){var n=xm((function(){return function(e){return"rfd-announcement-".concat(e)}(e)}),[e]),r=(0,t.useRef)(null);return(0,t.useEffect)((function(){var e=document.createElement("div");return r.current=e,e.id=n,e.setAttribute("aria-live","assertive"),e.setAttribute("aria-atomic","true"),Vv(e.style,i_),r_().appendChild(e),function(){setTimeout((function(){var t=r_();t.contains(e)&&t.removeChild(e),e===r.current&&(r.current=null)}))}}),[n]),Im((function(e){var t=r.current;t&&(t.textContent=e)}),[])}(n),d=function(e){var n=e.contextId,r=e.text,i=u_("hidden-text",{separator:"-"}),a=xm((function(){return function(e){var t=e.contextId,n=e.uniqueId;return"rfd-hidden-text-".concat(t,"-").concat(n)}({contextId:n,uniqueId:i})}),[i,n]);return(0,t.useEffect)((function(){var e=document.createElement("div");return e.id=a,e.textContent=r,e.style.display="none",r_().appendChild(e),function(){var t=r_();t.contains(e)&&t.removeChild(e)}}),[a,r]),a}({contextId:n,text:o}),f=Qb(n,a),h=Im((function(e){F_(u).dispatch(e)}),[]),p=xm((function(){return Mv({publishWhileDragging:Ty,updateDroppableScroll:Ny,updateDroppableIsEnabled:Ry,updateDroppableIsCombineEnabled:Dy,collectionStarting:Py},h)}),[h]),v=function(){var e=xm(t_,[]);return(0,t.useEffect)((function(){return function(){t.version.startsWith("16")||t.version.startsWith("17")?requestAnimationFrame(e.clean):e.clean()}}),[e]),e}(),m=xm((function(){return _b(v,p)}),[v,p]),g=xm((function(){return Bb(We({scrollWindow:wb,scrollDroppable:m.scrollDroppable},Mv({move:Ay},h)))}),[m.scrollDroppable,h]),y=function(e){var n=(0,t.useRef)({}),r=(0,t.useRef)(null),i=(0,t.useRef)(null),a=(0,t.useRef)(!1),o=Im((function(e,t){var r={id:e,focus:t};return n.current[e]=r,function(){var t=n.current;t[e]!==r&&delete t[e]}}),[]),u=Im((function(t){var n=e_(e,t);n&&n!==document.activeElement&&n.focus()}),[e]),s=Im((function(e,t){r.current===e&&(r.current=t)}),[]),l=Im((function(){i.current||a.current&&(i.current=requestAnimationFrame((function(){i.current=null;var e=r.current;e&&u(e)})))}),[u]),c=Im((function(e){r.current=null;var t=document.activeElement;t&&t.getAttribute(Wb.draggableId)===e&&(r.current=e)}),[]);return Kb((function(){return a.current=!0,function(){a.current=!1;var e=i.current;e&&cancelAnimationFrame(e)}}),[]),xm((function(){return{register:o,tryRecordFocus:c,tryRestoreFocusRecorded:l,tryShiftRecord:s}}),[o,c,l,s])}(n),b=xm((function(){return pb({announce:c,autoScroller:g,dimensionMarshal:m,focusMarshal:y,getResponders:l,styleMarshal:f})}),[c,g,m,y,l,f]);u.current=b;var _=Im((function(){var e=F_(u);"IDLE"!==e.getState().phase&&e.dispatch({type:"FLUSH",payload:null})}),[]),k=Im((function(){var e=F_(u).getState();return"DROP_ANIMATING"===e.phase||"IDLE"!==e.phase&&e.isDragging}),[]);r(xm((function(){return{isDragging:k,tryAbort:_}}),[k,_]));var w=Im((function(e){return kb(F_(u).getState(),e)}),[]),x=Im((function(){return uy(F_(u).getState())}),[]),I=xm((function(){return{marshal:m,focus:y,contextId:n,canLift:w,isMovementAllowed:x,dragHandleUsageInstructionsId:d,registry:v}}),[n,m,d,y,w,x,v]);return M_({contextId:n,store:b,registry:v,customSensors:i||null,enableDefaultSensors:!1!==e.enableDefaultSensors}),(0,t.useEffect)((function(){return _}),[_]),t.createElement(s_.Provider,{value:I},t.createElement(bm,{context:n_,store:b},e.children))}var j_=0;function B_(e){var n=xm((function(){return"".concat(j_++)}),[]),r=e.dragHandleUsageInstructions||eg.dragHandleUsageInstructions;return t.createElement($m,null,(function(i){return t.createElement(U_,{nonce:e.nonce,contextId:n,setCallbacks:i,dragHandleUsageInstructions:r,enableDefaultSensors:e.enableDefaultSensors,sensors:e.sensors,onBeforeCapture:e.onBeforeCapture,onBeforeDragStart:e.onBeforeDragStart,onDragStart:e.onDragStart,onDragUpdate:e.onDragUpdate,onDragEnd:e.onDragEnd},e.children)}))}var z_=5e3,W_=4500,q_=function(e,t){return t?$y.drop(t.duration):e?$y.snap:$y.fluid},V_=function(e,t){if(e)return t?qy.drop:qy.combining};function H_(e){return"DRAGGING"===e.type?function(e){var t=e.dimension.client,n=e.offset,r=e.combineWith,i=e.dropping,a=Boolean(r),o=function(e){return null!=e.forceShouldAnimate?e.forceShouldAnimate:"SNAP"===e.mode}(e),u=Boolean(i),s=u?Jy(n,a):Qy(n);return{position:"fixed",top:t.marginBox.top,left:t.marginBox.left,boxSizing:"border-box",width:t.borderBox.width,height:t.borderBox.height,transition:q_(o,i),transform:s,opacity:V_(a,u),zIndex:u?W_:z_,pointerEvents:"none"}}(e):{transform:Qy((t=e).offset),transition:t.shouldAnimateDisplacement?void 0:"none"};var t}function G_(e){var n=u_("draggable"),r=e.descriptor,i=e.registry,a=e.getDraggableRef,o=e.canDragInteractiveElements,u=e.shouldRespectForcePress,s=e.isEnabled,l=xm((function(){return{canDragInteractiveElements:o,shouldRespectForcePress:u,isEnabled:s}}),[o,s,u]),c=Im((function(e){var t=a();return t||Km(!1),function(e,t,n){void 0===n&&(n=tg);var r=window.getComputedStyle(t),i=t.getBoundingClientRect(),a=Om(i,r),o=Am(a,n);return{descriptor:e,placeholder:{client:a,tagName:t.tagName.toLowerCase(),display:r.display},displaceBy:{x:a.marginBox.width,y:a.marginBox.height},client:a,page:o}}(r,t,e)}),[r,a]),d=xm((function(){return{uniqueId:n,descriptor:r,options:l,getDimension:c}}),[r,c,l,n]),f=(0,t.useRef)(d),h=(0,t.useRef)(!0);Kb((function(){return i.draggable.register(f.current),function(){return i.draggable.unregister(f.current)}}),[i.draggable]),Kb((function(){if(h.current)h.current=!1;else{var e=f.current;f.current=d,i.draggable.update(d,e)}}),[d,i.draggable])}var K_=t.createContext(null);function $_(e){var n=(0,t.useContext)(e);return n||Km(!1),n}function Y_(e){e.preventDefault()}var Q_=function(e){var n=(0,t.useRef)(null),r=Im((function(e){void 0===e&&(e=null),n.current=e}),[]),i=Im((function(){return n.current}),[]),a=$_(s_),o=a.contextId,u=a.dragHandleUsageInstructionsId,s=a.registry,l=$_(K_),c=l.type,d=l.droppableId,f=xm((function(){return{id:e.draggableId,index:e.index,type:c,droppableId:d}}),[e.draggableId,e.index,c,d]),h=e.children,p=e.draggableId,v=e.isEnabled,m=e.shouldRespectForcePress,g=e.canDragInteractiveElements,y=e.isClone,b=e.mapped,_=e.dropAnimationFinished;(c_(),l_(),y)||G_(xm((function(){return{descriptor:f,registry:s,getDraggableRef:i,canDragInteractiveElements:g,shouldRespectForcePress:m,isEnabled:v}}),[f,s,i,g,m,v]));var k=xm((function(){return v?{tabIndex:0,role:"button","aria-describedby":u,"data-rfd-drag-handle-draggable-id":p,"data-rfd-drag-handle-context-id":o,draggable:!1,onDragStart:Y_}:null}),[o,u,p,v]),w=Im((function(e){"DRAGGING"===b.type&&b.dropping&&"transform"===e.propertyName&&(t.version.startsWith("16")||t.version.startsWith("17")?_():(0,Tv.flushSync)(_))}),[_,b]),x=xm((function(){var e=H_(b),t="DRAGGING"===b.type&&b.dropping?w:void 0;return{innerRef:r,draggableProps:{"data-rfd-draggable-context-id":o,"data-rfd-draggable-id":p,style:e,onTransitionEnd:t},dragHandleProps:k}}),[o,k,p,b,w,r]),I=xm((function(){return{draggableId:f.id,type:f.type,source:{index:f.index,droppableId:f.droppableId}}}),[f.droppableId,f.id,f.index,f.type]);return t.createElement(t.Fragment,null,h(x,b.snapshot,I))},J_=function(e,t){return e===t},X_=function(e){var t=e.combine,n=e.destination;return n?n.droppableId:t?t.droppableId:null};function Z_(e){return void 0===e&&(e=null),{isDragging:!1,isDropAnimating:!1,isClone:!1,dropAnimation:null,mode:null,draggingOver:null,combineTargetFor:e,combineWith:null}}var ek={mapped:{type:"SECONDARY",offset:tg,combineTargetFor:null,shouldAnimateDisplacement:!0,snapshot:Z_(null)}};var tk=ym((function(){var e=function(){var e=Um((function(e,t){return{x:e,y:t}})),t=Um((function(e,t,n,r,i){return void 0===n&&(n=null),void 0===r&&(r=null),void 0===i&&(i=null),{isDragging:!0,isClone:t,isDropAnimating:Boolean(i),dropAnimation:i,mode:e,draggingOver:n,combineWith:r,combineTargetFor:null}})),n=Um((function(e,n,r,i,a,o,u){return void 0===a&&(a=null),void 0===o&&(o=null),void 0===u&&(u=null),{mapped:{type:"DRAGGING",dropping:null,draggingOver:a,combineWith:o,mode:n,offset:e,dimension:r,forceShouldAnimate:u,snapshot:t(n,i,a,o,null)}}}));return function(r,i){if(h_(r)){if(r.critical.draggable.id!==i.draggableId)return null;var a=r.current.client.offset,o=r.dimensions.draggables[i.draggableId],u=ay(r.impact),s=(c=r.impact).at&&"COMBINE"===c.at.type?c.at.combine.draggableId:null,l=r.forceShouldAnimate;return n(e(a.x,a.y),r.movementMode,o,i.isClone,u,s,l)}var c;if("DROP_ANIMATING"===r.phase){var d=r.completed;if(d.result.draggableId!==i.draggableId)return null;var f=i.isClone,h=r.dimensions.draggables[i.draggableId],p=d.result,v=p.mode,m=X_(p),g=function(e){return e.combine?e.combine.draggableId:null}(p),y={duration:r.dropDuration,curve:Wy,moveTo:r.newHomeClientOffset,opacity:g?qy.drop:null,scale:g?Vy.drop:null};return{mapped:{type:"DRAGGING",offset:r.newHomeClientOffset,dimension:h,dropping:y,draggingOver:m,combineWith:g,mode:v,forceShouldAnimate:null,snapshot:t(v,f,m,g,y)}}}return null}}(),t=function(){var e=Um((function(e,t){return{x:e,y:t}})),t=Um(Z_),n=Um((function(e,n,r){return void 0===n&&(n=null),{mapped:{type:"SECONDARY",offset:e,combineTargetFor:n,shouldAnimateDisplacement:r,snapshot:t(n)}}})),r=function(e){return e?n(tg,e,!0):null},i=function(t,i,a,o){var u=a.displaced.visible[t],s=Boolean(o.inVirtualList&&o.effected[t]),l=kg(a),c=l&&l.draggableId===t?i:null;if(!u){if(!s)return r(c);if(a.displaced.invisible[t])return null;var d=ag(o.displacedBy.point),f=e(d.x,d.y);return n(f,c,!0)}if(s)return r(c);var h=a.displacedBy.point,p=e(h.x,h.y);return n(p,c,u.shouldAnimate)};return function(e,t){if(h_(e))return e.critical.draggable.id===t.draggableId?null:i(t.draggableId,e.critical.draggable.id,e.impact,e.afterCritical);if("DROP_ANIMATING"===e.phase){var n=e.completed;return n.result.draggableId===t.draggableId?null:i(t.draggableId,n.result.draggableId,n.impact,n.afterCritical)}return null}}();return function(n,r){return e(n,r)||t(n,r)||ek}}),{dropAnimationFinished:By},null,{context:n_,areStatePropsEqual:J_})(Q_),nk=tk;function rk(e){return $_(K_).isUsingCloneFor!==e.draggableId||e.isClone?t.createElement(nk,e):null}function ik(e){var n="boolean"!==typeof e.isDragDisabled||!e.isDragDisabled,r=Boolean(e.disableInteractiveElementBlocking),i=Boolean(e.shouldRespectForcePress);return t.createElement(rk,Vv({},e,{isClone:!1,isEnabled:n,canDragInteractiveElements:r,shouldRespectForcePress:i}))}var ak=function(e){return function(t){return e===t}},ok=ak("scroll"),uk=ak("auto"),sk=(ak("visible"),function(e,t){return t(e.overflowX)||t(e.overflowY)}),lk=function(e){var t=window.getComputedStyle(e),n={overflowX:t.overflowX,overflowY:t.overflowY};return sk(n,ok)||sk(n,uk)},ck=function e(t){return null==t||t===document.body||t===document.documentElement?null:lk(t)?t:e(t.parentElement)},dk=function(e){return{x:e.scrollLeft,y:e.scrollTop}},fk=function e(t){return!!t&&("fixed"===window.getComputedStyle(t).position||e(t.parentElement))},hk=function(e){return{closestScrollable:ck(e),isFixedOnPage:fk(e)}},pk=function(e){var t=e.ref,n=e.descriptor,r=e.env,i=e.windowScroll,a=e.direction,o=e.isDropDisabled,u=e.isCombineEnabled,s=e.shouldClipSubject,l=r.closestScrollable,c=function(e,t){var n=Lm(e);if(!t)return n;if(e!==t)return n;var r=n.paddingBox.top-t.scrollTop,i=n.paddingBox.left-t.scrollLeft,a=r+t.scrollHeight,o=i+t.scrollWidth,u=Cm({top:r,right:o,bottom:a,left:i},n.border);return Nm({borderBox:u,margin:n.margin,border:n.border,padding:n.padding})}(t,l),d=Am(c,i),f=function(){if(!l)return null;var e=Lm(l),t={scrollHeight:l.scrollHeight,scrollWidth:l.scrollWidth};return{client:e,page:Am(e,i),scroll:dk(l),scrollSize:t,shouldClipSubject:s}}(),h=function(e){var t=e.descriptor,n=e.isEnabled,r=e.isCombineEnabled,i=e.isFixedOnPage,a=e.direction,o=e.client,u=e.page,s=e.closest,l=function(){if(!s)return null;var e=s.scrollSize,t=s.client,n=vb({scrollHeight:e.scrollHeight,scrollWidth:e.scrollWidth,height:t.paddingBox.height,width:t.paddingBox.width});return{pageMarginBox:s.page.marginBox,frameClient:t,scrollSize:e,shouldClipSubject:s.shouldClipSubject,scroll:{initial:s.scroll,current:s.scroll,max:n,diff:{value:tg,displacement:tg}}}}(),c="vertical"===a?Ng:Rg;return{descriptor:t,isCombineEnabled:r,isFixedOnPage:i,axis:c,isEnabled:n,client:o,page:u,frame:l,subject:hg({page:u,withPlaceholder:null,axis:c,frame:l})}}({descriptor:n,isEnabled:!o,isCombineEnabled:u,isFixedOnPage:r.isFixedOnPage,direction:a,client:c,page:d,closest:f});return h},vk={passive:!1},mk={passive:!0},gk=function(e){return e.shouldPublishImmediately?vk:mk},yk=function(e){return e&&e.env.closestScrollable||null};function bk(){}var _k={width:0,height:0,margin:{top:0,right:0,bottom:0,left:0}},kk=function(e){var t=e.isAnimatingOpenOnMount,n=e.placeholder,r=e.animate,i=function(e){var t=e.isAnimatingOpenOnMount,n=e.placeholder,r=e.animate;return t||"close"===r?_k:{height:n.client.borderBox.height,width:n.client.borderBox.width,margin:n.client.margin}}({isAnimatingOpenOnMount:t,placeholder:n,animate:r});return{display:n.display,boxSizing:"border-box",width:i.width,height:i.height,marginTop:i.margin.top,marginRight:i.margin.right,marginBottom:i.margin.bottom,marginLeft:i.margin.left,flexShrink:"0",flexGrow:"0",pointerEvents:"none",transition:"none"!==r?$y.placeholder:null}},wk=t.memo((function(e){var n=(0,t.useRef)(null),r=Im((function(){n.current&&(clearTimeout(n.current),n.current=null)}),[]),i=e.animate,a=e.onTransitionEnd,o=e.onClose,u=e.contextId,s=l((0,t.useState)("open"===e.animate),2),c=s[0],d=s[1];(0,t.useEffect)((function(){return c?"open"!==i?(r(),d(!1),bk):n.current?bk:(n.current=setTimeout((function(){n.current=null,d(!1)})),r):bk}),[i,c,r]);var f=Im((function(e){"height"===e.propertyName&&(a(),"close"===i&&o())}),[i,o,a]),h=kk({isAnimatingOpenOnMount:c,animate:e.animate,placeholder:e.placeholder});return t.createElement(e.placeholder.tagName,{style:h,"data-rfd-placeholder-context-id":u,onTransitionEnd:f,ref:e.innerRef})}));var xk=function(e){S(n,e);var t=N(n);function n(){var e;return _(this,n),(e=t.apply(this,arguments)).state={isVisible:Boolean(e.props.on),data:e.props.on,animate:e.props.shouldAnimate&&e.props.on?"open":"none"},e.onClose=function(){"close"===e.state.animate&&e.setState({isVisible:!1})},e}return w(n,[{key:"render",value:function(){if(!this.state.isVisible)return null;var e={onClose:this.onClose,data:this.state.data,animate:this.state.animate};return this.props.children(e)}}],[{key:"getDerivedStateFromProps",value:function(e,t){return e.shouldAnimate?e.on?{isVisible:!0,data:e.on,animate:"open"}:t.isVisible?{isVisible:!0,data:t.data,animate:"close"}:{isVisible:!1,animate:"close",data:null}:{isVisible:Boolean(e.on),data:e.on,animate:"none"}}}]),n}(t.PureComponent),Ik=function(e){var n=(0,t.useContext)(s_);n||Km(!1);var r=n.contextId,i=n.isMovementAllowed,a=(0,t.useRef)(null),o=(0,t.useRef)(null),u=e.children,s=e.droppableId,l=e.type,c=e.mode,d=e.direction,f=e.ignoreContainerClipping,h=e.isDropDisabled,p=e.isCombineEnabled,v=e.snapshot,m=e.useClone,g=e.updateViewportMaxScroll,y=e.getContainerForClone,b=Im((function(){return a.current}),[]),_=Im((function(e){void 0===e&&(e=null),a.current=e}),[]),k=(Im((function(){return o.current}),[]),Im((function(e){void 0===e&&(e=null),o.current=e}),[]));c_();var w=Im((function(){i()&&g({maxScroll:gb()})}),[i,g]);!function(e){var n=(0,t.useRef)(null),r=$_(s_),i=u_("droppable"),a=r.registry,o=r.marshal,u=f_(e),s=xm((function(){return{id:e.droppableId,type:e.type,mode:e.mode}}),[e.droppableId,e.mode,e.type]),l=(0,t.useRef)(s),c=xm((function(){return Um((function(e,t){n.current||Km(!1);var r={x:e,y:t};o.updateDroppableScroll(s.id,r)}))}),[s.id,o]),d=Im((function(){var e=n.current;return e&&e.env.closestScrollable?dk(e.env.closestScrollable):tg}),[]),f=Im((function(){var e=d();c(e.x,e.y)}),[d,c]),h=xm((function(){return zm(f)}),[f]),p=Im((function(){var e=n.current,t=yk(e);e&&t||Km(!1),e.scrollOptions.shouldPublishImmediately?f():h()}),[h,f]),v=Im((function(e,t){n.current&&Km(!1);var i=u.current,a=i.getDroppableRef();a||Km(!1);var o=hk(a),l={ref:a,descriptor:s,env:o,scrollOptions:t};n.current=l;var c=pk({ref:a,descriptor:s,env:o,windowScroll:e,direction:i.direction,isDropDisabled:i.isDropDisabled,isCombineEnabled:i.isCombineEnabled,shouldClipSubject:!i.ignoreContainerClipping}),d=o.closestScrollable;return d&&(d.setAttribute(Hb.contextId,r.contextId),d.addEventListener("scroll",p,gk(l.scrollOptions))),c}),[r.contextId,s,p,u]),m=Im((function(){var e=n.current,t=yk(e);return e&&t||Km(!1),dk(t)}),[]),g=Im((function(){var e=n.current;e||Km(!1);var t=yk(e);n.current=null,t&&(h.cancel(),t.removeAttribute(Hb.contextId),t.removeEventListener("scroll",p,gk(e.scrollOptions)))}),[p,h]),y=Im((function(e){var t=n.current;t||Km(!1);var r=yk(t);r||Km(!1),r.scrollTop+=e.y,r.scrollLeft+=e.x}),[]),b=xm((function(){return{getDimensionAndWatchScroll:v,getScrollWhileDragging:m,dragStopped:g,scroll:y}}),[g,v,m,y]),_=xm((function(){return{uniqueId:i,descriptor:s,callbacks:b}}),[b,s,i]);Kb((function(){return l.current=_.descriptor,a.droppable.register(_),function(){n.current&&g(),a.droppable.unregister(_)}}),[b,s,g,_,o,a.droppable]),Kb((function(){n.current&&o.updateDroppableIsEnabled(l.current.id,!e.isDropDisabled)}),[e.isDropDisabled,o]),Kb((function(){n.current&&o.updateDroppableIsCombineEnabled(l.current.id,e.isCombineEnabled)}),[e.isCombineEnabled,o])}({droppableId:s,type:l,mode:c,direction:d,isDropDisabled:h,isCombineEnabled:p,ignoreContainerClipping:f,getDroppableRef:b});var x=xm((function(){return t.createElement(xk,{on:e.placeholder,shouldAnimate:e.shouldAnimatePlaceholder},(function(e){var n=e.onClose,i=e.data,a=e.animate;return t.createElement(wk,{placeholder:i,onClose:n,innerRef:k,animate:a,contextId:r,onTransitionEnd:w})}))}),[r,w,e.placeholder,e.shouldAnimatePlaceholder,k]),I=xm((function(){return{innerRef:_,placeholder:x,droppableProps:{"data-rfd-droppable-id":s,"data-rfd-droppable-context-id":r}}}),[r,s,x,_]),E=m?m.dragging.draggableId:null,S=xm((function(){return{droppableId:s,type:l,isUsingCloneFor:E}}),[s,E,l]);return t.createElement(K_.Provider,{value:S},u(I,v),function(){if(!m)return null;var e=m.dragging,n=m.render,r=t.createElement(rk,{draggableId:e.draggableId,index:e.source.index,isClone:!0,isEnabled:!0,shouldRespectForcePress:!1,canDragInteractiveElements:!0},(function(t,r){return n(t,r,e)}));return Tv.createPortal(r,y())}())},Ek=function(e,t){return e===t.droppable.type},Sk=function(e,t){return t.draggables[e.draggable.id]};var Ck={mode:"standard",type:"DEFAULT",direction:"vertical",isDropDisabled:!1,isCombineEnabled:!1,ignoreContainerClipping:!1,renderClone:null,getContainerForClone:function(){return document.body||Km(!1),document.body}},Tk=ym((function(){var e={placeholder:null,shouldAnimatePlaceholder:!0,snapshot:{isDraggingOver:!1,draggingOverWith:null,draggingFromThisWith:null,isUsingPlaceholder:!1},useClone:null},t=We(We({},e),{},{shouldAnimatePlaceholder:!1}),n=Um((function(e){return{draggableId:e.id,type:e.type,source:{index:e.index,droppableId:e.droppableId}}})),r=Um((function(r,i,a,o,u,s){var l=u.descriptor.id;if(u.descriptor.droppableId===r){var c=s?{render:s,dragging:n(u.descriptor)}:null,d={isDraggingOver:a,draggingOverWith:a?l:null,draggingFromThisWith:l,isUsingPlaceholder:!0};return{placeholder:u.placeholder,shouldAnimatePlaceholder:!1,snapshot:d,useClone:c}}if(!i)return t;if(!o)return e;var f={isDraggingOver:a,draggingOverWith:l,draggingFromThisWith:null,isUsingPlaceholder:!0};return{placeholder:u.placeholder,shouldAnimatePlaceholder:!0,snapshot:f,useClone:null}}));return function(n,i){var a=i.droppableId,o=i.type,u=!i.isDropDisabled,s=i.renderClone;if(h_(n)){var l=n.critical;if(!Ek(o,l))return t;var c=Sk(l,n.dimensions),d=ay(n.impact)===a;return r(a,u,d,d,c,s)}if("DROP_ANIMATING"===n.phase){var f=n.completed;if(!Ek(o,f.critical))return t;var h=Sk(f.critical,n.dimensions);return r(a,u,X_(f.result)===a,ay(f.impact)===a,h,s)}if("IDLE"===n.phase&&n.completed&&!n.shouldFlush){var p=n.completed;if(!Ek(o,p.critical))return t;var v=ay(p.impact)===a,m=Boolean(p.impact.at&&"COMBINE"===p.impact.at.type),g=p.critical.droppable.id===a;return v?m?e:t:g?e:t}return t}}),{updateViewportMaxScroll:function(e){return{type:"UPDATE_VIEWPORT_MAX_SCROLL",payload:e}}},null,{context:n_,areStatePropsEqual:J_})(Ik);Tk.defaultProps=Ck;var Pk=Tk;var Nk=function(e){var t=e.todo,n=kv().updateTodo,r=h(),i=t.completed&&(0,c.jsx)("img",{src:"./images/icon-check.svg",alt:"Completed"});return(0,c.jsx)("div",{className:"border-wrap ".concat(!r&&"border-wrap__dark"," ").concat(t.completed&&"completed-border-wrap"),onClick:function(){return n(We(We({},t),{},{completed:!t.completed}))},children:(0,c.jsx)("button",{className:"todo-icon ".concat(t.completed&&"completed-todo"),children:i})})};var Rk=function(e){var t=kv().deleteTodo,n=e.todo,r=e.index,i=n.completed?(0,c.jsx)("s",{children:n.action}):n.action,a=h(),o=function(){t(e.todo)};return(0,c.jsx)(ik,{draggableId:n.key.toString(),index:r,children:function(e){return(0,c.jsxs)("li",We(We(We({id:n.key.toString(),className:"todo-item ".concat(!a&&"todo-item__dark"),ref:e.innerRef},e.draggableProps),e.dragHandleProps),{},{children:[(0,c.jsx)(Nk,{todo:n}),(0,c.jsx)("p",{children:i}),(0,c.jsx)("img",{alt:"delete",src:"./images/icon-cross.svg",className:"todo-delete",onClick:o})]}))}},n.key)};var Dk=function(e){var t=h(),n=kv().updateTodo;return(0,c.jsx)(B_,{onDragEnd:function(t){var r;if(!(e.filteredTodoList.length<=1)&&t.destination){var i=t.destination.index,a=i-1,o=i+1,u=e.filteredTodoList.splice(t.source.index,1);(r=e.filteredTodoList).splice.apply(r,[i,0].concat(Te(u)));u[0].order=o===e.filteredTodoList.length?e.filteredTodoList[a].order+1:i>0?(e.filteredTodoList[o].order+e.filteredTodoList[a].order)/2:e.filteredTodoList[1].order-1,n(u[0])}},children:(0,c.jsx)(Pk,{droppableId:"todos",children:function(n){return(0,c.jsxs)("ul",We(We({className:"todo-list ".concat(!t&&"todo-list__dark")},n.droppableProps),{},{ref:n.innerRef,children:[e.filteredTodoList.map((function(e,t){return(0,c.jsx)(Rk,{todo:e,index:t},e.key)})),n.placeholder]}))}})})};var Ak=function(){return(0,c.jsxs)("div",{id:"fountainG",children:[(0,c.jsx)("div",{id:"fountainG_1",className:"fountainG"}),(0,c.jsx)("div",{id:"fountainG_2",className:"fountainG"}),(0,c.jsx)("div",{id:"fountainG_3",className:"fountainG"}),(0,c.jsx)("div",{id:"fountainG_4",className:"fountainG"}),(0,c.jsx)("div",{id:"fountainG_5",className:"fountainG"}),(0,c.jsx)("div",{id:"fountainG_6",className:"fountainG"}),(0,c.jsx)("div",{id:"fountainG_7",className:"fountainG"}),(0,c.jsx)("div",{id:"fountainG_8",className:"fountainG"})]})},Ok=function(e,t){return{completed:!1,action:e,order:t}};var Lk=function(){var e=kv(),n=e.readTodo,r=e.updateTodo,i=e.todoList,a=e.error,o=e.loading,u=l((0,t.useState)(null),2),s=u[0],d=u[1];(0,t.useEffect)((function(){n()}),[]);var f=(0,t.useMemo)((function(){return i.filter((function(e){return null===s||e.completed===s}))}),[i,s]);return(0,c.jsxs)(c.Fragment,{children:[(0,c.jsx)(bv.Provider,{value:i,children:a?(0,c.jsx)("p",{style:{color:"red",textAlign:"center"},children:a}):(0,c.jsxs)("main",{children:[(0,c.jsx)(pv,{children:(0,c.jsx)(Cv,{})}),o?(0,c.jsx)(Ak,{}):(0,c.jsxs)(pv,{children:[(0,c.jsx)(Dk,{callUpdateTodo:r,filteredTodoList:f}),(0,c.jsx)(Sv,{callUpdateTodo:r,callFilterTodoList:function(e){return d(e)}})]})]})}),(0,c.jsx)("p",{className:"list-instructions",children:" Drag and drop to reorder list "})]})};var Mk,Fk=function(){return(0,c.jsx)("footer",{children:(0,c.jsxs)("article",{children:["Challenge by"," ",(0,c.jsx)("a",{href:"https://www.frontendmentor.io?ref=challenge",target:"_blank",rel:"noreferrer",children:"Frontend Mentor"}),". Coded by"," ",(0,c.jsx)("a",{href:"https://www.linkedin.com/in/olha-churyk-733aa1180/",target:"_blank",rel:"noreferrer",children:"Olha Churyk"}),"."]})})};function Uk(){return Uk=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Uk.apply(this,arguments)}!function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"}(Mk||(Mk={}));var jk,Bk="popstate";function zk(e){return{usr:e.state,key:e.key}}function Wk(e,t,n,r){return void 0===n&&(n=null),Uk({pathname:"string"===typeof e?e:e.pathname,search:"",hash:""},"string"===typeof t?Vk(t):t,{state:n,key:t&&t.key||r||Math.random().toString(36).substr(2,8)})}function qk(e){var t=e.pathname,n=void 0===t?"/":t,r=e.search,i=void 0===r?"":r,a=e.hash,o=void 0===a?"":a;return i&&"?"!==i&&(n+="?"===i.charAt(0)?i:"?"+i),o&&"#"!==o&&(n+="#"===o.charAt(0)?o:"#"+o),n}function Vk(e){var t={};if(e){var n=e.indexOf("#");n>=0&&(t.hash=e.substr(n),e=e.substr(0,n));var r=e.indexOf("?");r>=0&&(t.search=e.substr(r),e=e.substr(0,r)),e&&(t.pathname=e)}return t}function Hk(e){var t="undefined"!==typeof window&&"undefined"!==typeof window.location&&"null"!==window.location.origin?window.location.origin:"unknown://unknown",n="string"===typeof e?e:qk(e);return new URL(n,t)}function Gk(e,t,n,r){void 0===r&&(r={});var i=r,a=i.window,o=void 0===a?document.defaultView:a,u=i.v5Compat,s=void 0!==u&&u,l=o.history,c=Mk.Pop,d=null;function f(){c=Mk.Pop,d&&d({action:c,location:h.location})}var h={get action(){return c},get location(){return e(o,l)},listen:function(e){if(d)throw new Error("A history only accepts one active listener");return o.addEventListener(Bk,f),d=e,function(){o.removeEventListener(Bk,f),d=null}},createHref:function(e){return t(o,e)},encodeLocation:function(e){var t=Hk(qk(e));return Uk({},e,{pathname:t.pathname,search:t.search,hash:t.hash})},push:function(e,t){c=Mk.Push;var r=Wk(h.location,e,t);n&&n(r,e);var i=zk(r),a=h.createHref(r);try{l.pushState(i,"",a)}catch(bn){o.location.assign(a)}s&&d&&d({action:c,location:h.location})},replace:function(e,t){c=Mk.Replace;var r=Wk(h.location,e,t);n&&n(r,e);var i=zk(r),a=h.createHref(r);l.replaceState(i,"",a),s&&d&&d({action:c,location:h.location})},go:function(e){return l.go(e)}};return h}function Kk(e,t,n){void 0===n&&(n="/");var r=tw(("string"===typeof t?Vk(t):t).pathname||"/",n);if(null==r)return null;var i=$k(e);!function(e){e.sort((function(e,t){return e.score!==t.score?t.score-e.score:function(e,t){var n=e.length===t.length&&e.slice(0,-1).every((function(e,n){return e===t[n]}));return n?e[e.length-1]-t[t.length-1]:0}(e.routesMeta.map((function(e){return e.childrenIndex})),t.routesMeta.map((function(e){return e.childrenIndex})))}))}(i);for(var a=null,o=0;null==a&&o<i.length;++o)a=Xk(i[o],ew(r));return a}function $k(e,t,n,r){return void 0===t&&(t=[]),void 0===n&&(n=[]),void 0===r&&(r=""),e.forEach((function(e,i){var a={relativePath:e.path||"",caseSensitive:!0===e.caseSensitive,childrenIndex:i,route:e};a.relativePath.startsWith("/")&&(nw(a.relativePath.startsWith(r),'Absolute route path "'+a.relativePath+'" nested under path "'+r+'" is not valid. An absolute child route path must start with the combined path of all its parent routes.'),a.relativePath=a.relativePath.slice(r.length));var o=uw([r,a.relativePath]),u=n.concat(a);e.children&&e.children.length>0&&(nw(!0!==e.index,'Index routes must not have child routes. Please remove all child routes from route path "'+o+'".'),$k(e.children,t,u,o)),(null!=e.path||e.index)&&t.push({path:o,score:Jk(o,e.index),routesMeta:u})})),t}!function(e){e.data="data",e.deferred="deferred",e.redirect="redirect",e.error="error"}(jk||(jk={}));var Yk=/^:\w+$/,Qk=function(e){return"*"===e};function Jk(e,t){var n=e.split("/"),r=n.length;return n.some(Qk)&&(r+=-2),t&&(r+=2),n.filter((function(e){return!Qk(e)})).reduce((function(e,t){return e+(Yk.test(t)?3:""===t?1:10)}),r)}function Xk(e,t){for(var n=e.routesMeta,r={},i="/",a=[],o=0;o<n.length;++o){var u=n[o],s=o===n.length-1,l="/"===i?t:t.slice(i.length)||"/",c=Zk({path:u.relativePath,caseSensitive:u.caseSensitive,end:s},l);if(!c)return null;Object.assign(r,c.params);var d=u.route;a.push({params:r,pathname:uw([i,c.pathname]),pathnameBase:sw(uw([i,c.pathnameBase])),route:d}),"/"!==c.pathnameBase&&(i=uw([i,c.pathnameBase]))}return a}function Zk(e,t){"string"===typeof e&&(e={path:e,caseSensitive:!1,end:!0});var n=function(e,t,n){void 0===t&&(t=!1);void 0===n&&(n=!0);rw("*"===e||!e.endsWith("*")||e.endsWith("/*"),'Route path "'+e+'" will be treated as if it were "'+e.replace(/\*$/,"/*")+'" because the `*` character must always follow a `/` in the pattern. To get rid of this warning, please change the route path to "'+e.replace(/\*$/,"/*")+'".');var r=[],i="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^$?{}|()[\]]/g,"\\$&").replace(/:(\w+)/g,(function(e,t){return r.push(t),"([^\\/]+)"}));e.endsWith("*")?(r.push("*"),i+="*"===e||"/*"===e?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?i+="\\/*$":""!==e&&"/"!==e&&(i+="(?:(?=\\/|$))");return[new RegExp(i,t?void 0:"i"),r]}(e.path,e.caseSensitive,e.end),r=l(n,2),i=r[0],a=r[1],o=t.match(i);if(!o)return null;var u=o[0],s=u.replace(/(.)\/+$/,"$1"),c=o.slice(1),d=a.reduce((function(e,t,n){if("*"===t){var r=c[n]||"";s=u.slice(0,u.length-r.length).replace(/(.)\/+$/,"$1")}return e[t]=function(e,t){try{return decodeURIComponent(e)}catch(bn){return rw(!1,'The value for the URL param "'+t+'" will not be decoded because the string "'+e+'" is a malformed URL segment. This is probably due to a bad percent encoding ('+bn+")."),e}}(c[n]||"",t),e}),{});return{params:d,pathname:u,pathnameBase:s,pattern:e}}function ew(e){try{return decodeURI(e)}catch(bn){return rw(!1,'The URL path "'+e+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent encoding ('+bn+")."),e}}function tw(e,t){if("/"===t)return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;var n=t.endsWith("/")?t.length-1:t.length,r=e.charAt(n);return r&&"/"!==r?null:e.slice(n)||"/"}function nw(e,t){if(!1===e||null===e||"undefined"===typeof e)throw new Error(t)}function rw(e,t){if(!e){"undefined"!==typeof console&&console.warn(t);try{throw new Error(t)}catch(n){}}}function iw(e,t,n,r){return"Cannot include a '"+e+"' character in a manually specified `to."+t+"` field ["+JSON.stringify(r)+"].  Please separate it out to the `to."+n+'` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.'}function aw(e){return e.filter((function(e,t){return 0===t||e.route.path&&e.route.path.length>0}))}function ow(e,t,n,r){var i;void 0===r&&(r=!1),"string"===typeof e?i=Vk(e):(nw(!(i=Uk({},e)).pathname||!i.pathname.includes("?"),iw("?","pathname","search",i)),nw(!i.pathname||!i.pathname.includes("#"),iw("#","pathname","hash",i)),nw(!i.search||!i.search.includes("#"),iw("#","search","hash",i)));var a,o=""===e||""===i.pathname,u=o?"/":i.pathname;if(r||null==u)a=n;else{var s=t.length-1;if(u.startsWith("..")){for(var l=u.split("/");".."===l[0];)l.shift(),s-=1;i.pathname=l.join("/")}a=s>=0?t[s]:"/"}var c=function(e,t){void 0===t&&(t="/");var n="string"===typeof e?Vk(e):e,r=n.pathname,i=n.search,a=void 0===i?"":i,o=n.hash,u=void 0===o?"":o,s=r?r.startsWith("/")?r:function(e,t){var n=t.replace(/\/+$/,"").split("/");return e.split("/").forEach((function(e){".."===e?n.length>1&&n.pop():"."!==e&&n.push(e)})),n.length>1?n.join("/"):"/"}(r,t):t;return{pathname:s,search:lw(a),hash:cw(u)}}(i,a),d=u&&"/"!==u&&u.endsWith("/"),f=(o||"."===u)&&n.endsWith("/");return c.pathname.endsWith("/")||!d&&!f||(c.pathname+="/"),c}var uw=function(e){return e.join("/").replace(/\/\/+/g,"/")},sw=function(e){return e.replace(/\/+$/,"").replace(/^\/*/,"/")},lw=function(e){return e&&"?"!==e?e.startsWith("?")?e:"?"+e:""},cw=function(e){return e&&"#"!==e?e.startsWith("#")?e:"#"+e:""},dw=function(e){S(n,e);var t=N(n);function n(){return _(this,n),t.apply(this,arguments)}return w(n)}(D(Error));var fw=w((function e(t,n,r){_(this,e),this.status=t,this.statusText=n||"",this.data=r}));function hw(e){return e instanceof fw}"undefined"!==typeof window&&"undefined"!==typeof window.document&&window.document.createElement;var pw=new Set(["POST","PUT","PATCH","DELETE"]);new Set(["GET","HEAD"].concat(Te(pw)));function vw(){return vw=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},vw.apply(this,arguments)}var mw="function"===typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e===1/t)||e!==e&&t!==t},gw=t.useState,yw=t.useEffect,bw=t.useLayoutEffect,_w=t.useDebugValue;function kw(e){var t=e.getSnapshot,n=e.value;try{var r=t();return!mw(n,r)}catch(bn){return!0}}"undefined"===typeof window||"undefined"===typeof window.document||window.document.createElement,r.useSyncExternalStore;var ww=t.createContext(null);var xw=t.createContext(null);var Iw=t.createContext(null);var Ew=t.createContext(null);var Sw=t.createContext(null);var Cw=t.createContext(null);var Tw=t.createContext({outlet:null,matches:[]});var Pw=t.createContext(null);function Nw(){return null!=t.useContext(Cw)}function Rw(){return Nw()||nw(!1),t.useContext(Cw).location}function Dw(){Nw()||nw(!1);var e=t.useContext(Sw),n=e.basename,r=e.navigator,i=t.useContext(Tw).matches,a=Rw().pathname,o=JSON.stringify(aw(i).map((function(e){return e.pathnameBase}))),u=t.useRef(!1);return t.useEffect((function(){u.current=!0})),t.useCallback((function(e,t){if(void 0===t&&(t={}),u.current)if("number"!==typeof e){var i=ow(e,JSON.parse(o),a,"path"===t.relative);"/"!==n&&(i.pathname="/"===i.pathname?n:uw([n,i.pathname])),(t.replace?r.replace:r.push)(i,t.state,t)}else r.go(e)}),[n,r,o,a])}function Aw(e,n){var r=(void 0===n?{}:n).relative,i=t.useContext(Tw).matches,a=Rw().pathname,o=JSON.stringify(aw(i).map((function(e){return e.pathnameBase})));return t.useMemo((function(){return ow(e,JSON.parse(o),a,"path"===r)}),[e,o,a,r])}function Ow(){var e=function(){var e,n=t.useContext(Pw),r=Bw(Mw.UseRouteError),i=t.useContext(Tw),a=i.matches[i.matches.length-1];if(n)return n;return i||nw(!1),!a.route.id&&nw(!1),null==(e=r.errors)?void 0:e[a.route.id]}(),n=hw(e)?e.status+" "+e.statusText:e instanceof Error?e.message:JSON.stringify(e),r=e instanceof Error?e.stack:null,i="rgba(200,200,200, 0.5)",a={padding:"0.5rem",backgroundColor:i},o={padding:"2px 4px",backgroundColor:i};return t.createElement(t.Fragment,null,t.createElement("h2",null,"Unhandled Thrown Error!"),t.createElement("h3",{style:{fontStyle:"italic"}},n),r?t.createElement("pre",{style:a},r):null,t.createElement("p",null,"\ud83d\udcbf Hey developer \ud83d\udc4b"),t.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own\xa0",t.createElement("code",{style:o},"errorElement")," props on\xa0",t.createElement("code",{style:o},"<Route>")))}var Lw,Mw,Fw=function(e){S(r,e);var n=N(r);function r(e){var t;return _(this,r),(t=n.call(this,e)).state={location:e.location,error:e.error},t}return w(r,[{key:"componentDidCatch",value:function(e,t){console.error("React Router caught the following error during render",e,t)}},{key:"render",value:function(){return this.state.error?t.createElement(Pw.Provider,{value:this.state.error,children:this.props.component}):this.props.children}}],[{key:"getDerivedStateFromError",value:function(e){return{error:e}}},{key:"getDerivedStateFromProps",value:function(e,t){return t.location!==e.location?{error:e.error,location:e.location}:{error:e.error||t.error,location:t.location}}}]),r}(t.Component);function Uw(e){var n=e.routeContext,r=e.match,i=e.children,a=t.useContext(ww);return a&&r.route.errorElement&&(a._deepestRenderedBoundaryId=r.route.id),t.createElement(Tw.Provider,{value:n},i)}function jw(e,n,r){if(void 0===n&&(n=[]),null==e){if(null==r||!r.errors)return null;e=r.matches}var i=e,a=null==r?void 0:r.errors;if(null!=a){var o=i.findIndex((function(e){return e.route.id&&(null==a?void 0:a[e.route.id])}));o>=0||nw(!1),i=i.slice(0,Math.min(i.length,o+1))}return i.reduceRight((function(e,o,u){var s=o.route.id?null==a?void 0:a[o.route.id]:null,l=r?o.route.errorElement||t.createElement(Ow,null):null,c=function(){return t.createElement(Uw,{match:o,routeContext:{outlet:e,matches:n.concat(i.slice(0,u+1))}},s?l:void 0!==o.route.element?o.route.element:e)};return r&&(o.route.errorElement||0===u)?t.createElement(Fw,{location:r.location,component:l,error:s,children:c()}):c()}),null)}function Bw(e){var n=t.useContext(Iw);return n||nw(!1),n}!function(e){e.UseRevalidator="useRevalidator"}(Lw||(Lw={})),function(e){e.UseLoaderData="useLoaderData",e.UseActionData="useActionData",e.UseRouteError="useRouteError",e.UseNavigation="useNavigation",e.UseRouteLoaderData="useRouteLoaderData",e.UseMatches="useMatches",e.UseRevalidator="useRevalidator"}(Mw||(Mw={}));var zw;function Ww(e){var n=e.to,r=e.replace,i=e.state,a=e.relative;Nw()||nw(!1);var o=t.useContext(Iw),u=Dw();return t.useEffect((function(){o&&"idle"!==o.navigation.state||u(n,{replace:r,state:i,relative:a})})),null}function qw(e){nw(!1)}function Vw(e){var n=e.basename,r=void 0===n?"/":n,i=e.children,a=void 0===i?null:i,o=e.location,u=e.navigationType,s=void 0===u?Mk.Pop:u,l=e.navigator,c=e.static,d=void 0!==c&&c;Nw()&&nw(!1);var f=r.replace(/^\/*/,"/"),h=t.useMemo((function(){return{basename:f,navigator:l,static:d}}),[f,l,d]);"string"===typeof o&&(o=Vk(o));var p=o,v=p.pathname,m=void 0===v?"/":v,g=p.search,y=void 0===g?"":g,b=p.hash,_=void 0===b?"":b,k=p.state,w=void 0===k?null:k,x=p.key,I=void 0===x?"default":x,E=t.useMemo((function(){var e=tw(m,f);return null==e?null:{pathname:e,search:y,hash:_,state:w,key:I}}),[f,m,y,_,w,I]);return null==E?null:t.createElement(Sw.Provider,{value:h},t.createElement(Cw.Provider,{children:a,value:{location:E,navigationType:s}}))}function Hw(e){var n=e.children,r=e.location,i=t.useContext(xw);return function(e,n){Nw()||nw(!1);var r,i=t.useContext(Iw),a=t.useContext(Tw).matches,o=a[a.length-1],u=o?o.params:{},s=(o&&o.pathname,o?o.pathnameBase:"/"),l=(o&&o.route,Rw());if(n){var c,d="string"===typeof n?Vk(n):n;"/"===s||(null==(c=d.pathname)?void 0:c.startsWith(s))||nw(!1),r=d}else r=l;var f=r.pathname||"/",h=Kk(e,{pathname:"/"===s?f:f.slice(s.length)||"/"}),p=jw(h&&h.map((function(e){return Object.assign({},e,{params:Object.assign({},u,e.params),pathname:uw([s,e.pathname]),pathnameBase:"/"===e.pathnameBase?s:uw([s,e.pathnameBase])})})),a,i||void 0);return n&&p?t.createElement(Cw.Provider,{value:{location:vw({pathname:"/",search:"",hash:"",state:null,key:"default"},r),navigationType:Mk.Pop}},p):p}(i&&!n?i.router.routes:Kw(n),r)}!function(e){e[e.pending=0]="pending",e[e.success=1]="success",e[e.error=2]="error"}(zw||(zw={}));var Gw=new Promise((function(){}));t.Component;function Kw(e,n){void 0===n&&(n=[]);var r=[];return t.Children.forEach(e,(function(e,i){if(t.isValidElement(e))if(e.type!==t.Fragment){e.type!==qw&&nw(!1),e.props.index&&e.props.children&&nw(!1);var a=[].concat(Te(n),[i]),o={id:e.props.id||a.join("-"),caseSensitive:e.props.caseSensitive,element:e.props.element,index:e.props.index,path:e.props.path,loader:e.props.loader,action:e.props.action,errorElement:e.props.errorElement,hasErrorBoundary:null!=e.props.errorElement,shouldRevalidate:e.props.shouldRevalidate,handle:e.props.handle};e.props.children&&(o.children=Kw(e.props.children,a)),r.push(o)}else r.push.apply(r,Kw(e.props.children,n))})),r}function $w(){return $w=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},$w.apply(this,arguments)}function Yw(e,t){if(null==e)return{};var n,r,i={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}var Qw=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset"];function Jw(e){var n,r=e.basename,i=e.children,a=e.window,o=t.useRef();null==o.current&&(o.current=(void 0===(n={window:a,v5Compat:!0})&&(n={}),Gk((function(e,t){var n=e.location;return Wk("",{pathname:n.pathname,search:n.search,hash:n.hash},t.state&&t.state.usr||null,t.state&&t.state.key||"default")}),(function(e,t){return"string"===typeof t?t:qk(t)}),null,n)));var u=o.current,s=l(t.useState({action:u.action,location:u.location}),2),c=s[0],d=s[1];return t.useLayoutEffect((function(){return u.listen(d)}),[u]),t.createElement(Vw,{basename:r,children:i,location:c.location,navigationType:c.action,navigator:u})}var Xw=t.forwardRef((function(e,n){var r=e.onClick,i=e.relative,a=e.reloadDocument,o=e.replace,u=e.state,s=e.target,l=e.to,c=e.preventScrollReset,d=Yw(e,Qw),f=function(e,n){var r=(void 0===n?{}:n).relative;Nw()||nw(!1);var i=t.useContext(Sw),a=i.basename,o=i.navigator,u=Aw(e,{relative:r}),s=u.hash,l=u.pathname,c=u.search,d=l;return"/"!==a&&(d="/"===l?a:uw([a,l])),o.createHref({pathname:d,search:c,hash:s})}(l,{relative:i}),h=function(e,n){var r=void 0===n?{}:n,i=r.target,a=r.replace,o=r.state,u=r.preventScrollReset,s=r.relative,l=Dw(),c=Rw(),d=Aw(e,{relative:s});return t.useCallback((function(t){if(function(e,t){return 0===e.button&&(!t||"_self"===t)&&!function(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}(e)}(t,i)){t.preventDefault();var n=void 0!==a?a:qk(c)===qk(d);l(e,{replace:n,state:o,preventScrollReset:u,relative:s})}}),[c,l,d,a,o,i,e,u,s])}(l,{replace:o,state:u,target:s,preventScrollReset:c,relative:i});return t.createElement("a",$w({},d,{href:f,onClick:a?r:function(e){r&&r(e),e.defaultPrevented||h(e)},ref:n,target:s}))}));var Zw,ex;(function(e){e.UseScrollRestoration="useScrollRestoration",e.UseSubmitImpl="useSubmitImpl",e.UseFetcher="useFetcher"})(Zw||(Zw={})),function(e){e.UseFetchers="useFetchers",e.UseScrollRestoration="useScrollRestoration"}(ex||(ex={}));var tx=function(){var e=Dw(),n=(0,t.useRef)(),r=(0,t.useRef)(),i=(0,t.useRef)(),a=fv().signup,o=l((0,t.useState)(""),2),u=o[0],s=o[1],d=l((0,t.useState)(!1),2),f=d[0],p=d[1],v=h(),g="field_container ".concat(v?"":"field_container__dark"),b={width:"min-content",boxShadow:"0 45px 45px 12px ".concat(v?"hsla(233, 11%, 84%, 0.6)":"rgba(0, 0, 0, 0.6)")};function _(){return(_=y(m().mark((function t(o){return m().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(o.preventDefault(),i.current.value===r.current.value){t.next=3;break}return t.abrupt("return",s("Passwords do not match"));case 3:return t.prev=3,s(""),p(!0),t.next=8,a(n.current.value,r.current.value);case 8:e("/react-todo-list/"),t.next=14;break;case 11:t.prev=11,t.t0=t.catch(3),s(t.t0.message);case 14:p(!1);case 15:case"end":return t.stop()}}),t,null,[[3,11]])})))).apply(this,arguments)}return(0,c.jsxs)(c.Fragment,{children:[(0,c.jsxs)(pv,{style:b,children:[(0,c.jsx)("h2",{className:"login-heading",children:"Sign Up"}),u?(0,c.jsx)("div",{className:"login-error ".concat(!v&&"login-error__dark"),children:u}):null,(0,c.jsxs)("form",{className:"login-form",onSubmit:function(e){return _.apply(this,arguments)},children:[(0,c.jsxs)("div",{className:g,children:[(0,c.jsx)("label",{htmlFor:"email",children:"Email"}),(0,c.jsx)("input",{placeholder:"email",id:"email",required:!0,minLength:5,className:"login-input",ref:n})]}),(0,c.jsxs)("div",{className:g,children:[(0,c.jsx)("label",{htmlFor:"password",children:"Password"}),(0,c.jsx)("input",{placeholder:"password",id:"password",required:!0,minLength:8,type:"password",className:"login-input",ref:r})]}),(0,c.jsxs)("div",{className:g,children:[(0,c.jsx)("label",{htmlFor:"password_repeat",children:"Confirm password"}),(0,c.jsx)("input",{placeholder:"confirm password",id:"password_repeat",required:!0,minLength:8,type:"password",className:"login-input",ref:i})]}),(0,c.jsx)("div",{className:g,children:(0,c.jsx)("button",{type:"submit",className:"login-btn",disabled:f,children:"Sign Up"})})]})]}),(0,c.jsxs)("p",{className:"login-instructions",children:["Already have an account? ",(0,c.jsx)(Xw,{to:"/react-todo-list/login",children:"Log In"})]})]})};var nx=function(){var e=Dw(),n=(0,t.useRef)(),r=(0,t.useRef)(),i=fv().login,a=l((0,t.useState)(""),2),o=a[0],u=a[1],s=l((0,t.useState)(!1),2),d=s[0],f=s[1],p=h(),v="field_container ".concat(p?"":"field_container__dark"),g={width:"min-content",boxShadow:"0 45px 45px 12px ".concat(p?"hsla(233, 11%, 84%, 0.6)":"rgba(0, 0, 0, 0.6)")};function b(){return(b=y(m().mark((function t(a){return m().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a.preventDefault(),t.prev=1,u(""),f(!0),t.next=6,i(n.current.value,r.current.value);case 6:e("/react-todo-list/"),t.next=12;break;case 9:t.prev=9,t.t0=t.catch(1),u(t.t0.message);case 12:f(!1);case 13:case"end":return t.stop()}}),t,null,[[1,9]])})))).apply(this,arguments)}return(0,c.jsxs)(c.Fragment,{children:[(0,c.jsxs)(pv,{style:g,children:[(0,c.jsx)("h2",{className:"login-heading",children:"Log In"}),o?(0,c.jsx)("div",{className:"login-error ".concat(!p&&"login-error__dark"),children:o}):null,(0,c.jsxs)("form",{className:"login-form",onSubmit:function(e){return b.apply(this,arguments)},children:[(0,c.jsxs)("div",{className:v,children:[(0,c.jsx)("label",{htmlFor:"email",children:"Email"}),(0,c.jsx)("input",{placeholder:"email",id:"email",required:!0,className:"login-input",ref:n})]}),(0,c.jsxs)("div",{className:v,children:[(0,c.jsx)("label",{htmlFor:"password",children:"Password"}),(0,c.jsx)("input",{placeholder:"password",id:"password",required:!0,type:"password",className:"login-input",ref:r})]}),(0,c.jsx)("div",{className:v,children:(0,c.jsx)("button",{type:"submit",className:"login-btn",disabled:d,children:"Log In"})})]}),(0,c.jsx)(Xw,{to:"/react-todo-list/forgot-password",className:"forgot-password__link",children:"Forgot password?"})]}),(0,c.jsxs)("p",{className:"login-instructions",children:["Need an account? ",(0,c.jsx)(Xw,{to:"/react-todo-list/signup",children:"Sign Up"})]})]})};function rx(e){var t=e.children;return fv().currentUser?t:(0,c.jsx)(Ww,{to:"/react-todo-list/login"})}var ix=function(){var e=fv().resetPassword,n=Dw(),r=h(),i=(0,t.useRef)(),a=l((0,t.useState)(""),2),o=a[0],u=a[1],s=l((0,t.useState)(!1),2),d=s[0],f=s[1],p=l((0,t.useState)(""),2),v=p[0],g=p[1],b="field_container ".concat(r?"":"field_container__dark"),_={width:"min-content",boxShadow:"0 45px 45px 12px ".concat(r?"hsla(233, 11%, 84%, 0.6)":"rgba(0, 0, 0, 0.6)")};function k(){return(k=y(m().mark((function t(n){return m().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n.preventDefault(),t.prev=1,g(""),u(""),f(!0),t.next=7,e(i.current.value);case 7:g("Check you inbox for further instructions"),t.next=13;break;case 10:t.prev=10,t.t0=t.catch(1),u(t.t0.message);case 13:f(!1);case 14:case"end":return t.stop()}}),t,null,[[1,10]])})))).apply(this,arguments)}return(0,c.jsxs)(c.Fragment,{children:[(0,c.jsxs)(pv,{style:_,children:[(0,c.jsx)("h2",{className:"login-heading",children:"Password Reset"}),o?(0,c.jsx)("div",{className:"login-error ".concat(!r&&"login-error__dark"),children:o}):null,(0,c.jsx)("div",{className:"password-reset_message ".concat(!r&&"password-reset_message__dark"),style:{display:v?"block":"none"},children:v}),(0,c.jsxs)("form",{className:"login-form",onSubmit:function(e){return k.apply(this,arguments)},children:[(0,c.jsxs)("div",{className:b,children:[(0,c.jsx)("label",{htmlFor:"email",children:"Email"}),(0,c.jsx)("input",{id:"email",placeholder:"email",type:"email",required:!0,className:"login-input",ref:i})]}),(0,c.jsx)("div",{className:b,children:(0,c.jsx)("button",{type:"submit",className:"login-btn",disabled:d,children:"Reset Password"})})]}),(0,c.jsx)("p",{onClick:function(){return n("/react-todo-list/login")},className:"forgot-password__link",children:"Back to Login"})]}),(0,c.jsx)("p",{className:"login-instructions",children:"You will reseive an email with link to reset your password."})]})};var ax=function(){var e=l((0,t.useState)(!1),2),n=e[0],r=e[1],i=(0,t.useRef)({});return(0,c.jsx)("div",{onClick:function(e){i.current&&!i.current.contains(e.target)&&r(!1)},children:(0,c.jsxs)(p,{children:[(0,c.jsx)(Jw,{children:(0,c.jsxs)(hv,{children:[(0,c.jsx)(yv,{menuClicked:n,setMenuClicked:r,ref:i}),(0,c.jsxs)(Hw,{children:[(0,c.jsx)(qw,{exact:!0,path:"/",element:(0,c.jsx)(Ww,{to:"/react-todo-list"})}),(0,c.jsx)(qw,{exact:!0,path:"/react-todo-list",element:(0,c.jsxs)(rx,{children:[(0,c.jsx)(Lk,{})," "]})}),(0,c.jsx)(qw,{path:"/react-todo-list/signup",element:(0,c.jsx)(tx,{})}),(0,c.jsx)(qw,{path:"/react-todo-list/login",element:(0,c.jsx)(nx,{})}),(0,c.jsx)(qw,{path:"/react-todo-list/forgot-password",element:(0,c.jsx)(ix,{})})]})]})}),(0,c.jsx)(Fk,{})]})})};i.createRoot(document.getElementById("root")).render((0,c.jsx)(t.StrictMode,{children:(0,c.jsx)(ax,{})}))}()}();
//# sourceMappingURL=main.7f2f4aad.js.map